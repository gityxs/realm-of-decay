"use strict";(self.webpackChunkrealm_of_decay=self.webpackChunkrealm_of_decay||[]).push([[179],{114:()=>{function jr(t){return"function"==typeof t}let Bi=!1;const jt={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const n=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+n.stack)}else Bi&&console.log("RxJS: Back to a better error behavior. Thank you. <3");Bi=t},get useDeprecatedSynchronousErrorHandling(){return Bi}};function tr(t){setTimeout(()=>{throw t},0)}const ts={closed:!0,next(t){},error(t){if(jt.useDeprecatedSynchronousErrorHandling)throw t;tr(t)},complete(){}},wl=Array.isArray||(t=>t&&"number"==typeof t.length);function Dl(t){return null!==t&&"object"==typeof t}const ns=(()=>{function t(n){return Error.call(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((e,r)=>`${r+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n,this}return t.prototype=Object.create(Error.prototype),t})();class He{constructor(n){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,n&&(this._ctorUnsubscribe=!0,this._unsubscribe=n)}unsubscribe(){let n;if(this.closed)return;let{_parentOrParents:e,_ctorUnsubscribe:r,_unsubscribe:i,_subscriptions:o}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,e instanceof He)e.remove(this);else if(null!==e)for(let s=0;s<e.length;++s)e[s].remove(this);if(jr(i)){r&&(this._unsubscribe=void 0);try{i.call(this)}catch(s){n=s instanceof ns?If(s.errors):[s]}}if(wl(o)){let s=-1,a=o.length;for(;++s<a;){const l=o[s];if(Dl(l))try{l.unsubscribe()}catch(c){n=n||[],c instanceof ns?n=n.concat(If(c.errors)):n.push(c)}}}if(n)throw new ns(n)}add(n){let e=n;if(!n)return He.EMPTY;switch(typeof n){case"function":e=new He(n);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof He)){const o=e;e=new He,e._subscriptions=[o]}break;default:throw new Error("unrecognized teardown "+n+" added to Subscription.")}let{_parentOrParents:r}=e;if(null===r)e._parentOrParents=this;else if(r instanceof He){if(r===this)return e;e._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return e;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[e]:i.push(e),e}remove(n){const e=this._subscriptions;if(e){const r=e.indexOf(n);-1!==r&&e.splice(r,1)}}}var t;function If(t){return t.reduce((n,e)=>n.concat(e instanceof ns?e.errors:e),[])}He.EMPTY=((t=new He).closed=!0,t);const rs="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class vt extends He{constructor(n,e,r){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=ts;break;case 1:if(!n){this.destination=ts;break}if("object"==typeof n){n instanceof vt?(this.syncErrorThrowable=n.syncErrorThrowable,this.destination=n,n.add(this)):(this.syncErrorThrowable=!0,this.destination=new Af(this,n));break}default:this.syncErrorThrowable=!0,this.destination=new Af(this,n,e,r)}}[rs](){return this}static create(n,e,r){const i=new vt(n,e,r);return i.syncErrorThrowable=!1,i}next(n){this.isStopped||this._next(n)}error(n){this.isStopped||(this.isStopped=!0,this._error(n))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(n){this.destination.next(n)}_error(n){this.destination.error(n),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:n}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=n,this}}class Af extends vt{constructor(n,e,r,i){super(),this._parentSubscriber=n;let o,s=this;jr(e)?o=e:e&&(o=e.next,r=e.error,i=e.complete,e!==ts&&(s=Object.create(e),jr(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=o,this._error=r,this._complete=i}next(n){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;jt.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,n)&&this.unsubscribe():this.__tryOrUnsub(this._next,n)}}error(n){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:r}=jt;if(this._error)r&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,n),this.unsubscribe()):(this.__tryOrUnsub(this._error,n),this.unsubscribe());else if(e.syncErrorThrowable)r?(e.syncErrorValue=n,e.syncErrorThrown=!0):tr(n),this.unsubscribe();else{if(this.unsubscribe(),r)throw n;tr(n)}}}complete(){if(!this.isStopped){const{_parentSubscriber:n}=this;if(this._complete){const e=()=>this._complete.call(this._context);jt.useDeprecatedSynchronousErrorHandling&&n.syncErrorThrowable?(this.__tryOrSetError(n,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(n,e){try{n.call(this._context,e)}catch(r){if(this.unsubscribe(),jt.useDeprecatedSynchronousErrorHandling)throw r;tr(r)}}__tryOrSetError(n,e,r){if(!jt.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,r)}catch(i){return jt.useDeprecatedSynchronousErrorHandling?(n.syncErrorValue=i,n.syncErrorThrown=!0,!0):(tr(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:n}=this;this._context=null,this._parentSubscriber=null,n.unsubscribe()}}const Vi="function"==typeof Symbol&&Symbol.observable||"@@observable";function Pf(t){return t}let ht=(()=>{class t{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(e){const r=new t;return r.source=this,r.operator=e,r}subscribe(e,r,i){const{operator:o}=this,s=function Rw(t,n,e){if(t){if(t instanceof vt)return t;if(t[rs])return t[rs]()}return t||n||e?new vt(t,n,e):new vt(ts)}(e,r,i);if(s.add(o?o.call(s,this.source):this.source||jt.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),jt.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}_trySubscribe(e){try{return this._subscribe(e)}catch(r){jt.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=r),function xw(t){for(;t;){const{closed:n,destination:e,isStopped:r}=t;if(n||r)return!1;t=e&&e instanceof vt?e:null}return!0}(e)?e.error(r):console.warn(r)}}forEach(e,r){return new(r=xf(r))((i,o)=>{let s;s=this.subscribe(a=>{try{e(a)}catch(l){o(l),s&&s.unsubscribe()}},o,i)})}_subscribe(e){const{source:r}=this;return r&&r.subscribe(e)}[Vi](){return this}pipe(...e){return 0===e.length?this:function Nf(t){return 0===t.length?Pf:1===t.length?t[0]:function(e){return t.reduce((r,i)=>i(r),e)}}(e)(this)}toPromise(e){return new(e=xf(e))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=n=>new t(n),t})();function xf(t){if(t||(t=jt.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const $r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class Ow extends He{constructor(n,e){super(),this.subject=n,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const n=this.subject,e=n.observers;if(this.subject=null,!e||0===e.length||n.isStopped||n.closed)return;const r=e.indexOf(this.subscriber);-1!==r&&e.splice(r,1)}}class Rf extends vt{constructor(n){super(n),this.destination=n}}let Xt=(()=>{class t extends ht{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[rs](){return new Rf(this)}lift(e){const r=new Of(this,this);return r.operator=e,r}next(e){if(this.closed)throw new $r;if(!this.isStopped){const{observers:r}=this,i=r.length,o=r.slice();for(let s=0;s<i;s++)o[s].next(e)}}error(e){if(this.closed)throw new $r;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:r}=this,i=r.length,o=r.slice();for(let s=0;s<i;s++)o[s].error(e);this.observers.length=0}complete(){if(this.closed)throw new $r;this.isStopped=!0;const{observers:e}=this,r=e.length,i=e.slice();for(let o=0;o<r;o++)i[o].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new $r;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new $r;return this.hasError?(e.error(this.thrownError),He.EMPTY):this.isStopped?(e.complete(),He.EMPTY):(this.observers.push(e),new Ow(this,e))}asObservable(){const e=new ht;return e.source=this,e}}return t.create=(n,e)=>new Of(n,e),t})();class Of extends Xt{constructor(n,e){super(),this.destination=n,this.source=e}next(n){const{destination:e}=this;e&&e.next&&e.next(n)}error(n){const{destination:e}=this;e&&e.error&&this.destination.error(n)}complete(){const{destination:n}=this;n&&n.complete&&this.destination.complete()}_subscribe(n){const{source:e}=this;return e?this.source.subscribe(n):He.EMPTY}}class Fw extends Xt{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const e=super._subscribe(n);return e&&!e.closed&&n.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new $r;return this._value}next(n){super.next(this._value=n)}}function Ff(t){return t&&"function"==typeof t.schedule}function is(t,n){return function(r){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new Lw(t,n))}}class Lw{constructor(n,e){this.project=n,this.thisArg=e}call(n,e){return e.subscribe(new Bw(n,this.project,this.thisArg))}}class Bw extends vt{constructor(n,e,r){super(n),this.project=e,this.count=0,this.thisArg=r||this}_next(n){let e;try{e=this.project.call(this.thisArg,n,this.count++)}catch(r){return void this.destination.error(r)}this.destination.next(e)}}const Lf=t=>n=>{for(let e=0,r=t.length;e<r&&!n.closed;e++)n.next(t[e]);n.complete()},os=function Hw(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}(),Bf=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function Vf(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const Hf=t=>{if(t&&"function"==typeof t[Vi])return(t=>n=>{const e=t[Vi]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(n)})(t);if(Bf(t))return Lf(t);if(Vf(t))return(t=>n=>(t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,tr),n))(t);if(t&&"function"==typeof t[os])return(t=>n=>{const e=t[os]();for(;;){let r;try{r=e.next()}catch(i){return n.error(i),n}if(r.done){n.complete();break}if(n.next(r.value),n.closed)break}return"function"==typeof e.return&&n.add(()=>{e.return&&e.return()}),n})(t);{const e=`You provided ${Dl(t)?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(e)}};function Sl(t,n){return new ht(e=>{const r=new He;let i=0;return r.add(n.schedule(function(){i!==t.length?(e.next(t[i++]),e.closed||r.add(this.schedule())):e.complete()})),r})}function ss(t,n){return n?function Zw(t,n){if(null!=t){if(function qw(t){return t&&"function"==typeof t[Vi]}(t))return function $w(t,n){return new ht(e=>{const r=new He;return r.add(n.schedule(()=>{const i=t[Vi]();r.add(i.subscribe({next(o){r.add(n.schedule(()=>e.next(o)))},error(o){r.add(n.schedule(()=>e.error(o)))},complete(){r.add(n.schedule(()=>e.complete()))}}))})),r})}(t,n);if(Vf(t))return function Uw(t,n){return new ht(e=>{const r=new He;return r.add(n.schedule(()=>t.then(i=>{r.add(n.schedule(()=>{e.next(i),r.add(n.schedule(()=>e.complete()))}))},i=>{r.add(n.schedule(()=>e.error(i)))}))),r})}(t,n);if(Bf(t))return Sl(t,n);if(function zw(t){return t&&"function"==typeof t[os]}(t)||"string"==typeof t)return function Ww(t,n){if(!t)throw new Error("Iterable cannot be null");return new ht(e=>{const r=new He;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(n.schedule(()=>{i=t[os](),r.add(n.schedule(function(){if(e.closed)return;let o,s;try{const a=i.next();o=a.value,s=a.done}catch(a){return void e.error(a)}s?e.complete():(e.next(o),this.schedule())}))})),r})}(t,n)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,n):t instanceof ht?t:new ht(Hf(t))}class Gf extends vt{constructor(n){super(),this.parent=n}_next(n){this.parent.notifyNext(n)}_error(n){this.parent.notifyError(n),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class jf extends vt{notifyNext(n){this.destination.next(n)}notifyError(n){this.destination.error(n)}notifyComplete(){this.destination.complete()}}function $f(t,n){if(n.closed)return;if(t instanceof ht)return t.subscribe(n);let e;try{e=Hf(t)(n)}catch(r){n.error(r)}return e}function Uf(t,n,e=Number.POSITIVE_INFINITY){return"function"==typeof n?r=>r.pipe(Uf((i,o)=>ss(t(i,o)).pipe(is((s,a)=>n(i,s,o,a))),e)):("number"==typeof n&&(e=n),r=>r.lift(new Yw(t,e)))}class Yw{constructor(n,e=Number.POSITIVE_INFINITY){this.project=n,this.concurrent=e}call(n,e){return e.subscribe(new Qw(n,this.project,this.concurrent))}}class Qw extends jf{constructor(n,e,r=Number.POSITIVE_INFINITY){super(n),this.project=e,this.concurrent=r,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(n){this.active<this.concurrent?this._tryNext(n):this.buffer.push(n)}_tryNext(n){let e;const r=this.index++;try{e=this.project(n,r)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(e)}_innerSub(n){const e=new Gf(this),r=this.destination;r.add(e);const i=$f(n,e);i!==e&&r.add(i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(n){this.destination.next(n)}notifyComplete(){const n=this.buffer;this.active--,n.length>0?this._next(n.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function Kw(t=Number.POSITIVE_INFINITY){return Uf(Pf,t)}function Wf(t,n){return n?Sl(t,n):new ht(Lf(t))}function vr(...t){let n=t[t.length-1];return Ff(n)?(t.pop(),Sl(t,n)):Wf(t)}function qf(){return function(n){return n.lift(new Jw(n))}}class Jw{constructor(n){this.connectable=n}call(n,e){const{connectable:r}=this;r._refCount++;const i=new eD(n,r),o=e.subscribe(i);return i.closed||(i.connection=r.connect()),o}}class eD extends vt{constructor(n,e){super(n),this.connectable=e}_unsubscribe(){const{connectable:n}=this;if(!n)return void(this.connection=null);this.connectable=null;const e=n._refCount;if(e<=0)return void(this.connection=null);if(n._refCount=e-1,e>1)return void(this.connection=null);const{connection:r}=this,i=n._connection;this.connection=null,i&&(!r||i===r)&&i.unsubscribe()}}class tD extends ht{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let n=this._connection;return n||(this._isComplete=!1,n=this._connection=new He,n.add(this.source.subscribe(new rD(this.getSubject(),this))),n.closed&&(this._connection=null,n=He.EMPTY)),n}refCount(){return qf()(this)}}const nD=(()=>{const t=tD.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class rD extends Rf{constructor(n,e){super(n),this.connectable=e}_error(n){this._unsubscribe(),super._error(n)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const n=this.connectable;if(n){this.connectable=null;const e=n._connection;n._refCount=0,n._subject=null,n._connection=null,e&&e.unsubscribe()}}}class sD{constructor(n,e){this.subjectFactory=n,this.selector=e}call(n,e){const{selector:r}=this,i=this.subjectFactory(),o=r(i).subscribe(n);return o.add(e.subscribe(i)),o}}function aD(){return new Xt}function zf(){return t=>qf()(function oD(t,n){return function(r){let i;if(i="function"==typeof t?t:function(){return t},"function"==typeof n)return r.lift(new sD(i,n));const o=Object.create(r,nD);return o.source=r,o.subjectFactory=i,o}}(aD)(t))}function Zf(t,n){return"function"==typeof n?e=>e.pipe(Zf((r,i)=>ss(t(r,i)).pipe(is((o,s)=>n(r,o,i,s))))):e=>e.lift(new lD(t))}class lD{constructor(n){this.project=n}call(n,e){return e.subscribe(new cD(n,this.project))}}class cD extends jf{constructor(n,e){super(n),this.project=e,this.index=0}_next(n){let e;const r=this.index++;try{e=this.project(n,r)}catch(i){return void this.destination.error(i)}this._innerSub(e)}_innerSub(n){const e=this.innerSubscription;e&&e.unsubscribe();const r=new Gf(this),i=this.destination;i.add(r),this.innerSubscription=$f(n,r),this.innerSubscription!==r&&i.add(this.innerSubscription)}_complete(){const{innerSubscription:n}=this;(!n||n.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(n){this.destination.next(n)}}class dD{constructor(n,e){this.compare=n,this.keySelector=e}call(n,e){return e.subscribe(new fD(n,this.compare,this.keySelector))}}class fD extends vt{constructor(n,e,r){super(n),this.keySelector=r,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(n,e){return n===e}_next(n){let e;try{const{keySelector:i}=this;e=i?i(n):n}catch(i){return this.destination.error(i)}let r=!1;if(this.hasKey)try{const{compare:i}=this;r=i(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=e,this.destination.next(n))}}function be(t){for(let n in t)if(t[n]===be)return n;throw Error("Could not find renamed property on target object.")}function Ze(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Ze).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const e=n.indexOf("\n");return-1===e?n:n.substring(0,e)}function Cl(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const hD=be({__forward_ref__:be});function Ee(t){return t.__forward_ref__=Ee,t.toString=function(){return Ze(this())},t}function re(t){return function El(t){return"function"==typeof t&&t.hasOwnProperty(hD)&&t.__forward_ref__===Ee}(t)?t():t}function Tl(t){return t&&!!t.\u0275providers}const Yf="https://g.co/ng/security#xss";class k extends Error{constructor(n,e){super(function ls(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,e)),this.code=n}}function ie(t){return"string"==typeof t?t:null==t?"":String(t)}function cs(t,n){throw new k(-201,!1)}function $t(t,n){null==t&&function ve(t,n,e,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${e} ${r} ${n} <=Actual]`))}(n,t,null,"!=")}function ee(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Jt(t){return{providers:t.providers||[],imports:t.imports||[]}}function us(t){return Qf(t,ds)||Qf(t,Xf)}function Qf(t,n){return t.hasOwnProperty(n)?t[n]:null}function Kf(t){return t&&(t.hasOwnProperty(kl)||t.hasOwnProperty(bD))?t[kl]:null}const ds=be({\u0275prov:be}),kl=be({\u0275inj:be}),Xf=be({ngInjectableDef:be}),bD=be({ngInjectorDef:be});var ne=(()=>((ne=ne||{})[ne.Default=0]="Default",ne[ne.Host=1]="Host",ne[ne.Self=2]="Self",ne[ne.SkipSelf=4]="SkipSelf",ne[ne.Optional=8]="Optional",ne))();let Ml;function bt(t){const n=Ml;return Ml=t,n}function eh(t,n,e){const r=us(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:e&ne.Optional?null:void 0!==n?n:void cs(Ze(t))}const Te=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Hi={},Il="__NG_DI_FLAG__",fs="ngTempTokenPath",DD=/\n/gm,th="__source";let Ur;function rr(t){const n=Ur;return Ur=t,n}function ED(t,n=ne.Default){if(void 0===Ur)throw new k(-203,!1);return null===Ur?eh(t,void 0,n):Ur.get(t,n&ne.Optional?null:void 0,n)}function R(t,n=ne.Default){return(function Jf(){return Ml}()||ED)(re(t),n)}function Ae(t,n=ne.Default){return R(t,hs(n))}function hs(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Al(t){const n=[];for(let e=0;e<t.length;e++){const r=re(t[e]);if(Array.isArray(r)){if(0===r.length)throw new k(900,!1);let i,o=ne.Default;for(let s=0;s<r.length;s++){const a=r[s],l=TD(a);"number"==typeof l?-1===l?i=a.token:o|=l:i=a}n.push(R(i,o))}else n.push(R(r))}return n}function Gi(t,n){return t[Il]=n,t.prototype[Il]=n,t}function TD(t){return t[Il]}function On(t){return{toString:t}.toString()}var mn=(()=>((mn=mn||{})[mn.OnPush=0]="OnPush",mn[mn.Default=1]="Default",mn))(),wt=(()=>(function(t){t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom"}(wt||(wt={})),wt))();const yn={},me=[],ps=be({\u0275cmp:be}),Pl=be({\u0275dir:be}),Nl=be({\u0275pipe:be}),rh=be({\u0275mod:be}),Fn=be({\u0275fac:be}),ji=be({__NG_ELEMENT_ID__:be}),ih=be({__NG_ENV_ID__:be});function oh(t,n,e){let r=t.length;for(;;){const i=t.indexOf(n,e);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=n.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}e=i+1}}function xl(t,n,e){let r=0;for(;r<e.length;){const i=e[r];if("number"==typeof i){if(0!==i)break;r++;const o=e[r++],s=e[r++],a=e[r++];t.setAttribute(n,s,a,o)}else{const o=i,s=e[++r];ah(o)?t.setProperty(n,o,s):t.setAttribute(n,o,s),r++}}return r}function sh(t){return 3===t||4===t||6===t}function ah(t){return 64===t.charCodeAt(0)}function $i(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let e=-1;for(let r=0;r<n.length;r++){const i=n[r];"number"==typeof i?e=i:0===e||lh(t,e,i,null,-1===e||2===e?n[++r]:null)}}return t}function lh(t,n,e,r,i){let o=0,s=t.length;if(-1===n)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===n){s=-1;break}if(a>n){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===e){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,n),o=s+1),t.splice(o++,0,e),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}const ch="ng-template";function ID(t,n,e){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if("string"==typeof o&&i){const s=t[r++];if(e&&"class"===o&&-1!==oh(s.toLowerCase(),n,0))return!0}else{if(1===o){for(;r<t.length&&"string"==typeof(o=t[r++]);)if(o.toLowerCase()===n)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function uh(t){return 4===t.type&&t.value!==ch}function AD(t,n,e){return n===(4!==t.type||e?t.value:ch)}function PD(t,n,e){let r=4;const i=t.attrs||[],o=function RD(t){for(let n=0;n<t.length;n++)if(sh(t[n]))return n;return t.length}(i);let s=!1;for(let a=0;a<n.length;a++){const l=n[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!AD(t,l,e)||""===l&&1===n.length){if(en(r))return!1;s=!0}}else{const c=8&r?l:n[++a];if(8&r&&null!==t.attrs){if(!ID(t.attrs,c,e)){if(en(r))return!1;s=!0}continue}const p=ND(8&r?"class":l,i,uh(t),e);if(-1===p){if(en(r))return!1;s=!0;continue}if(""!==c){let m;m=p>o?"":i[p+1].toLowerCase();const y=8&r?m:null;if(y&&-1!==oh(y,c,0)||2&r&&c!==m){if(en(r))return!1;s=!0}}}}else{if(!s&&!en(r)&&!en(l))return!1;if(s&&en(l))continue;s=!1,r=l|1&r}}return en(r)||s}function en(t){return 0==(1&t)}function ND(t,n,e,r){if(null===n)return-1;let i=0;if(r||!e){let o=!1;for(;i<n.length;){const s=n[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=n[++i];for(;"string"==typeof a;)a=n[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function OD(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){const r=t[e];if("number"==typeof r)return-1;if(r===n)return e;e++}return-1}(n,t)}function dh(t,n,e=!1){for(let r=0;r<n.length;r++)if(PD(t,n[r],e))return!0;return!1}function fh(t,n){return t?":not("+n.trim()+")":n}function LD(t){let n=t[0],e=1,r=2,i="",o=!1;for(;e<t.length;){let s=t[e];if("string"==typeof s)if(2&r){const a=t[++e];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!en(s)&&(n+=fh(o,i),i=""),r=s,o=o||!en(r);e++}return""!==i&&(n+=fh(o,i)),n}function Ye(t){return On(()=>{const n=ph(t),e={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===mn.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||wt.Emulated,styles:t.styles||me,_:null,schemas:t.schemas||null,tView:null,id:""};gh(e);const r=t.dependencies;return e.directiveDefs=gs(r,!1),e.pipeDefs=gs(r,!0),e.id=function WD(t){let n=0;const e=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of e)n=Math.imul(31,n)+i.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(e),e})}function GD(t){return ye(t)||it(t)}function jD(t){return null!==t}function _n(t){return On(()=>({type:t.type,bootstrap:t.bootstrap||me,declarations:t.declarations||me,imports:t.imports||me,exports:t.exports||me,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function hh(t,n){if(null==t)return yn;const e={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),e[i]=r,n&&(n[i]=o)}return e}function oe(t){return On(()=>{const n=ph(t);return gh(n),n})}function Dt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function ye(t){return t[ps]||null}function it(t){return t[Pl]||null}function St(t){return t[Nl]||null}function ph(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||yn,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||me,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:hh(t.inputs,n),outputs:hh(t.outputs)}}function gh(t){t.features?.forEach(n=>n(t))}function gs(t,n){if(!t)return null;const e=n?St:GD;return()=>("function"==typeof t?t():t).map(r=>e(r)).filter(jD)}const Qe=0,G=1,se=2,xe=3,tn=4,Wi=5,ot=6,Wr=7,$e=8,qr=9,br=10,ae=11,qi=12,mh=13,zr=14,Ue=15,zi=16,Zr=17,vn=18,Zi=19,yh=20,ir=21,Ln=22,ms=23,ys=24,fe=25,Rl=1,_h=2,bn=7,Yr=9,st=11;function Nt(t){return Array.isArray(t)&&"object"==typeof t[Rl]}function Ct(t){return Array.isArray(t)&&!0===t[Rl]}function Ol(t){return 0!=(4&t.flags)}function wr(t){return t.componentOffset>-1}function vs(t){return 1==(1&t.flags)}function nn(t){return!!t.template}function Fl(t){return 0!=(512&t[se])}function Dr(t,n){return t.hasOwnProperty(Fn)?t[Fn]:null}let KD=Te.WeakRef??class QD{constructor(n){this.ref=n}deref(){return this.ref}},JD=0,wn=null,bs=!1;function et(t){const n=wn;return wn=t,n}class Sh{constructor(){this.id=JD++,this.ref=function XD(t){return new KD(t)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[n,e]of this.producers){const r=e.producerNode.deref();if(void 0!==r&&e.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(e.seenValueVersion))return!0}else this.producers.delete(n),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const n=bs;bs=!0;try{for(const[e,r]of this.consumers){const i=r.consumerNode.deref();void 0!==i&&i.trackingVersion===r.atTrackingVersion?i.onConsumerDependencyMayHaveChanged():(this.consumers.delete(e),i?.producers.delete(this.id))}}finally{bs=n}}producerAccessed(){if(bs)throw new Error("");if(null===wn)return;let n=wn.producers.get(this.id);void 0===n?(n={consumerNode:wn.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:wn.trackingVersion},wn.producers.set(this.id,n),this.consumers.set(wn.id,n)):(n.seenValueVersion=this.valueVersion,n.atTrackingVersion=wn.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==wn?.consumerAllowSignalWrites}producerPollStatus(n){return this.valueVersion!==n||(this.onProducerUpdateValueVersion(),this.valueVersion!==n)}}let Ch=null;const Th=()=>{};class r1 extends Sh{constructor(n,e,r){super(),this.watch=n,this.schedule=e,this.dirty=!1,this.cleanupFn=Th,this.registerOnCleanup=i=>{this.cleanupFn=i},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const n=et(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Th,this.watch(this.registerOnCleanup)}finally{et(n)}}cleanup(){this.cleanupFn()}}class i1{constructor(n,e,r){this.previousValue=n,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}}function kh(t){return t.type.prototype.ngOnChanges&&(t.setInput=s1),o1}function o1(){const t=Ih(this),n=t?.current;if(n){const e=t.previous;if(e===yn)t.previous=n;else for(let r in n)e[r]=n[r];t.current=null,this.ngOnChanges(n)}}function s1(t,n,e,r){const i=this.declaredInputs[e],o=Ih(t)||function a1(t,n){return t[Mh]=n}(t,{previous:yn,current:null}),s=o.current||(o.current={}),a=o.previous,l=a[i];s[i]=new i1(l&&l.currentValue,n,a===yn),t[r]=n}const Mh="__ngSimpleChanges__";function Ih(t){return t[Mh]||null}const Dn=function(t,n,e){};function Pe(t){for(;Array.isArray(t);)t=t[Qe];return t}function Ss(t,n){return Pe(n[t])}function Et(t,n){return Pe(n[t.index])}function Nh(t,n){return t.data[n]}function xt(t,n){const e=n[t];return Nt(e)?e:e[Qe]}function or(t,n){return null==n?null:t[n]}function xh(t){t[Zr]=0}function p1(t){1024&t[se]||(t[se]|=1024,Oh(t,1))}function Rh(t){1024&t[se]&&(t[se]&=-1025,Oh(t,-1))}function Oh(t,n){let e=t[xe];if(null===e)return;e[Wi]+=n;let r=e;for(e=e[xe];null!==e&&(1===n&&1===r[Wi]||-1===n&&0===r[Wi]);)e[Wi]+=n,r=e,e=e[xe]}const te={lFrame:qh(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Bh(){return te.bindingsEnabled}function N(){return te.lFrame.lView}function he(){return te.lFrame.tView}function M(t){return te.lFrame.contextLView=t,t[$e]}function I(t){return te.lFrame.contextLView=null,t}function rt(){let t=Vh();for(;null!==t&&64===t.type;)t=t.parent;return t}function Vh(){return te.lFrame.currentTNode}function Sn(t,n){const e=te.lFrame;e.currentTNode=t,e.isParent=n}function jl(){return te.lFrame.isParent}function $l(){te.lFrame.isParent=!1}function Vn(){return te.lFrame.bindingIndex}function Xr(){return te.lFrame.bindingIndex++}function Hn(t){const n=te.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function T1(t,n){const e=te.lFrame;e.bindingIndex=e.bindingRootIndex=t,Ul(n)}function Ul(t){te.lFrame.currentDirectiveIndex=t}function Wl(t){const n=te.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}function ql(t){te.lFrame.currentQueryIndex=t}function M1(t){const n=t[G];return 2===n.type?n.declTNode:1===n.type?t[ot]:null}function Uh(t,n,e){if(e&ne.SkipSelf){let i=n,o=t;for(;!(i=i.parent,null!==i||e&ne.Host||(i=M1(o),null===i||(o=o[zr],10&i.type))););if(null===i)return!1;n=i,t=o}const r=te.lFrame=Wh();return r.currentTNode=n,r.lView=t,!0}function zl(t){const n=Wh(),e=t[G];te.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function Wh(){const t=te.lFrame,n=null===t?null:t.child;return null===n?qh(t):n}function qh(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function zh(){const t=te.lFrame;return te.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Zh=zh;function Zl(){const t=zh();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function gt(){return te.lFrame.selectedIndex}function Sr(t){te.lFrame.selectedIndex=t}function Re(){const t=te.lFrame;return Nh(t.tView,t.selectedIndex)}let Qh=!0;function Cs(){return Qh}function sr(t){Qh=t}function Es(t,n){for(let e=n.directiveStart,r=n.directiveEnd;e<r;e++){const o=t.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-e,s),a&&((t.contentHooks??=[]).push(e,a),(t.contentCheckHooks??=[]).push(e,a)),l&&(t.viewHooks??=[]).push(-e,l),c&&((t.viewHooks??=[]).push(e,c),(t.viewCheckHooks??=[]).push(e,c)),null!=h&&(t.destroyHooks??=[]).push(e,h)}}function Ts(t,n,e){Kh(t,n,3,e)}function ks(t,n,e,r){(3&t[se])===e&&Kh(t,n,e,r)}function Yl(t,n){let e=t[se];(3&e)===n&&(e&=8191,e+=1,t[se]=e)}function Kh(t,n,e,r){const o=r??-1,s=n.length-1;let a=0;for(let l=void 0!==r?65535&t[Zr]:0;l<s;l++)if("number"==typeof n[l+1]){if(a=n[l],null!=r&&a>=r)break}else n[l]<0&&(t[Zr]+=65536),(a<o||-1==o)&&(F1(t,e,n,l),t[Zr]=(4294901760&t[Zr])+l+2),l++}function Xh(t,n){Dn(4,t,n);const e=et(null);try{n.call(t)}finally{et(e),Dn(5,t,n)}}function F1(t,n,e,r){const i=e[r]<0,o=e[r+1],a=t[i?-e[r]:e[r]];i?t[se]>>13<t[Zr]>>16&&(3&t[se])===n&&(t[se]+=8192,Xh(a,o)):Xh(a,o)}const Jr=-1;class Ki{constructor(n,e,r){this.factory=n,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=r}}function Jh(t){return t!==Jr}function Ms(t){return 32767&t}function Is(t,n){let e=function H1(t){return t>>16}(t),r=n;for(;e>0;)r=r[zr],e--;return r}let Kl=!0;function As(t){const n=Kl;return Kl=t,n}const ep=255,tp=5;let G1=0;const Cn={};function Ps(t,n){const e=np(t,n);if(-1!==e)return e;const r=n[G];r.firstCreatePass&&(t.injectorIndex=n.length,Xl(r.data,t),Xl(n,null),Xl(r.blueprint,null));const i=Jl(t,n),o=t.injectorIndex;if(Jh(i)){const s=Ms(i),a=Is(i,n),l=a[G].data;for(let c=0;c<8;c++)n[o+c]=a[s+c]|l[s+c]}return n[o+8]=i,o}function Xl(t,n){t.push(0,0,0,0,0,0,0,0,n)}function np(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Jl(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let e=0,r=null,i=n;for(;null!==i;){if(r=cp(i),null===r)return Jr;if(e++,i=i[zr],-1!==r.injectorIndex)return r.injectorIndex|e<<16}return Jr}function ec(t,n,e){!function j1(t,n,e){let r;"string"==typeof e?r=e.charCodeAt(0)||0:e.hasOwnProperty(ji)&&(r=e[ji]),null==r&&(r=e[ji]=G1++);const i=r&ep;n.data[t+(i>>tp)]|=1<<i}(t,n,e)}function rp(t,n,e){if(e&ne.Optional||void 0!==t)return t;cs()}function ip(t,n,e,r){if(e&ne.Optional&&void 0===r&&(r=null),!(e&(ne.Self|ne.Host))){const i=t[qr],o=bt(void 0);try{return i?i.get(n,r,e&ne.Optional):eh(n,r,e&ne.Optional)}finally{bt(o)}}return rp(r,0,e)}function op(t,n,e,r=ne.Default,i){if(null!==t){if(2048&n[se]&&!(r&ne.Self)){const s=function z1(t,n,e,r,i){let o=t,s=n;for(;null!==o&&null!==s&&2048&s[se]&&!(512&s[se]);){const a=sp(o,s,e,r|ne.Self,Cn);if(a!==Cn)return a;let l=o.parent;if(!l){const c=s[yh];if(c){const h=c.get(e,Cn,r);if(h!==Cn)return h}l=cp(s),s=s[zr]}o=l}return i}(t,n,e,r,Cn);if(s!==Cn)return s}const o=sp(t,n,e,r,Cn);if(o!==Cn)return o}return ip(n,e,r,i)}function sp(t,n,e,r,i){const o=function W1(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(ji)?t[ji]:void 0;return"number"==typeof n?n>=0?n&ep:q1:n}(e);if("function"==typeof o){if(!Uh(n,t,r))return r&ne.Host?rp(i,0,r):ip(n,e,r,i);try{const s=o(r);if(null!=s||r&ne.Optional)return s;cs()}finally{Zh()}}else if("number"==typeof o){let s=null,a=np(t,n),l=Jr,c=r&ne.Host?n[Ue][ot]:null;for((-1===a||r&ne.SkipSelf)&&(l=-1===a?Jl(t,n):n[a+8],l!==Jr&&lp(r,!1)?(s=n[G],a=Ms(l),n=Is(l,n)):a=-1);-1!==a;){const h=n[G];if(ap(o,a,h.data)){const p=U1(a,n,e,s,r,c);if(p!==Cn)return p}l=n[a+8],l!==Jr&&lp(r,n[G].data[a+8]===c)&&ap(o,a,n)?(s=h,a=Ms(l),n=Is(l,n)):a=-1}}return i}function U1(t,n,e,r,i,o){const s=n[G],a=s.data[t+8],h=function Ns(t,n,e,r,i){const o=t.providerIndexes,s=n.data,a=1048575&o,l=t.directiveStart,h=o>>20,m=i?a+h:t.directiveEnd;for(let y=r?a:a+h;y<m;y++){const _=s[y];if(y<l&&e===_||y>=l&&_.type===e)return y}if(i){const y=s[l];if(y&&nn(y)&&y.type===e)return l}return null}(a,s,e,null==r?wr(a)&&Kl:r!=s&&0!=(3&a.type),i&ne.Host&&o===a);return null!==h?Cr(n,s,h,a):Cn}function Cr(t,n,e,r){let i=t[e];const o=n.data;if(function L1(t){return t instanceof Ki}(i)){const s=i;s.resolving&&function pD(t,n){const e=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new k(-200,`Circular dependency in DI detected for ${t}${e}`)}(function _e(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ie(t)}(o[e]));const a=As(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?bt(s.injectImpl):null;Uh(t,r,ne.Default);try{i=t[e]=s.factory(void 0,o,t,r),n.firstCreatePass&&e>=r.directiveStart&&function O1(t,n,e){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=n.type.prototype;if(r){const s=kh(n);(e.preOrderHooks??=[]).push(t,s),(e.preOrderCheckHooks??=[]).push(t,s)}i&&(e.preOrderHooks??=[]).push(0-t,i),o&&((e.preOrderHooks??=[]).push(t,o),(e.preOrderCheckHooks??=[]).push(t,o))}(e,o[e],n)}finally{null!==l&&bt(l),As(a),s.resolving=!1,Zh()}}return i}function ap(t,n,e){return!!(e[n+(t>>tp)]&1<<t)}function lp(t,n){return!(t&ne.Self||t&ne.Host&&n)}class ei{constructor(n,e){this._tNode=n,this._lView=e}get(n,e,r){return op(this._tNode,this._lView,n,hs(r),e)}}function q1(){return new ei(rt(),N())}function cp(t){const n=t[G],e=n.type;return 2===e?n.declTNode:1===e?t[ot]:null}const ni="__parameters__";function ii(t,n,e){return On(()=>{const r=function rc(t){return function(...e){if(t){const r=t(...e);for(const i in r)this[i]=r[i]}}}(n);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(l,c,h){const p=l.hasOwnProperty(ni)?l[ni]:Object.defineProperty(l,ni,{value:[]})[ni];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),l}}return e&&(i.prototype=Object.create(e.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function eo(t,n){t.forEach(e=>Array.isArray(e)?eo(e,n):n(e))}function dp(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function xs(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Rt(t,n,e){let r=oi(t,n);return r>=0?t[1|r]=e:(r=~r,function X1(t,n,e,r){let i=t.length;if(i==n)t.push(e,r);else if(1===i)t.push(r,t[0]),t[0]=e;else{for(i--,t.push(t[i-1],t[i]);i>n;)t[i]=t[i-2],i--;t[n]=e,t[n+1]=r}}(t,r,n,e)),r}function ic(t,n){const e=oi(t,n);if(e>=0)return t[1|e]}function oi(t,n){return function fp(t,n,e){let r=0,i=t.length>>e;for(;i!==r;){const o=r+(i-r>>1),s=t[o<<e];if(n===s)return o<<e;s>n?i=o:r=o+1}return~(i<<e)}(t,n,1)}const sc=Gi(ii("Optional"),8),ac=Gi(ii("SkipSelf"),4);function Bs(t){return 128==(128&t.flags)}var Tt=(()=>((Tt=Tt||{})[Tt.Important=1]="Important",Tt[Tt.DashCase=2]="DashCase",Tt))();const vS=/^>|^->|<!--|-->|--!>|<!-$/g,bS=/(<|>)/,wS="\u200b$1\u200b";const fc=new Map;let DS=0;const pc="__ngContext__";function lt(t,n){Nt(n)?(t[pc]=n[Zi],function CS(t){fc.set(t[Zi],t)}(n)):t[pc]=n}let gc;function mc(t,n){return gc(t,n)}function io(t){const n=t[xe];return Ct(n)?n[xe]:n}function Np(t){return Rp(t[qi])}function xp(t){return Rp(t[tn])}function Rp(t){for(;null!==t&&!Ct(t);)t=t[tn];return t}function li(t,n,e,r,i){if(null!=r){let o,s=!1;Ct(r)?o=r:Nt(r)&&(s=!0,r=r[Qe]);const a=Pe(r);0===t&&null!==e?null==i?Vp(n,e,a):Er(n,e,a,i||null,!0):1===t&&null!==e?Er(n,e,a,i||null,!0):2===t?function Us(t,n,e){const r=js(t,n);r&&function $S(t,n,e,r){t.removeChild(n,e,r)}(t,r,n,e)}(n,a,s):3===t&&n.destroyNode(a),null!=o&&function qS(t,n,e,r,i){const o=e[bn];o!==Pe(e)&&li(n,t,r,o,i);for(let a=st;a<e.length;a++){const l=e[a];so(l[G],l,t,n,r,o)}}(n,t,o,e,i)}}function yc(t,n){return t.createComment(function Cp(t){return t.replace(vS,n=>n.replace(bS,wS))}(n))}function Gs(t,n,e){return t.createElement(n,e)}function Fp(t,n){const e=t[Yr],r=e.indexOf(n);Rh(n),e.splice(r,1)}function _c(t,n){if(t.length<=st)return;const e=st+n,r=t[e];if(r){const i=r[zi];null!==i&&i!==t&&Fp(i,r),n>0&&(t[e-1][tn]=r[tn]);const o=xs(t,st+n);!function OS(t,n){so(t,n,n[ae],2,null,null),n[Qe]=null,n[ot]=null}(r[G],r);const s=o[vn];null!==s&&s.detachView(o[G]),r[xe]=null,r[tn]=null,r[se]&=-129}return r}function Lp(t,n){if(!(256&n[se])){const e=n[ae];n[ms]?.destroy(),n[ys]?.destroy(),e.destroyNode&&so(t,n,e,3,null,null),function BS(t){let n=t[qi];if(!n)return vc(t[G],t);for(;n;){let e=null;if(Nt(n))e=n[qi];else{const r=n[st];r&&(e=r)}if(!e){for(;n&&!n[tn]&&n!==t;)Nt(n)&&vc(n[G],n),n=n[xe];null===n&&(n=t),Nt(n)&&vc(n[G],n),e=n&&n[tn]}n=e}}(n)}}function vc(t,n){if(!(256&n[se])){n[se]&=-129,n[se]|=256,function jS(t,n){let e;if(null!=t&&null!=(e=t.destroyHooks))for(let r=0;r<e.length;r+=2){const i=n[e[r]];if(!(i instanceof Ki)){const o=e[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],l=o[s+1];Dn(4,a,l);try{l.call(a)}finally{Dn(5,a,l)}}else{Dn(4,i,o);try{o.call(i)}finally{Dn(5,i,o)}}}}}(t,n),function GS(t,n){const e=t.cleanup,r=n[Wr];if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const s=e[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else e[o].call(r[e[o+1]]);null!==r&&(n[Wr]=null);const i=n[ir];if(null!==i){n[ir]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(t,n),1===n[G].type&&n[ae].destroy();const e=n[zi];if(null!==e&&Ct(n[xe])){e!==n[xe]&&Fp(e,n);const r=n[vn];null!==r&&r.detachView(t)}!function ES(t){fc.delete(t[Zi])}(n)}}function bc(t,n,e){return function Bp(t,n,e){let r=n;for(;null!==r&&40&r.type;)r=(n=r).parent;if(null===r)return e[Qe];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=t.data[r.directiveStart+i];if(o===wt.None||o===wt.Emulated)return null}return Et(r,e)}}(t,n.parent,e)}function Er(t,n,e,r,i){t.insertBefore(n,e,r,i)}function Vp(t,n,e){t.appendChild(n,e)}function Hp(t,n,e,r,i){null!==r?Er(t,n,e,r,i):Vp(t,n,e)}function js(t,n){return t.parentNode(n)}let wc,Ws,Ec,qs,$p=function jp(t,n,e){return 40&t.type?Et(t,e):null};function $s(t,n,e,r){const i=bc(t,r,n),o=n[ae],a=function Gp(t,n,e){return $p(t,n,e)}(r.parent||n[ot],r,n);if(null!=i)if(Array.isArray(e))for(let l=0;l<e.length;l++)Hp(o,i,e[l],a,!1);else Hp(o,i,e,a,!1);void 0!==wc&&wc(o,r,n,e,i)}function oo(t,n){if(null!==n){const e=n.type;if(3&e)return Et(n,t);if(4&e)return Dc(-1,t[n.index]);if(8&e){const r=n.child;if(null!==r)return oo(t,r);{const i=t[n.index];return Ct(i)?Dc(-1,i):Pe(i)}}if(32&e)return mc(n,t)()||Pe(t[n.index]);{const r=Wp(t,n);return null!==r?Array.isArray(r)?r[0]:oo(io(t[Ue]),r):oo(t,n.next)}}return null}function Wp(t,n){return null!==n?t[Ue][ot].projection[n.projection]:null}function Dc(t,n){const e=st+t+1;if(e<n.length){const r=n[e],i=r[G].firstChild;if(null!==i)return oo(r,i)}return n[bn]}function Sc(t,n,e,r,i,o,s){for(;null!=e;){const a=r[e.index],l=e.type;if(s&&0===n&&(a&&lt(Pe(a),r),e.flags|=2),32!=(32&e.flags))if(8&l)Sc(t,n,e.child,r,i,o,!1),li(n,t,i,a,o);else if(32&l){const c=mc(e,r);let h;for(;h=c();)li(n,t,i,h,o);li(n,t,i,a,o)}else 16&l?zp(t,n,r,e,i,o):li(n,t,i,a,o);e=s?e.projectionNext:e.next}}function so(t,n,e,r,i,o){Sc(e,r,t.firstChild,n,i,o,!1)}function zp(t,n,e,r,i,o){const s=e[Ue],l=s[ot].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)li(n,t,i,l[c],o);else{let c=l;const h=s[xe];Bs(r)&&(c.flags|=128),Sc(t,n,c,h,i,o,!0)}}function Zp(t,n,e){""===e?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e)}function Yp(t,n,e){const{mergedAttrs:r,classes:i,styles:o}=e;null!==r&&xl(t,n,r),null!==i&&Zp(t,n,i),null!==o&&function ZS(t,n,e){t.setAttribute(n,"style",e)}(t,n,o)}function ci(t){return function Cc(){if(void 0===Ws&&(Ws=null,Te.trustedTypes))try{Ws=Te.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ws}()?.createHTML(t)||t}function ao(){if(void 0!==Ec)return Ec;if(typeof document<"u")return document;throw new k(210,!1)}function Qp(t){return function Tc(){if(void 0===qs&&(qs=null,Te.trustedTypes))try{qs=Te.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return qs}()?.createHTML(t)||t}class Tr{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Yf})`}}class JS extends Tr{getTypeName(){return"HTML"}}class eC extends Tr{getTypeName(){return"Style"}}class tC extends Tr{getTypeName(){return"Script"}}class nC extends Tr{getTypeName(){return"URL"}}class rC extends Tr{getTypeName(){return"ResourceURL"}}function Ot(t){return t instanceof Tr?t.changingThisBreaksApplicationSecurity:t}function En(t,n){const e=function iC(t){return t instanceof Tr&&t.getTypeName()||null}(t);if(null!=e&&e!==n){if("ResourceURL"===e&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${e} (see ${Yf})`)}return e===n}class uC{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const e=(new window.DOMParser).parseFromString(ci(n),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(n):(e.removeChild(e.firstChild),e)}catch{return null}}}class dC{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const e=this.inertDocument.createElement("template");return e.innerHTML=ci(n),e}}const hC=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function zs(t){return(t=String(t)).match(hC)?t:"unsafe:"+t}function Gn(t){const n={};for(const e of t.split(","))n[e]=!0;return n}function lo(...t){const n={};for(const e of t)for(const r in e)e.hasOwnProperty(r)&&(n[r]=!0);return n}const eg=Gn("area,br,col,hr,img,wbr"),tg=Gn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ng=Gn("rp,rt"),kc=lo(eg,lo(tg,Gn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),lo(ng,Gn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),lo(ng,tg)),Mc=Gn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),rg=lo(Mc,Gn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Gn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),pC=Gn("script,style,template");class gC{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let e=n.firstChild,r=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?r=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,r&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let i=this.checkClobberedElement(e,e.nextSibling);if(i){e=i;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(n){const e=n.nodeName.toLowerCase();if(!kc.hasOwnProperty(e))return this.sanitizedSomething=!0,!pC.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const r=n.attributes;for(let i=0;i<r.length;i++){const o=r.item(i),s=o.name,a=s.toLowerCase();if(!rg.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;Mc[a]&&(l=zs(l)),this.buf.push(" ",s,'="',ig(l),'"')}return this.buf.push(">"),!0}endElement(n){const e=n.nodeName.toLowerCase();kc.hasOwnProperty(e)&&!eg.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(n){this.buf.push(ig(n))}checkClobberedElement(n,e){if(e&&(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return e}}const mC=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,yC=/([^\#-~ |!])/g;function ig(t){return t.replace(/&/g,"&amp;").replace(mC,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(yC,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Zs;function og(t,n){let e=null;try{Zs=Zs||function Jp(t){const n=new dC(t);return function fC(){try{return!!(new window.DOMParser).parseFromString(ci(""),"text/html")}catch{return!1}}()?new uC(n):n}(t);let r=n?String(n):"";e=Zs.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=e.innerHTML,e=Zs.getInertBodyElement(r)}while(r!==o);return ci((new gC).sanitizeChildren(Ic(e)||e))}finally{if(e){const r=Ic(e)||e;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function Ic(t){return"content"in t&&function _C(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Se=(()=>((Se=Se||{})[Se.NONE=0]="NONE",Se[Se.HTML=1]="HTML",Se[Se.STYLE=2]="STYLE",Se[Se.SCRIPT=3]="SCRIPT",Se[Se.URL=4]="URL",Se[Se.RESOURCE_URL=5]="RESOURCE_URL",Se))();function Ys(t){const n=function co(){const t=N();return t&&t[br].sanitizer}();return n?Qp(n.sanitize(Se.HTML,t)||""):En(t,"HTML")?Qp(Ot(t)):og(ao(),ie(t))}class Y{constructor(n,e){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=ee({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Qs=new Y("ENVIRONMENT_INITIALIZER"),lg=new Y("INJECTOR",-1),cg=new Y("INJECTOR_DEF_TYPES");class ug{get(n,e=Hi){if(e===Hi){const r=new Error(`NullInjectorError: No provider for ${Ze(n)}!`);throw r.name="NullInjectorError",r}return e}}function EC(...t){return{\u0275providers:fg(0,t),\u0275fromNgModule:!0}}function fg(t,...n){const e=[],r=new Set;let i;return eo(n,o=>{const s=o;Ac(s,e,[],r)&&(i||=[],i.push(s))}),void 0!==i&&hg(i,e),e}function hg(t,n){for(let e=0;e<t.length;e++){const{providers:i}=t[e];Pc(i,o=>{n.push(o)})}}function Ac(t,n,e,r){if(!(t=re(t)))return!1;let i=null,o=Kf(t);const s=!o&&ye(t);if(o||s){if(s&&!s.standalone)return!1;i=t}else{const l=t.ngModule;if(o=Kf(l),!o)return!1;i=l}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)Ac(c,n,e,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;r.add(i);try{eo(o.imports,h=>{Ac(h,n,e,r)&&(c||=[],c.push(h))})}finally{}void 0!==c&&hg(c,n)}if(!a){const c=Dr(i)||(()=>new i);n.push({provide:i,useFactory:c,deps:me},{provide:cg,useValue:i,multi:!0},{provide:Qs,useValue:()=>R(i),multi:!0})}const l=o.providers;null==l||a||Pc(l,h=>{n.push(h)})}}return i!==t&&void 0!==t.providers}function Pc(t,n){for(let e of t)Tl(e)&&(e=e.\u0275providers),Array.isArray(e)?Pc(e,n):n(e)}const TC=be({provide:String,useValue:be});function Nc(t){return null!==t&&"object"==typeof t&&TC in t}function kr(t){return"function"==typeof t}const xc=new Y("Set Injector scope."),Ks={},MC={};let Rc;function Xs(){return void 0===Rc&&(Rc=new ug),Rc}class ui{}class Oc extends ui{get destroyed(){return this._destroyed}constructor(n,e,r,i){super(),this.parent=e,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Lc(n,s=>this.processProvider(s)),this.records.set(lg,di(void 0,this)),i.has("environment")&&this.records.set(ui,di(void 0,this));const o=this.records.get(xc);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(cg.multi,me,ne.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const e of n)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const e=rr(this),r=bt(void 0);try{return n()}finally{rr(e),bt(r)}}get(n,e=Hi,r=ne.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(ih))return n[ih](this);r=hs(r);const i=rr(this),o=bt(void 0);try{if(!(r&ne.SkipSelf)){let a=this.records.get(n);if(void 0===a){const l=function xC(t){return"function"==typeof t||"object"==typeof t&&t instanceof Y}(n)&&us(n);a=l&&this.injectableDefInScope(l)?di(Fc(n),Ks):null,this.records.set(n,a)}if(null!=a)return this.hydrate(n,a)}return(r&ne.Self?Xs():this.parent).get(n,e=r&ne.Optional&&e===Hi?null:e)}catch(s){if("NullInjectorError"===s.name){if((s[fs]=s[fs]||[]).unshift(Ze(n)),i)throw s;return function kD(t,n,e,r){const i=t[fs];throw n[th]&&i.unshift(n[th]),t.message=function MD(t,n,e,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=Ze(n);if(Array.isArray(n))i=n.map(Ze).join(" -> ");else if("object"==typeof n){let o=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Ze(a)))}i=`{${o.join(", ")}}`}return`${e}${r?"("+r+")":""}[${i}]: ${t.replace(DD,"\n  ")}`}("\n"+t.message,i,e,r),t.ngTokenPath=i,t[fs]=null,t}(s,n,"R3InjectorError",this.source)}throw s}finally{bt(o),rr(i)}}resolveInjectorInitializers(){const n=rr(this),e=bt(void 0);try{const r=this.get(Qs.multi,me,ne.Self);for(const i of r)i()}finally{rr(n),bt(e)}}toString(){const n=[],e=this.records;for(const r of e.keys())n.push(Ze(r));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new k(205,!1)}processProvider(n){let e=kr(n=re(n))?n:re(n&&n.provide);const r=function AC(t){return Nc(t)?di(void 0,t.useValue):di(function mg(t,n,e){let r;if(kr(t)){const i=re(t);return Dr(i)||Fc(i)}if(Nc(t))r=()=>re(t.useValue);else if(function gg(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Al(t.deps||[]));else if(function pg(t){return!(!t||!t.useExisting)}(t))r=()=>R(re(t.useExisting));else{const i=re(t&&(t.useClass||t.provide));if(!function PC(t){return!!t.deps}(t))return Dr(i)||Fc(i);r=()=>new i(...Al(t.deps))}return r}(t),Ks)}(n);if(kr(n)||!0!==n.multi)this.records.get(e);else{let i=this.records.get(e);i||(i=di(void 0,Ks,!0),i.factory=()=>Al(i.multi),this.records.set(e,i)),e=n,i.multi.push(n)}this.records.set(e,r)}hydrate(n,e){return e.value===Ks&&(e.value=MC,e.value=e.factory()),"object"==typeof e.value&&e.value&&function NC(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(n){if(!n.providedIn)return!1;const e=re(n.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(n){const e=this._onDestroyHooks.indexOf(n);-1!==e&&this._onDestroyHooks.splice(e,1)}}function Fc(t){const n=us(t),e=null!==n?n.factory:Dr(t);if(null!==e)return e;if(t instanceof Y)throw new k(204,!1);if(t instanceof Function)return function IC(t){const n=t.length;if(n>0)throw function to(t,n){const e=[];for(let r=0;r<t;r++)e.push(n);return e}(n,"?"),new k(204,!1);const e=function vD(t){return t&&(t[ds]||t[Xf])||null}(t);return null!==e?()=>e.factory(t):()=>new t}(t);throw new k(204,!1)}function di(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function Lc(t,n){for(const e of t)Array.isArray(e)?Lc(e,n):e&&Tl(e)?Lc(e.\u0275providers,n):n(e)}const Js=new Y("AppId",{providedIn:"root",factory:()=>RC}),RC="ng",yg=new Y("Platform Initializer"),fi=new Y("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),_g=new Y("AnimationModuleType"),vg=new Y("CSP nonce",{providedIn:"root",factory:()=>ao().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let wg=(t,n)=>null;function Dg(t,n){return wg(t,n)}class $C{}class Eg{}class WC{resolveComponentFactory(n){throw function UC(t){const n=Error(`No component factory found for ${Ze(t)}.`);return n.ngComponent=t,n}(n)}}let po=(()=>{class t{}return t.NULL=new WC,t})();function qC(){return hi(rt(),N())}function hi(t,n){return new rn(Et(t,n))}let rn=(()=>{class t{constructor(e){this.nativeElement=e}}return t.__NG_ELEMENT_ID__=qC,t})();class go{}let YC=(()=>{class t{}return t.\u0275prov=ee({token:t,providedIn:"root",factory:()=>null}),t})();class ia{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const QC=new ia("16.1.2"),Zc={};function mo(t){for(;t;){t[se]|=64;const n=io(t);if(Fl(t)&&!n)return t;t=n}return null}function Yc(t){return t.ngOriginalError}class Ir{constructor(){this._console=console}handleError(n){const e=this._findOriginalError(n);this._console.error("ERROR",n),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(n){let e=n&&Yc(n);for(;e&&Yc(e);)e=Yc(e);return e||null}}const Ig=new Y("",{providedIn:"root",factory:()=>!1});function yo(t){return t.ownerDocument.defaultView}class Rg extends Sh{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(n){this._lView=n}onConsumerDependencyMayHaveChanged(){mo(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(n,e,r){const i=et(this);this.trackingVersion++;try{n(e,r)}finally{et(i)}}destroy(){this.trackingVersion++}}let sa=null;function Og(){return sa??=new Rg,sa}function Fg(t,n){return t[n]??Og()}function Lg(t,n){const e=Og();e.hasReadASignal&&(t[n]=sa,e.lView=t,sa=new Rg)}const le={};function g(t){Bg(he(),N(),gt()+t,!1)}function Bg(t,n,e,r){if(!r)if(3==(3&n[se])){const o=t.preOrderCheckHooks;null!==o&&Ts(n,o,e)}else{const o=t.preOrderHooks;null!==o&&ks(n,o,0,e)}Sr(e)}function jg(t,n=null,e=null,r){const i=$g(t,n,e,r);return i.resolveInjectorInitializers(),i}function $g(t,n=null,e=null,r,i=new Set){const o=[e||me,EC(t)];return r=r||("object"==typeof t?void 0:Ze(t)),new Oc(o,n||Xs(),r||null,i)}let Ft=(()=>{class t{static create(e,r){if(Array.isArray(e))return jg({name:""},r,e,"");{const i=e.name??"";return jg({name:i},e.parent,e.providers,i)}}}return t.THROW_IF_NOT_FOUND=Hi,t.NULL=new ug,t.\u0275prov=ee({token:t,providedIn:"any",factory:()=>R(lg)}),t.__NG_ELEMENT_ID__=-1,t})();function E(t,n=ne.Default){const e=N();return null===e?R(t,n):op(rt(),e,re(t),n)}function aa(t,n,e,r,i,o,s,a,l,c,h){const p=n.blueprint.slice();return p[Qe]=i,p[se]=140|r,(null!==c||t&&2048&t[se])&&(p[se]|=2048),xh(p),p[xe]=p[zr]=t,p[$e]=e,p[br]=s||t&&t[br],p[ae]=a||t&&t[ae],p[qr]=l||t&&t[qr]||null,p[ot]=o,p[Zi]=function SS(){return DS++}(),p[Ln]=h,p[yh]=c,p[Ue]=2==n.type?t[Ue]:p,p}function gi(t,n,e,r,i){let o=t.data[n];if(null===o)o=function Qc(t,n,e,r,i){const o=Vh(),s=jl(),l=t.data[n]=function yE(t,n,e,r,i,o){let s=n?n.injectorIndex:-1,a=0;return function Kr(){return null!==te.skipHydrationRootTNode}()&&(a|=128),{type:e,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,e,n,r,i);return null===t.firstChild&&(t.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}(t,n,e,r,i),function E1(){return te.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=e,o.value=r,o.attrs=i;const s=function Qi(){const t=te.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Sn(o,!0),o}function _o(t,n,e,r){if(0===e)return-1;const i=n.length;for(let o=0;o<e;o++)n.push(r),t.blueprint.push(r),t.data.push(null);return i}function Ug(t,n,e,r,i){const o=Fg(n,ms),s=gt(),a=2&r;try{if(Sr(-1),a&&n.length>fe&&Bg(t,n,fe,!1),Dn(a?2:0,i),a)o.runInContext(e,r,i);else{const c=et(null);try{e(r,i)}finally{et(c)}}}finally{a&&null===n[ms]&&Lg(n,ms),Sr(s),Dn(a?3:1,i)}}function Kc(t,n,e){if(Ol(n)){const r=et(null);try{const o=n.directiveEnd;for(let s=n.directiveStart;s<o;s++){const a=t.data[s];a.contentQueries&&a.contentQueries(1,e[s],s)}}finally{et(r)}}}function Xc(t,n,e){Bh()&&(function CE(t,n,e,r){const i=e.directiveStart,o=e.directiveEnd;wr(e)&&function PE(t,n,e){const r=Et(n,t),i=Wg(e);let s=16;e.signals?s=4096:e.onPush&&(s=64);const a=la(t,aa(t,i,null,s,r,n,null,t[br].rendererFactory.createRenderer(r,e),null,null,null));t[n.index]=a}(n,e,t.data[i+e.componentOffset]),t.firstCreatePass||Ps(e,n),lt(r,n);const s=e.initialInputs;for(let a=i;a<o;a++){const l=t.data[a],c=Cr(n,t,a,e);lt(c,n),null!==s&&NE(0,a-i,c,l,0,s),nn(l)&&(xt(e.index,n)[$e]=Cr(n,t,a,e))}}(t,n,e,Et(e,n)),64==(64&e.flags)&&Qg(t,n,e))}function Jc(t,n,e=Et){const r=n.localNames;if(null!==r){let i=n.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?e(n,t):t[s];t[i++]=a}}}function Wg(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=eu(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function eu(t,n,e,r,i,o,s,a,l,c,h){const p=fe+r,m=p+i,y=function dE(t,n){const e=[];for(let r=0;r<n;r++)e.push(r<t?null:le);return e}(p,m),_="function"==typeof c?c():c;return y[G]={type:t,blueprint:y,template:e,queries:null,viewQuery:a,declTNode:n,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:_,incompleteFirstPass:!1,ssrId:h}}let qg=t=>null;function zg(t,n,e,r){for(let i in t)if(t.hasOwnProperty(i)){e=null===e?{}:e;const o=t[i];null===r?Zg(e,n,i,o):r.hasOwnProperty(i)&&Zg(e,n,r[i],o)}return e}function Zg(t,n,e,r){t.hasOwnProperty(e)?t[e].push(n,r):t[e]=[n,r]}function Lt(t,n,e,r,i,o,s,a){const l=Et(n,e);let h,c=n.inputs;!a&&null!=c&&(h=c[r])?(ou(t,e,h,r,i),wr(n)&&function bE(t,n){const e=xt(n,t);16&e[se]||(e[se]|=64)}(e,n.index)):3&n.type&&(r=function vE(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,n.value||"",r):i,o.setProperty(l,r,i))}function tu(t,n,e,r){if(Bh()){const i=null===r?null:{"":-1},o=function TE(t,n){const e=t.directiveRegistry;let r=null,i=null;if(e)for(let o=0;o<e.length;o++){const s=e[o];if(dh(n,s.selectors,!1))if(r||(r=[]),nn(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),nu(t,n,a.length)}else r.unshift(s),nu(t,n,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(t,e);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&Yg(t,n,e,s,i,a),i&&function kE(t,n,e){if(n){const r=t.localNames=[];for(let i=0;i<n.length;i+=2){const o=e[n[i+1]];if(null==o)throw new k(-301,!1);r.push(n[i],o)}}}(e,r,i)}e.mergedAttrs=$i(e.mergedAttrs,e.attrs)}function Yg(t,n,e,r,i,o){for(let c=0;c<r.length;c++)ec(Ps(e,n),t,r[c].type);!function IE(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}(e,t.data.length,r.length);for(let c=0;c<r.length;c++){const h=r[c];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,l=_o(t,n,r.length,null);for(let c=0;c<r.length;c++){const h=r[c];e.mergedAttrs=$i(e.mergedAttrs,h.hostAttrs),AE(t,e,n,l,h),ME(l,h,i),null!==h.contentQueries&&(e.flags|=4),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(e.flags|=64);const p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(e.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(e.index),a=!0),l++}!function _E(t,n,e){const i=n.directiveEnd,o=t.data,s=n.attrs,a=[];let l=null,c=null;for(let h=n.directiveStart;h<i;h++){const p=o[h],m=e?e.get(p):null,_=m?m.outputs:null;l=zg(p.inputs,h,l,m?m.inputs:null),c=zg(p.outputs,h,c,_);const D=null===l||null===s||uh(n)?null:xE(l,h,s);a.push(D)}null!==l&&(l.hasOwnProperty("class")&&(n.flags|=8),l.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=a,n.inputs=l,n.outputs=c}(t,e,o)}function Qg(t,n,e){const r=e.directiveStart,i=e.directiveEnd,o=e.index,s=function k1(){return te.lFrame.currentDirectiveIndex}();try{Sr(o);for(let a=r;a<i;a++){const l=t.data[a],c=n[a];Ul(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&EE(l,c)}}finally{Sr(-1),Ul(s)}}function EE(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function nu(t,n,e){n.componentOffset=e,(t.components??=[]).push(n.index)}function ME(t,n,e){if(e){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)e[n.exportAs[r]]=t;nn(n)&&(e[""]=t)}}function AE(t,n,e,r,i){t.data[r]=i;const o=i.factory||(i.factory=Dr(i.type)),s=new Ki(o,nn(i),E);t.blueprint[r]=s,e[r]=s,function DE(t,n,e,r,i){const o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const a=~n.index;(function SE(t){let n=t.length;for(;n>0;){const e=t[--n];if("number"==typeof e&&e<0)return e}return 0})(s)!=a&&s.push(a),s.push(e,r,o)}}(t,n,r,_o(t,e,i.hostVars,le),i)}function Tn(t,n,e,r,i,o){const s=Et(t,n);!function ru(t,n,e,r,i,o,s){if(null==o)t.removeAttribute(n,i,e);else{const a=null==s?ie(o):s(o,r||"",i);t.setAttribute(n,i,a,e)}}(n[ae],s,o,t.value,e,r,i)}function NE(t,n,e,r,i,o){const s=o[n];if(null!==s)for(let a=0;a<s.length;)Kg(r,e,s[a++],s[a++],s[a++])}function Kg(t,n,e,r,i){const o=et(null);try{const s=t.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(n,i)),null!==t.setInput?t.setInput(n,i,e,r):n[r]=i}finally{et(o)}}function xE(t,n,e){let r=null,i=0;for(;i<e.length;){const o=e[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===r&&(r=[]);const s=t[o];for(let a=0;a<s.length;a+=2)if(s[a]===n){r.push(o,s[a+1],e[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function Xg(t,n,e,r){return[t,!0,!1,n,null,0,r,e,null,null,null]}function Jg(t,n){const e=t.contentQueries;if(null!==e)for(let r=0;r<e.length;r+=2){const o=e[r+1];if(-1!==o){const s=t.data[o];ql(e[r]),s.contentQueries(2,n[o],o)}}}function la(t,n){return t[qi]?t[mh][tn]=n:t[qi]=n,t[mh]=n,n}function iu(t,n,e){ql(0);const r=et(null);try{n(t,e)}finally{et(r)}}function rm(t,n){const e=t[qr],r=e?e.get(Ir,null):null;r&&r.handleError(n)}function ou(t,n,e,r,i){for(let o=0;o<e.length;){const s=e[o++],a=e[o++];Kg(t.data[s],n[s],r,a,i)}}function $n(t,n,e){const r=Ss(n,t);!function Op(t,n,e){t.setValue(n,e)}(t[ae],r,e)}function RE(t,n){const e=xt(n,t),r=e[G];!function OE(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])}(r,e);const i=e[Qe];null!==i&&null===e[Ln]&&(e[Ln]=Dg(i,e[qr])),su(r,e,e[$e])}function su(t,n,e){zl(n);try{const r=t.viewQuery;null!==r&&iu(1,r,e);const i=t.template;null!==i&&Ug(t,n,i,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Jg(t,n),t.staticViewQueries&&iu(2,t.viewQuery,e);const o=t.components;null!==o&&function FE(t,n){for(let e=0;e<n.length;e++)RE(t,n[e])}(n,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{n[se]&=-5,Zl()}}let im=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(e,r,i){const o=typeof Zone>"u"?null:Zone.current,s=new r1(e,c=>{this.all.has(c)&&this.queue.set(c,o)},i);let a;this.all.add(s),s.notify();const l=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[e,r]of this.queue)this.queue.delete(e),r?r.run(()=>e.run()):e.run()}get isQueueEmpty(){return 0===this.queue.size}}return t.\u0275prov=ee({token:t,providedIn:"root",factory:()=>new t}),t})();function ca(t,n,e){let r=e?t.styles:null,i=e?t.classes:null,o=0;if(null!==n)for(let s=0;s<n.length;s++){const a=n[s];"number"==typeof a?o=a:1==o?i=Cl(i,a):2==o&&(r=Cl(r,a+": "+n[++s]+";"))}e?t.styles=r:t.stylesWithoutHost=r,e?t.classes=i:t.classesWithoutHost=i}function vo(t,n,e,r,i=!1){for(;null!==e;){const o=n[e.index];if(null!==o&&r.push(Pe(o)),Ct(o)){for(let a=st;a<o.length;a++){const l=o[a],c=l[G].firstChild;null!==c&&vo(l[G],l,c,r)}o[bn]!==o[Qe]&&r.push(o[bn])}const s=e.type;if(8&s)vo(t,n,e.child,r);else if(32&s){const a=mc(e,n);let l;for(;l=a();)r.push(l)}else if(16&s){const a=Wp(n,e);if(Array.isArray(a))r.push(...a);else{const l=io(n[Ue]);vo(l[G],l,a,r,!0)}}e=i?e.projectionNext:e.next}return r}function ua(t,n,e,r=!0){const i=n[br].rendererFactory;i.begin&&i.begin();try{om(t,n,t.template,e)}catch(s){throw r&&rm(n,s),s}finally{i.end&&i.end(),n[br].effectManager?.flush()}}function om(t,n,e,r){const i=n[se];if(256!=(256&i)){n[br].effectManager?.flush(),zl(n);try{xh(n),function Gh(t){return te.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==e&&Ug(t,n,e,2,r);const s=3==(3&i);if(s){const c=t.preOrderCheckHooks;null!==c&&Ts(n,c,null)}else{const c=t.preOrderHooks;null!==c&&ks(n,c,0,null),Yl(n,0)}if(function GE(t){for(let n=Np(t);null!==n;n=xp(n)){if(!n[_h])continue;const e=n[Yr];for(let r=0;r<e.length;r++){p1(e[r])}}}(n),sm(n,2),null!==t.contentQueries&&Jg(t,n),s){const c=t.contentCheckHooks;null!==c&&Ts(n,c)}else{const c=t.contentHooks;null!==c&&ks(n,c,1),Yl(n,1)}!function uE(t,n){const e=t.hostBindingOpCodes;if(null===e)return;const r=Fg(n,ys);try{for(let i=0;i<e.length;i++){const o=e[i];if(o<0)Sr(~o);else{const s=o,a=e[++i],l=e[++i];T1(a,s),r.runInContext(l,2,n[s])}}}finally{null===n[ys]&&Lg(n,ys),Sr(-1)}}(t,n);const a=t.components;null!==a&&lm(n,a,0);const l=t.viewQuery;if(null!==l&&iu(2,l,r),s){const c=t.viewCheckHooks;null!==c&&Ts(n,c)}else{const c=t.viewHooks;null!==c&&ks(n,c,2),Yl(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[se]&=-73,Rh(n)}finally{Zl()}}}function sm(t,n){for(let e=Np(t);null!==e;e=xp(e))for(let r=st;r<e.length;r++)am(e[r],n)}function jE(t,n,e){am(xt(n,t),e)}function am(t,n){if(!function f1(t){return 128==(128&t[se])}(t))return;const e=t[G];if(80&t[se]&&0===n||1024&t[se]||2===n)om(e,t,e.template,t[$e]);else if(t[Wi]>0){sm(t,1);const i=t[G].components;null!==i&&lm(t,i,1)}}function lm(t,n,e){for(let r=0;r<n.length;r++)jE(t,n[r],e)}class bo{get rootNodes(){const n=this._lView,e=n[G];return vo(e,n,e.firstChild,[])}constructor(n,e){this._lView=n,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[$e]}set context(n){this._lView[$e]=n}get destroyed(){return 256==(256&this._lView[se])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[xe];if(Ct(n)){const e=n[8],r=e?e.indexOf(this):-1;r>-1&&(_c(n,r),xs(e,r))}this._attachedToViewContainer=!1}Lp(this._lView[G],this._lView)}onDestroy(n){!function Fh(t,n){if(256==(256&t[se]))throw new k(911,!1);null===t[ir]&&(t[ir]=[]),t[ir].push(n)}(this._lView,n)}markForCheck(){mo(this._cdRefInjectingView||this._lView)}detach(){this._lView[se]&=-129}reattach(){this._lView[se]|=128}detectChanges(){ua(this._lView[G],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new k(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function LS(t,n){so(t,n,n[ae],2,null,null)}(this._lView[G],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new k(902,!1);this._appRef=n}}class $E extends bo{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;ua(n[G],n,n[$e],!1)}checkNoChanges(){}get context(){return null}}class cm extends po{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const e=ye(n);return new wo(e,this.ngModule)}}function um(t){const n=[];for(let e in t)t.hasOwnProperty(e)&&n.push({propName:t[e],templateName:e});return n}class WE{constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,r){r=hs(r);const i=this.injector.get(n,Zc,r);return i!==Zc||e===Zc?i:this.parentInjector.get(n,e,r)}}class wo extends Eg{get inputs(){return um(this.componentDef.inputs)}get outputs(){return um(this.componentDef.outputs)}constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=function BD(t){return t.map(LD).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!e}create(n,e,r,i){let o=(i=i||this.ngModule)instanceof ui?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new WE(n,o):n,a=s.get(go,null);if(null===a)throw new k(407,!1);const h={rendererFactory:a,sanitizer:s.get(YC,null),effectManager:s.get(im,null)},p=a.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",y=r?function fE(t,n,e,r){const o=r.get(Ig,!1)||e===wt.ShadowDom,s=t.selectRootElement(n,o);return function hE(t){qg(t)}(s),s}(p,r,this.componentDef.encapsulation,s):Gs(p,m,function UE(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(m)),A=this.componentDef.signals?4608:this.componentDef.onPush?576:528,L=eu(0,null,null,1,0,null,null,null,null,null,null),S=aa(null,L,null,A,null,null,h,p,s,null,null);let $,W;zl(S);try{const X=this.componentDef;let Ce,ze=null;X.findHostDirectiveDefs?(Ce=[],ze=new Map,X.findHostDirectiveDefs(X,Ce,ze),Ce.push(X)):Ce=[X];const pn=function zE(t,n){const e=t[G],r=fe;return t[r]=n,gi(e,r,2,"#host",null)}(S,y),gn=function ZE(t,n,e,r,i,o,s){const a=i[G];!function YE(t,n,e,r){for(const i of t)n.mergedAttrs=$i(n.mergedAttrs,i.hostAttrs);null!==n.mergedAttrs&&(ca(n,n.mergedAttrs,!0),null!==e&&Yp(r,e,n))}(r,t,n,s);let l=null;null!==n&&(l=Dg(n,i[qr]));const c=o.rendererFactory.createRenderer(n,e);let h=16;e.signals?h=4096:e.onPush&&(h=64);const p=aa(i,Wg(e),null,h,i[t.index],t,o,c,null,null,l);return a.firstCreatePass&&nu(a,t,r.length-1),la(i,p),i[t.index]=p}(pn,y,X,Ce,S,h,p);W=Nh(L,fe),y&&function KE(t,n,e,r){if(r)xl(t,e,["ng-version",QC.full]);else{const{attrs:i,classes:o}=function VD(t){const n=[],e=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&n.push(o,t[++r]):8===i&&e.push(o);else{if(!en(i))break;i=o}r++}return{attrs:n,classes:e}}(n.selectors[0]);i&&xl(t,e,i),o&&o.length>0&&Zp(t,e,o.join(" "))}}(p,X,y,r),void 0!==e&&function XE(t,n,e){const r=t.projection=[];for(let i=0;i<n.length;i++){const o=e[i];r.push(null!=o?Array.from(o):null)}}(W,this.ngContentSelectors,e),$=function QE(t,n,e,r,i,o){const s=rt(),a=i[G],l=Et(s,i);Yg(a,i,s,e,null,r);for(let h=0;h<e.length;h++)lt(Cr(i,a,s.directiveStart+h,s),i);Qg(a,i,s),l&&lt(l,i);const c=Cr(i,a,s.directiveStart+s.componentOffset,s);if(t[$e]=i[$e]=c,null!==o)for(const h of o)h(c,n);return Kc(a,s,t),c}(gn,X,Ce,ze,S,[JE]),su(L,S,null)}finally{Zl()}return new qE(this.componentType,$,hi(W,S),S,W)}}class qE extends $C{constructor(n,e,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new $E(i),this.componentType=n}setInput(n,e){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),e))return;const o=this._rootLView;ou(o[G],o,i,n,e),this.previousInputValues.set(n,e),mo(xt(this._tNode.index,o))}}get injector(){return new ei(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function JE(){const t=rt();Es(N()[G],t)}function fa(t){return!!function au(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function ct(t,n,e){return!Object.is(t[n],e)&&(t[n]=e,!0)}function Ar(t,n,e,r){const i=ct(t,n,e);return ct(t,n+1,r)||i}function Mt(t,n,e,r){const i=N();return ct(i,Xr(),n)&&(he(),Tn(Re(),i,t,n,e,r)),Mt}function vi(t,n,e,r,i,o,s,a){const c=function ha(t,n,e,r,i){const o=Ar(t,n,e,r);return ct(t,n+2,i)||o}(t,Vn(),e,i,s);return Hn(3),c?n+ie(e)+r+ie(i)+o+ie(s)+a:le}function P(t,n,e,r,i,o,s,a){const l=N(),c=he(),h=t+fe,p=c.firstCreatePass?function IT(t,n,e,r,i,o,s,a,l){const c=n.consts,h=gi(n,t,4,s||null,or(c,a));tu(n,e,h,or(c,l)),Es(n,h);const p=h.tView=eu(2,h,r,i,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,c,null);return null!==n.queries&&(n.queries.template(n,h),p.queries=n.queries.embeddedTView(h)),h}(h,c,l,n,e,r,i,o,s):c.data[h];Sn(p,!1);const m=km(c,l,p,t);Cs()&&$s(c,l,m,p),lt(m,l),la(l,l[h]=Xg(m,l,m,p)),vs(p)&&Xc(c,l,p),null!=s&&Jc(l,p,a)}let km=function Mm(t,n,e,r){return sr(!0),n[ae].createComment("")};function v(t,n,e){const r=N();return ct(r,Xr(),n)&&Lt(he(),Re(),r,t,n,r[ae],e,!1),v}function hu(t,n,e,r,i){const s=i?"class":"style";ou(t,e,n.inputs[s],s,r)}function d(t,n,e,r){const i=N(),o=he(),s=fe+t,a=i[ae],l=o.firstCreatePass?function RT(t,n,e,r,i,o){const s=n.consts,l=gi(n,t,2,r,or(s,i));return tu(n,e,l,or(s,o)),null!==l.attrs&&ca(l,l.attrs,!1),null!==l.mergedAttrs&&ca(l,l.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,l),l}(s,o,i,n,e,r):o.data[s],c=Im(o,i,l,a,n,t);i[s]=c;const h=vs(l);return Sn(l,!0),Yp(a,c,l),32!=(32&l.flags)&&Cs()&&$s(o,i,c,l),0===function m1(){return te.lFrame.elementDepthCount}()&&lt(c,i),function y1(){te.lFrame.elementDepthCount++}(),h&&(Xc(o,i,l),Kc(o,l,i)),null!==r&&Jc(i,l),d}function u(){let t=rt();jl()?$l():(t=t.parent,Sn(t,!1));const n=t;(function v1(t){return te.skipHydrationRootTNode===t})(n)&&function S1(){te.skipHydrationRootTNode=null}(),function _1(){te.lFrame.elementDepthCount--}();const e=he();return e.firstCreatePass&&(Es(e,t),Ol(t)&&e.queries.elementEnd(t)),null!=n.classesWithoutHost&&function B1(t){return 0!=(8&t.flags)}(n)&&hu(e,n,N(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function V1(t){return 0!=(16&t.flags)}(n)&&hu(e,n,N(),n.stylesWithoutHost,!1),u}function T(t,n,e,r){return d(t,n,e,r),u(),T}let Im=(t,n,e,r,i,o)=>(sr(!0),Gs(r,i,function Yh(){return te.lFrame.currentNamespace}()));function To(t,n,e){const r=N(),i=he(),o=t+fe,s=i.firstCreatePass?function LT(t,n,e,r,i){const o=n.consts,s=or(o,r),a=gi(n,t,8,"ng-container",s);return null!==s&&ca(a,s,!0),tu(n,e,a,or(o,i)),null!==n.queries&&n.queries.elementStart(n,a),a}(o,i,r,n,e):i.data[o];Sn(s,!0);const a=Pm(i,r,s,t);return r[o]=a,Cs()&&$s(i,r,a,s),lt(a,r),vs(s)&&(Xc(i,r,s),Kc(i,s,r)),null!=e&&Jc(r,s),To}function ko(){let t=rt();const n=he();return jl()?$l():(t=t.parent,Sn(t,!1)),n.firstCreatePass&&(Es(n,t),Ol(t)&&n.queries.elementEnd(t)),ko}let Pm=(t,n,e,r)=>(sr(!0),yc(n[ae],""));function pe(){return N()}function ya(t){return!!t&&"function"==typeof t.then}function Nm(t){return!!t&&"function"==typeof t.subscribe}function C(t,n,e,r){const i=N(),o=he(),s=rt();return function Rm(t,n,e,r,i,o,s){const a=vs(r),c=t.firstCreatePass&&function tm(t){return t.cleanup||(t.cleanup=[])}(t),h=n[$e],p=function em(t){return t[Wr]||(t[Wr]=[])}(n);let m=!0;if(3&r.type||s){const D=Et(r,n),A=s?s(D):D,L=p.length,S=s?W=>s(Pe(W[r.index])):r.index;let $=null;if(!s&&a&&($=function HT(t,n,e,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===e&&i[o+1]===r){const a=n[Wr],l=i[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(t,n,i,r.index)),null!==$)($.__ngLastListenerFn__||$).__ngNextListenerFn__=o,$.__ngLastListenerFn__=o,m=!1;else{o=Fm(r,n,h,o,!1);const W=e.listen(A,i,o);p.push(o,W),c&&c.push(i,S,L,L+1)}}else o=Fm(r,n,h,o,!1);const y=r.outputs;let _;if(m&&null!==y&&(_=y[i])){const D=_.length;if(D)for(let A=0;A<D;A+=2){const X=n[_[A]][_[A+1]].subscribe(o),Ce=p.length;p.push(o,X),c&&c.push(i,r.index,Ce,-(Ce+1))}}}(o,i,i[ae],s,t,n,r),C}function Om(t,n,e,r){try{return Dn(6,n,e),!1!==e(r)}catch(i){return rm(t,i),!1}finally{Dn(7,n,e)}}function Fm(t,n,e,r,i){return function o(s){if(s===Function)return r;mo(t.componentOffset>-1?xt(t.index,n):n);let l=Om(n,e,r,s),c=o.__ngNextListenerFn__;for(;c;)l=Om(n,e,c,s)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&s.preventDefault(),l}}function b(t=1){return function I1(t){return(te.lFrame.contextLView=function A1(t,n){for(;t>0;)n=n[zr],t--;return n}(t,te.lFrame.contextLView))[$e]}(t)}function _a(t,n){return t<<17|n<<2}function ar(t){return t>>17&32767}function gu(t){return 2|t}function Pr(t){return(131068&t)>>2}function mu(t,n){return-131069&t|n<<2}function yu(t){return 1|t}function qm(t,n,e,r,i){const o=t[e+1],s=null===n;let a=r?ar(o):Pr(o),l=!1;for(;0!==a&&(!1===l||s);){const h=t[a+1];YT(t[a],n)&&(l=!0,t[a+1]=r?yu(h):gu(h)),a=r?ar(h):Pr(h)}l&&(t[e+1]=r?gu(o):yu(o))}function YT(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&oi(t,n)>=0}const Xe={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function zm(t){return t.substring(Xe.key,Xe.keyEnd)}function Zm(t,n){const e=Xe.textEnd;return e===n?-1:(n=Xe.keyEnd=function JT(t,n,e){for(;n<e&&t.charCodeAt(n)>32;)n++;return n}(t,Xe.key=n,e),Ei(t,n,e))}function Ei(t,n,e){for(;n<e&&t.charCodeAt(n)<=32;)n++;return n}function Un(t,n,e){return on(t,n,e,!1),Un}function j(t,n){return on(t,n,null,!0),j}function Wn(t){!function sn(t,n,e,r){const i=he(),o=Hn(2);i.firstUpdatePass&&ey(i,null,o,r);const s=N();if(e!==le&&ct(s,o,e)){const a=i.data[gt()];if(iy(a,r)&&!Jm(i,o)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(e=Cl(l,e||"")),hu(i,a,s,e,r)}else!function ck(t,n,e,r,i,o,s,a){i===le&&(i=me);let l=0,c=0,h=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;null!==h||null!==p;){const m=l<i.length?i[l+1]:void 0,y=c<o.length?o[c+1]:void 0;let D,_=null;h===p?(l+=2,c+=2,m!==y&&(_=p,D=y)):null===p||null!==h&&h<p?(l+=2,_=h):(c+=2,_=p,D=y),null!==_&&ny(t,n,e,r,_,D,s,a),h=l<i.length?i[l]:null,p=c<o.length?o[c]:null}}(i,a,s,s[ae],s[o+1],s[o+1]=function ak(t,n,e){if(null==e||""===e)return me;const r=[],i=Ot(e);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else"string"==typeof i&&n(r,i);return r}(t,n,e),r,o)}}(lk,In,t,!0)}function In(t,n){for(let e=function KT(t){return function Qm(t){Xe.key=0,Xe.keyEnd=0,Xe.value=0,Xe.valueEnd=0,Xe.textEnd=t.length}(t),Zm(t,Ei(t,0,Xe.textEnd))}(n);e>=0;e=Zm(n,e))Rt(t,zm(n),!0)}function on(t,n,e,r){const i=N(),o=he(),s=Hn(2);o.firstUpdatePass&&ey(o,t,s,r),n!==le&&ct(i,s,n)&&ny(o,o.data[gt()],i,i[ae],t,i[s+1]=function uk(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Ze(Ot(t)))),t}(n,e),r,s)}function Jm(t,n){return n>=t.expandoStartIndex}function ey(t,n,e,r){const i=t.data;if(null===i[e+1]){const o=i[gt()],s=Jm(t,e);iy(o,r)&&null===n&&!s&&(n=!1),n=function rk(t,n,e,r){const i=Wl(t);let o=r?n.residualClasses:n.residualStyles;if(null===i)0===(r?n.classBindings:n.styleBindings)&&(e=Mo(e=_u(null,t,n,e,r),n.attrs,r),o=null);else{const s=n.directiveStylingLast;if(-1===s||t[s]!==i)if(e=_u(i,t,n,e,r),null===o){let l=function ik(t,n,e){const r=e?n.classBindings:n.styleBindings;if(0!==Pr(r))return t[ar(r)]}(t,n,r);void 0!==l&&Array.isArray(l)&&(l=_u(null,t,n,l[1],r),l=Mo(l,n.attrs,r),function ok(t,n,e,r){t[ar(e?n.classBindings:n.styleBindings)]=r}(t,n,r,l))}else o=function sk(t,n,e){let r;const i=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<i;o++)r=Mo(r,t[o].hostAttrs,e);return Mo(r,n.attrs,e)}(t,n,r)}return void 0!==o&&(r?n.residualClasses=o:n.residualStyles=o),e}(i,o,n,r),function zT(t,n,e,r,i,o){let s=o?n.classBindings:n.styleBindings,a=ar(s),l=Pr(s);t[r]=e;let h,c=!1;if(Array.isArray(e)?(h=e[1],(null===h||oi(e,h)>0)&&(c=!0)):h=e,i)if(0!==l){const m=ar(t[a+1]);t[r+1]=_a(m,a),0!==m&&(t[m+1]=mu(t[m+1],r)),t[a+1]=function WT(t,n){return 131071&t|n<<17}(t[a+1],r)}else t[r+1]=_a(a,0),0!==a&&(t[a+1]=mu(t[a+1],r)),a=r;else t[r+1]=_a(l,0),0===a?a=r:t[l+1]=mu(t[l+1],r),l=r;c&&(t[r+1]=gu(t[r+1])),qm(t,h,r,!0),qm(t,h,r,!1),function ZT(t,n,e,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof n&&oi(o,n)>=0&&(e[r+1]=yu(e[r+1]))}(n,h,t,r,o),s=_a(a,l),o?n.classBindings=s:n.styleBindings=s}(i,o,n,e,s,r)}}function _u(t,n,e,r,i){let o=null;const s=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<s&&(o=n[a],r=Mo(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(e.directiveStylingLast=a),r}function Mo(t,n,e){const r=e?1:2;let i=-1;if(null!==n)for(let o=0;o<n.length;o++){const s=n[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Rt(t,s,!!e||n[++o]))}return void 0===t?null:t}function lk(t,n,e){const r=String(n);""!==r&&!r.includes(" ")&&Rt(t,r,e)}function ny(t,n,e,r,i,o,s,a){if(!(3&n.type))return;const l=t.data,c=l[a+1],h=function qT(t){return 1==(1&t)}(c)?ry(l,n,e,i,Pr(c),s):void 0;va(h)||(va(o)||function UT(t){return 2==(2&t)}(c)&&(o=ry(l,null,e,i,a,s)),function zS(t,n,e,r,i){if(n)i?t.addClass(e,r):t.removeClass(e,r);else{let o=-1===r.indexOf("-")?void 0:Tt.DashCase;null==i?t.removeStyle(e,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Tt.Important),t.setStyle(e,r,i,o))}}(r,s,Ss(gt(),e),i,o))}function ry(t,n,e,r,i,o){const s=null===n;let a;for(;i>0;){const l=t[i],c=Array.isArray(l),h=c?l[1]:l,p=null===h;let m=e[i+1];m===le&&(m=p?me:void 0);let y=p?ic(m,r):h===r?m:void 0;if(c&&!va(y)&&(y=ic(l,r)),va(y)&&(a=y,s))return a;const _=t[i+1];i=s?ar(_):Pr(_)}if(null!==n){let l=o?n.residualClasses:n.residualStyles;null!=l&&(a=ic(l,r))}return a}function va(t){return void 0!==t}function iy(t,n){return 0!=(t.flags&(n?8:16))}function f(t,n=""){const e=N(),r=he(),i=t+fe,o=r.firstCreatePass?gi(r,i,1,n,null):r.data[i],s=oy(r,e,o,n,t);e[i]=s,Cs()&&$s(r,e,s,o),Sn(o,!1)}let oy=(t,n,e,r,i)=>(sr(!0),function Hs(t,n){return t.createText(n)}(n[ae],r));function an(t){return ce("",t,""),an}function ce(t,n,e){const r=N(),i=function yi(t,n,e,r){return ct(t,Xr(),e)?n+ie(e)+r:le}(r,t,n,e);return i!==le&&$n(r,gt(),i),ce}function ln(t,n,e,r,i){const o=N(),s=function _i(t,n,e,r,i,o){const a=Ar(t,Vn(),e,i);return Hn(2),a?n+ie(e)+r+ie(i)+o:le}(o,t,n,e,r,i);return s!==le&&$n(o,gt(),s),ln}function lr(t,n,e,r,i,o,s){const a=N(),l=vi(a,t,n,e,r,i,o,s);return l!==le&&$n(a,gt(),l),lr}function vu(t,n,e){const r=N();if(ct(r,Xr(),n)){const o=he(),s=Re();Lt(o,s,r,t,n,function nm(t,n,e){return(null===t||nn(t))&&(e=function c1(t){for(;Array.isArray(t);){if("object"==typeof t[Rl])return t;t=t[Qe]}return null}(e[n.index])),e[ae]}(Wl(o.data),s,r),e,!0)}return vu}const Nr=void 0;var Nk=["en",[["a","p"],["AM","PM"],Nr],[["AM","PM"],Nr,Nr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Nr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Nr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Nr,"{1} 'at' {0}",Nr],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Pk(t){const e=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===r?1:5}];let Ti={};function mt(t){const n=function xk(t){return t.toLowerCase().replace(/_/g,"-")}(t);let e=Sy(n);if(e)return e;const r=n.split("-")[0];if(e=Sy(r),e)return e;if("en"===r)return Nk;throw new k(701,!1)}function Sy(t){return t in Ti||(Ti[t]=Te.ng&&Te.ng.common&&Te.ng.common.locales&&Te.ng.common.locales[t]),Ti[t]}var V=(()=>((V=V||{})[V.LocaleId=0]="LocaleId",V[V.DayPeriodsFormat=1]="DayPeriodsFormat",V[V.DayPeriodsStandalone=2]="DayPeriodsStandalone",V[V.DaysFormat=3]="DaysFormat",V[V.DaysStandalone=4]="DaysStandalone",V[V.MonthsFormat=5]="MonthsFormat",V[V.MonthsStandalone=6]="MonthsStandalone",V[V.Eras=7]="Eras",V[V.FirstDayOfWeek=8]="FirstDayOfWeek",V[V.WeekendRange=9]="WeekendRange",V[V.DateFormat=10]="DateFormat",V[V.TimeFormat=11]="TimeFormat",V[V.DateTimeFormat=12]="DateTimeFormat",V[V.NumberSymbols=13]="NumberSymbols",V[V.NumberFormats=14]="NumberFormats",V[V.CurrencyCode=15]="CurrencyCode",V[V.CurrencySymbol=16]="CurrencySymbol",V[V.CurrencyName=17]="CurrencyName",V[V.Currencies=18]="Currencies",V[V.Directionality=19]="Directionality",V[V.PluralCase=20]="PluralCase",V[V.ExtraData=21]="ExtraData",V))();const ki="en-US";let Cy=ki;class Mi{}class PM{}class Tu extends Mi{constructor(n,e,r){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new cm(this);const i=function Pt(t,n){const e=t[rh]||null;if(!e&&!0===n)throw new Error(`Type ${Ze(t)} does not have '\u0275mod' property.`);return e}(n);this._bootstrapComponents=function jn(t){return t instanceof Function?t():t}(i.bootstrap),this._r3Injector=$g(n,e,[{provide:Mi,useValue:this},{provide:po,useValue:this.componentFactoryResolver},...r],Ze(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class ku extends PM{constructor(n){super(),this.moduleType=n}create(n){return new Tu(this.moduleType,n,[])}}function i_(t,n,e,r,i,o,s){const a=n+e;return Ar(t,a,i,o)?function kn(t,n,e){return t[n]=e}(t,a+2,s?r.call(s,i,o):r(i,o)):function Ro(t,n){const e=t[n];return e===le?void 0:e}(t,a+2)}function qn(t,n){const e=he();let r;const i=t+fe;e.firstCreatePass?(r=function tI(t,n){if(n)for(let e=n.length-1;e>=0;e--){const r=n[e];if(t===r.name)return r}}(n,e.pipeRegistry),e.data[i]=r,r.onDestroy&&(e.destroyHooks??=[]).push(i,r.onDestroy)):r=e.data[i];const o=r.factory||(r.factory=Dr(r.type)),s=bt(E);try{const a=As(!1),l=o();return As(a),function NT(t,n,e,r){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),n[e]=r}(e,N(),i,l),l}finally{bt(s)}}function zn(t,n,e,r){const i=t+fe,o=N(),s=function Qr(t,n){return t[n]}(o,i);return function Oo(t,n){return t[G].data[n].pure}(o,i)?i_(o,function pt(){const t=te.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}(),n,s.transform,e,r,s):s.transform(e,r)}function Iu(t){return n=>{setTimeout(t,void 0,n)}}const ut=class sI extends Xt{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,e,r){let i=n,o=e||(()=>null),s=r;if(n&&"object"==typeof n){const l=n;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=Iu(o),i&&(i=Iu(i)),s&&(s=Iu(s)));const a=super.subscribe({next:i,error:o,complete:s});return n instanceof He&&n.add(a),a}};let Zn=(()=>{class t{}return t.__NG_ELEMENT_ID__=uI,t})();const lI=Zn,cI=class extends lI{constructor(n,e,r){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,e){return this.createEmbeddedViewImpl(n,e,null)}createEmbeddedViewImpl(n,e,r){const s=this._declarationTContainer.tView,a=aa(this._declarationLView,s,n,4096&this._declarationLView[se]?4096:16,null,s.declTNode,null,null,null,e||null,r||null);a[zi]=this._declarationLView[this._declarationTContainer.index];const c=this._declarationLView[vn];return null!==c&&(a[vn]=c.createEmbeddedView(s)),su(s,a,n),new bo(a)}};function uI(){return function Ca(t,n){return 4&t.type?new cI(n,t,hi(t,n)):null}(rt(),N())}let An=(()=>{class t{}return t.__NG_ELEMENT_ID__=yI,t})();function yI(){return function h_(t,n){let e;const r=n[t.index];return Ct(r)?e=r:(e=Xg(r,n,null,t),n[t.index]=e,la(n,e)),p_(e,n,t,r),new d_(e,t,n)}(rt(),N())}const _I=An,d_=class extends _I{constructor(n,e,r){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=r}get element(){return hi(this._hostTNode,this._hostLView)}get injector(){return new ei(this._hostTNode,this._hostLView)}get parentInjector(){const n=Jl(this._hostTNode,this._hostLView);if(Jh(n)){const e=Is(n,this._hostLView),r=Ms(n);return new ei(e[G].data[r+8],e)}return new ei(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const e=f_(this._lContainer);return null!==e&&e[n]||null}get length(){return this._lContainer.length-st}createEmbeddedView(n,e,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=n.createEmbeddedViewImpl(e||{},o,null);return this.insertImpl(a,i,false),a}createComponent(n,e,r,i,o){const s=n&&!function Ji(t){return"function"==typeof t}(n);let a;if(s)a=e;else{const D=e||{};a=D.index,r=D.injector,i=D.projectableNodes,o=D.environmentInjector||D.ngModuleRef}const l=s?n:new wo(ye(n)),c=r||this.parentInjector;if(!o&&null==l.ngModule){const A=(s?c:this.parentInjector).get(ui,null);A&&(o=A)}ye(l.componentType??{});const y=l.create(c,i,null,o);return this.insertImpl(y.hostView,a,false),y}insert(n,e){return this.insertImpl(n,e,!1)}insertImpl(n,e,r){const i=n._lView,o=i[G];if(function h1(t){return Ct(t[xe])}(i)){const l=this.indexOf(n);if(-1!==l)this.detach(l);else{const c=i[xe],h=new d_(c,c[ot],c[xe]);h.detach(h.indexOf(n))}}const s=this._adjustIndex(e),a=this._lContainer;if(function VS(t,n,e,r){const i=st+r,o=e.length;r>0&&(e[i-1][tn]=n),r<o-st?(n[tn]=e[i],dp(e,st+r,n)):(e.push(n),n[tn]=null),n[xe]=e;const s=n[zi];null!==s&&e!==s&&function HS(t,n){const e=t[Yr];n[Ue]!==n[xe][xe][Ue]&&(t[_h]=!0),null===e?t[Yr]=[n]:e.push(n)}(s,n);const a=n[vn];null!==a&&a.insertView(t),n[se]|=128}(o,i,a,s),!r){const l=Dc(s,a),c=i[ae],h=js(c,a[bn]);null!==h&&function FS(t,n,e,r,i,o){r[Qe]=i,r[ot]=n,so(t,r,e,1,i,o)}(o,a[ot],c,i,h,l)}return n.attachToViewContainerRef(),dp(Nu(a),s,n),n}move(n,e){return this.insert(n,e)}indexOf(n){const e=f_(this._lContainer);return null!==e?e.indexOf(n):-1}remove(n){const e=this._adjustIndex(n,-1),r=_c(this._lContainer,e);r&&(xs(Nu(this._lContainer),e),Lp(r[G],r))}detach(n){const e=this._adjustIndex(n,-1),r=_c(this._lContainer,e);return r&&null!=xs(Nu(this._lContainer),e)?new bo(r):null}_adjustIndex(n,e=0){return n??this.length+e}};function f_(t){return t[8]}function Nu(t){return t[8]||(t[8]=[])}let p_=function g_(t,n,e,r){if(t[bn])return;let i;i=8&e.type?Pe(r):function vI(t,n){const e=t[ae],r=e.createComment(""),i=Et(n,t);return Er(e,js(e,i),r,function US(t,n){return t.nextSibling(n)}(e,i),!1),r}(n,e),t[bn]=i};const JI=new Y("Application Initializer");let ju=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,r)=>{this.resolve=e,this.reject=r}),this.appInits=Ae(JI,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const i of this.appInits){const o=i();if(ya(o))e.push(o);else if(Nm(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});e.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{r()}).catch(i=>{this.reject(i)}),0===e.length&&r(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Yn=new Y("LocaleId",{providedIn:"root",factory:()=>Ae(Yn,ne.Optional|ne.SkipSelf)||function tA(){return typeof $localize<"u"&&$localize.locale||ki}()});let rA=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Fw(!1)}add(){this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function H_(...t){}class Oe{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ut(!1),this.onMicrotaskEmpty=new ut(!1),this.onStable=new ut(!1),this.onError=new ut(!1),typeof Zone>"u")throw new k(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&e,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function aA(){let t=Te.requestAnimationFrame,n=Te.cancelAnimationFrame;if(typeof Zone<"u"&&t&&n){const e=t[Zone.__symbol__("OriginalDelegate")];e&&(t=e);const r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function uA(t){const n=()=>{!function cA(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Te,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Uu(t),t.isCheckStableRunning=!0,$u(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Uu(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,r,i,o,s,a)=>{try{return G_(t),e.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&n(),j_(t)}},onInvoke:(e,r,i,o,s,a,l)=>{try{return G_(t),e.invoke(i,o,s,a,l)}finally{t.shouldCoalesceRunChangeDetection&&n(),j_(t)}},onHasTask:(e,r,i,o)=>{e.hasTask(i,o),r===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,Uu(t),$u(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,r,i,o)=>(e.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Oe.isInAngularZone())throw new k(909,!1)}static assertNotInAngularZone(){if(Oe.isInAngularZone())throw new k(909,!1)}run(n,e,r){return this._inner.run(n,e,r)}runTask(n,e,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,n,lA,H_,H_);try{return o.runTask(s,e,r)}finally{o.cancelTask(s)}}runGuarded(n,e,r){return this._inner.runGuarded(n,e,r)}runOutsideAngular(n){return this._outer.run(n)}}const lA={};function $u(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Uu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function G_(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function j_(t){t._nesting--,$u(t)}class dA{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ut,this.onMicrotaskEmpty=new ut,this.onStable=new ut,this.onError=new ut}run(n,e,r){return n.apply(e,r)}runGuarded(n,e,r){return n.apply(e,r)}runOutsideAngular(n){return n()}runTask(n,e,r,i){return n.apply(e,r)}}const $_=new Y("",{providedIn:"root",factory:U_});function U_(){const t=Ae(Oe);let n=!0;return function Xw(...t){let n=Number.POSITIVE_INFINITY,e=null,r=t[t.length-1];return Ff(r)?(e=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof r&&(n=t.pop()),null===e&&1===t.length&&t[0]instanceof ht?t[0]:Kw(n)(Wf(t,e))}(new ht(i=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(n),i.complete()})}),new ht(i=>{let o;t.runOutsideAngular(()=>{o=t.onStable.subscribe(()=>{Oe.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,i.next(!0))})})});const s=t.onUnstable.subscribe(()=>{Oe.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(zf()))}const W_=new Y(""),Ta=new Y("");let zu,Wu=(()=>{class t{constructor(e,r,i){this._ngZone=e,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,zu||(function fA(t){zu=t}(i),i.addToWindow(r)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Oe.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(e)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),e(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:i})}whenStable(e,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,r,i){return[]}}return t.\u0275fac=function(e){return new(e||t)(R(Oe),R(qu),R(Ta))},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),t})(),qu=(()=>{class t{constructor(){this._applications=new Map}registerApplication(e,r){this._applications.set(e,r)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,r=!0){return zu?.findTestabilityInTree(this,e,r)??null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),cr=null;const q_=new Y("AllowMultipleToken"),Zu=new Y("PlatformDestroyListeners"),z_=new Y("appBootstrapListener");function Q_(t,n,e=[]){const r=`Platform: ${n}`,i=new Y(r);return(o=[])=>{let s=Yu();if(!s||s.injector.get(q_,!1)){const a=[...e,...o,{provide:i,useValue:!0}];t?t(a):function gA(t){if(cr&&!cr.get(q_,!1))throw new k(400,!1);(function Z_(){!function t1(t){Ch=t}(()=>{throw new k(600,!1)})})(),cr=t;const n=t.get(X_);(function Y_(t){t.get(yg,null)?.forEach(e=>e())})(t)}(function K_(t=[],n){return Ft.create({name:n,providers:[{provide:xc,useValue:"platform"},{provide:Zu,useValue:new Set([()=>cr=null])},...t]})}(a,r))}return function yA(t){const n=Yu();if(!n)throw new k(401,!1);return n}()}}function Yu(){return cr?.get(X_)??null}let X_=(()=>{class t{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,r){const i=function _A(t="zone.js",n){return"noop"===t?new dA:"zone.js"===t?new Oe(n):t}(r?.ngZone,function J_(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function xM(t,n,e){return new Tu(t,n,e)}(e.moduleType,this.injector,function iv(t){return[{provide:Oe,useFactory:t},{provide:Qs,multi:!0,useFactory:()=>{const n=Ae(bA,{optional:!0});return()=>n.initialize()}},{provide:rv,useFactory:vA},{provide:$_,useFactory:U_}]}(()=>i)),s=o.injector.get(Ir,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:l=>{s.handleError(l)}});o.onDestroy(()=>{ka(this._modules,o),a.unsubscribe()})}),function ev(t,n,e){try{const r=e();return ya(r)?r.catch(i=>{throw n.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>t.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(ju);return a.runInitializers(),a.donePromise.then(()=>(function Ey(t){$t(t,"Expected localeId to be defined"),"string"==typeof t&&(Cy=t.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Yn,ki)||ki),this._moduleDoBootstrap(o),o))})})}bootstrapModule(e,r=[]){const i=tv({},r);return function hA(t,n,e){const r=new ku(e);return Promise.resolve(r)}(0,0,e).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(e){const r=e.injector.get(ur);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!e.instance.ngDoBootstrap)throw new k(-403,!1);e.instance.ngDoBootstrap(r)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new k(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const e=this._injector.get(Zu,null);e&&(e.forEach(r=>r()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(R(Ft))},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function tv(t,n){return Array.isArray(n)?n.reduce(tv,t):{...t,...n}}let ur=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ae(rv),this.zoneIsStable=Ae($_),this.componentTypes=[],this.components=[],this.isStable=Ae(rA).hasPendingTasks.pipe(Zf(e=>e?vr(!1):this.zoneIsStable),function uD(t,n){return e=>e.lift(new dD(t,n))}(),zf()),this._injector=Ae(ui)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,r){const i=e instanceof Eg;if(!this._injector.get(ju).done)throw!i&&function Ui(t){const n=ye(t)||it(t)||St(t);return null!==n&&n.standalone}(e),new k(405,!1);let s;s=i?e:this._injector.get(po).resolveComponentFactory(e),this.componentTypes.push(s.componentType);const a=function pA(t){return t.isBoundToModule}(s)?void 0:this._injector.get(Mi),c=s.create(Ft.NULL,[],r||s.selector,a),h=c.location.nativeElement,p=c.injector.get(W_,null);return p?.registerApplication(h),c.onDestroy(()=>{this.detachView(c.hostView),ka(this.components,c),p?.unregisterApplication(h)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new k(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this.internalErrorHandler(e)}finally{this._runningTick=!1}}attachView(e){const r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){const r=e;ka(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const r=this._injector.get(z_,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>ka(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new k(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function ka(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}const rv=new Y("",{providedIn:"root",factory:()=>Ae(Ir).handleError.bind(void 0)});function vA(){const t=Ae(Oe),n=Ae(Ir);return e=>t.runOutsideAngular(()=>n.handleError(e))}let bA=(()=>{class t{constructor(){this.zone=Ae(Oe),this.applicationRef=Ae(ur)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class cv{constructor(){}supports(n){return fa(n)}create(n){return new IA(n)}}const MA=(t,n)=>n;class IA{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||MA}forEachItem(n){let e;for(e=this._itHead;null!==e;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,r=this._removalsHead,i=0,o=null;for(;e||r;){const s=!r||e&&e.currentIndex<dv(r,i,o)?e:r,a=dv(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(e=e._next,null==s.previousIndex)i++;else{o||(o=[]);const c=a-i,h=l-i;if(c!=h){for(let m=0;m<c;m++){const y=m<o.length?o[m]:o[m]=0,_=y+m;h<=_&&_<c&&(o[m]=y+1)}o[s.previousIndex]=h-c}}a!==l&&n(s,a,l)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)n(e)}diff(n){if(null==n&&(n=[]),!fa(n))throw new k(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i,o,s,e=this._itHead,r=!1;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)o=n[a],s=this._trackByFn(a,o),null!==e&&Object.is(e.trackById,s)?(r&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,s,a),r=!0),e=e._next}else i=0,function dT(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{const e=t[Symbol.iterator]();let r;for(;!(r=e.next()).done;)n(r.value)}}(n,a=>{s=this._trackByFn(i,a),null!==e&&Object.is(e.trackById,s)?(r&&(e=this._verifyReinsertion(e,a,s,i)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,s,i),r=!0),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,r,i){let o;return null===n?o=this._itTail:(o=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,o,i)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,o,i)):n=this._addAfter(new AA(e,r),o,i),n}_verifyReinsertion(n,e,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?n=this._reinsertAfter(o,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;null!==n;){const e=n._next;this._addToRemovals(this._unlink(n)),n=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const i=n._prevRemoved,o=n._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(n,e,r),this._addToMoves(n,r),n}_moveAfter(n,e,r){return this._unlink(n),this._insertAfter(n,e,r),this._addToMoves(n,r),n}_addAfter(n,e,r){return this._insertAfter(n,e,r),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,e,r){const i=null===e?this._itHead:e._next;return n._next=i,n._prev=e,null===i?this._itTail=n:i._prev=n,null===e?this._itHead=n:e._next=n,null===this._linkedRecords&&(this._linkedRecords=new uv),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const e=n._prev,r=n._next;return null===e?this._itHead=r:e._next=r,null===r?this._itTail=e:r._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new uv),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class AA{constructor(n,e){this.item=n,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class PA{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===e||e<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){const e=n._prevDup,r=n._nextDup;return null===e?this._head=r:e._nextDup=r,null===r?this._tail=e:r._prevDup=e,null===this._head}}class uv{constructor(){this.map=new Map}put(n){const e=n.trackById;let r=this.map.get(e);r||(r=new PA,this.map.set(e,r)),r.add(n)}get(n,e){const i=this.map.get(n);return i?i.get(n,e):null}remove(n){const e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function dv(t,n,e){const r=t.previousIndex;if(null===r)return r;let i=0;return e&&r<e.length&&(i=e[r]),r+n+i}function hv(){return new Aa([new cv])}let Aa=(()=>{class t{constructor(e){this.factories=e}static create(e,r){if(null!=r){const i=r.factories.slice();e=e.concat(i)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>t.create(e,r||hv()),deps:[[t,new ac,new sc]]}}find(e){const r=this.factories.find(i=>i.supports(e));if(null!=r)return r;throw new k(901,!1)}}return t.\u0275prov=ee({token:t,providedIn:"root",factory:hv}),t})();const FA=Q_(null,"core",[]);let LA=(()=>{class t{constructor(e){}}return t.\u0275fac=function(e){return new(e||t)(R(ur))},t.\u0275mod=_n({type:t}),t.\u0275inj=Jt({}),t})(),rd=null;function Bo(){return rd}class ZA{}const Bt=new Y("DocumentToken");var It=(()=>((It=It||{})[It.Decimal=0]="Decimal",It[It.Percent=1]="Percent",It[It.Currency=2]="Currency",It[It.Scientific=3]="Scientific",It))(),Q=(()=>((Q=Q||{})[Q.Decimal=0]="Decimal",Q[Q.Group=1]="Group",Q[Q.List=2]="List",Q[Q.PercentSign=3]="PercentSign",Q[Q.PlusSign=4]="PlusSign",Q[Q.MinusSign=5]="MinusSign",Q[Q.Exponential=6]="Exponential",Q[Q.SuperscriptingExponent=7]="SuperscriptingExponent",Q[Q.PerMille=8]="PerMille",Q[Q.Infinity=9]="Infinity",Q[Q.NaN=10]="NaN",Q[Q.TimeSeparator=11]="TimeSeparator",Q[Q.CurrencyDecimal=12]="CurrencyDecimal",Q[Q.CurrencyGroup=13]="CurrencyGroup",Q))();function qt(t,n){const e=mt(t),r=e[V.NumberSymbols][n];if(typeof r>"u"){if(n===Q.CurrencyDecimal)return e[V.NumberSymbols][Q.Decimal];if(n===Q.CurrencyGroup)return e[V.NumberSymbols][Q.Group]}return r}function id(t,n){return mt(t)[V.NumberFormats][n]}const DP=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function cd(t,n,e,r,i,o,s=!1){let a="",l=!1;if(isFinite(t)){let c=function AP(t){let r,i,o,s,a,n=Math.abs(t)+"",e=0;for((i=n.indexOf("."))>-1&&(n=n.replace(".","")),(o=n.search(/e/i))>0?(i<0&&(i=o),i+=+n.slice(o+1),n=n.substring(0,o)):i<0&&(i=n.length),o=0;"0"===n.charAt(o);o++);if(o===(a=n.length))r=[0],i=1;else{for(a--;"0"===n.charAt(a);)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(n.charAt(o))}return i>22&&(r=r.splice(0,21),e=i-1,i=1),{digits:r,exponent:e,integerLen:i}}(t);s&&(c=function IP(t){if(0===t.digits[0])return t;const n=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===n?t.digits.push(0,0):1===n&&t.digits.push(0),t.integerLen+=2),t}(c));let h=n.minInt,p=n.minFrac,m=n.maxFrac;if(o){const S=o.match(DP);if(null===S)throw new Error(`${o} is not a valid digit info`);const $=S[1],W=S[3],X=S[5];null!=$&&(h=dd($)),null!=W&&(p=dd(W)),null!=X?m=dd(X):null!=W&&p>m&&(m=p)}!function PP(t,n,e){if(n>e)throw new Error(`The minimum number of digits after fraction (${n}) is higher than the maximum (${e}).`);let r=t.digits,i=r.length-t.integerLen;const o=Math.min(Math.max(n,i),e);let s=o+t.integerLen,a=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let p=s;p<r.length;p++)r[p]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let p=1;p<s;p++)r[p]=0}if(a>=5)if(s-1<0){for(let p=0;p>s;p--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let l=0!==o;const c=n+t.integerLen,h=r.reduceRight(function(p,m,y,_){return _[y]=(m+=p)<10?m:m-10,l&&(0===_[y]&&y>=c?_.pop():l=!1),m>=10?1:0},0);h&&(r.unshift(h),t.integerLen++)}(c,p,m);let y=c.digits,_=c.integerLen;const D=c.exponent;let A=[];for(l=y.every(S=>!S);_<h;_++)y.unshift(0);for(;_<0;_++)y.unshift(0);_>0?A=y.splice(_,y.length):(A=y,y=[0]);const L=[];for(y.length>=n.lgSize&&L.unshift(y.splice(-n.lgSize,y.length).join(""));y.length>n.gSize;)L.unshift(y.splice(-n.gSize,y.length).join(""));y.length&&L.unshift(y.join("")),a=L.join(qt(e,r)),A.length&&(a+=qt(e,i)+A.join("")),D&&(a+=qt(e,Q.Exponential)+"+"+D)}else a=qt(e,Q.Infinity);return a=t<0&&!l?n.negPre+a+n.negSuf:n.posPre+a+n.posSuf,a}function ud(t,n="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],o=r[1],s=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],a=s[0],l=s[1]||"";e.posPre=a.substring(0,a.indexOf("#"));for(let h=0;h<l.length;h++){const p=l.charAt(h);"0"===p?e.minFrac=e.maxFrac=h+1:"#"===p?e.maxFrac=h+1:e.posSuf+=p}const c=a.split(",");if(e.gSize=c[1]?c[1].length:0,e.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){const h=i.length-e.posPre.length-e.posSuf.length,p=o.indexOf("#");e.negPre=o.substring(0,p).replace(/'/g,""),e.negSuf=o.slice(p+h).replace(/'/g,"")}else e.negPre=n+e.posPre,e.negSuf=e.posSuf;return e}function dd(t){const n=parseInt(t);if(isNaN(n))throw new Error("Invalid integer literal when parsing "+t);return n}class FP{constructor(n,e,r,i){this.$implicit=n,this.ngForOf=e,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Pi=(()=>{class t{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new FP(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),Pv(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{Pv(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(e,r){return!0}}return t.\u0275fac=function(e){return new(e||t)(E(An),E(Zn),E(Aa))},t.\u0275dir=oe({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function Pv(t,n){t.context.$implicit=n.item}let tt=(()=>{class t{constructor(e,r){this._viewContainer=e,this._context=new LP,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Nv("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Nv("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return t.\u0275fac=function(e){return new(e||t)(E(An),E(Zn))},t.\u0275dir=oe({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class LP{constructor(){this.$implicit=null,this.ngIf=null}}function Nv(t,n){if(n&&!n.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Ze(n)}'.`)}function dn(t,n){return new k(2100,!1)}let Ov=(()=>{class t{constructor(e){this._locale=e}transform(e,r,i){if(!yd(e))return null;i=i||this._locale;try{return function MP(t,n,e){return cd(t,ud(id(n,It.Decimal),qt(n,Q.MinusSign)),n,Q.Group,Q.Decimal,e)}(_d(e),i,r)}catch(o){throw dn()}}}return t.\u0275fac=function(e){return new(e||t)(E(Yn,16))},t.\u0275pipe=Dt({name:"number",type:t,pure:!0,standalone:!0}),t})(),md=(()=>{class t{constructor(e){this._locale=e}transform(e,r,i){if(!yd(e))return null;i=i||this._locale;try{return function kP(t,n,e){return cd(t,ud(id(n,It.Percent),qt(n,Q.MinusSign)),n,Q.Group,Q.Decimal,e,!0).replace(new RegExp("%","g"),qt(n,Q.PercentSign))}(_d(e),i,r)}catch(o){throw dn()}}}return t.\u0275fac=function(e){return new(e||t)(E(Yn,16))},t.\u0275pipe=Dt({name:"percent",type:t,pure:!0,standalone:!0}),t})();function yd(t){return!(null==t||""===t||t!=t)}function _d(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}let Fv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=_n({type:t}),t.\u0275inj=Jt({}),t})();function Bv(t){return"server"===t}class x2 extends ZA{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class wd extends x2{static makeCurrent(){!function zA(t){rd||(rd=t)}(new wd)}onAndCancel(n,e,r){return n.addEventListener(e,r),()=>{n.removeEventListener(e,r)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=function R2(){return jo=jo||document.querySelector("base"),jo?jo.getAttribute("href"):null}();return null==e?null:function O2(t){$a=$a||document.createElement("a"),$a.setAttribute("href",t);const n=$a.pathname;return"/"===n.charAt(0)?n:`/${n}`}(e)}resetBaseElement(){jo=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return function xP(t,n){n=encodeURIComponent(n);for(const e of t.split(";")){const r=e.indexOf("="),[i,o]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===n)return decodeURIComponent(o)}return null}(document.cookie,n)}}let $a,jo=null,L2=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),t})();const Dd=new Y("EventManagerPlugins");let Uv=(()=>{class t{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(i=>{i.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,i){return this._findPluginFor(r).addEventListener(e,r,i)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(o=>o.supports(e)),!r)throw new k(5101,!1);return this._eventNameToPlugin.set(e,r),r}}return t.\u0275fac=function(e){return new(e||t)(R(Dd),R(Oe))},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),t})();class Wv{constructor(n){this._doc=n}}const Sd="ng-app-id";let qv=(()=>{class t{constructor(e,r,i,o={}){this.doc=e,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Bv(o),this.resetHostNodes()}addStyles(e){for(const r of e)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(e){for(const r of e)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(r=>r.remove()),e.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const r of this.getAllStyles())this.addStyleToHost(e,r)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const r of this.hostNodes)this.addStyleToHost(r,e)}onStyleRemoved(e){const r=this.styleRef;r.get(e)?.elements?.forEach(i=>i.remove()),r.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${Sd}="${this.appId}"]`);if(e?.length){const r=new Map;return e.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(e,r){const i=this.styleRef;if(i.has(e)){const o=i.get(e);return o.usage+=r,o.usage}return i.set(e,{usage:r,elements:[]}),r}getStyleElement(e,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===e)return i.delete(r),o.removeAttribute(Sd),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Sd,this.appId),s}}addStyleToHost(e,r){const i=this.getStyleElement(e,r);e.appendChild(i);const o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}}return t.\u0275fac=function(e){return new(e||t)(R(Bt),R(Js),R(vg,8),R(fi))},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),t})();const Cd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ed=/%COMP%/g,G2=new Y("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Zv(t,n){return n.map(e=>e.replace(Ed,t))}let Td=(()=>{class t{constructor(e,r,i,o,s,a,l,c=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=Bv(a),this.defaultRenderer=new kd(e,s,l,this.platformIsServer)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===wt.ShadowDom&&(r={...r,encapsulation:wt.Emulated});const i=this.getOrCreateRenderer(e,r);return i instanceof Qv?i.applyToHost(e):i instanceof Md&&i.applyStyles(),i}getOrCreateRenderer(e,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,h=this.removeStylesOnCompDestory,p=this.platformIsServer;switch(r.encapsulation){case wt.Emulated:o=new Qv(l,c,r,this.appId,h,s,a,p);break;case wt.ShadowDom:return new W2(l,c,e,r,s,a,this.nonce,p);default:o=new Md(l,c,r,h,s,a,p)}o.onDestroy=()=>i.delete(r.id),i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}}return t.\u0275fac=function(e){return new(e||t)(R(Uv),R(qv),R(Js),R(G2),R(Bt),R(fi),R(Oe),R(vg))},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),t})();class kd{constructor(n,e,r,i){this.eventManager=n,this.doc=e,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,e){return e?this.doc.createElementNS(Cd[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){(Yv(n)?n.content:n).appendChild(e)}insertBefore(n,e,r){n&&(Yv(n)?n.content:n).insertBefore(e,r)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let r="string"==typeof n?this.doc.querySelector(n):n;if(!r)throw new k(5104,!1);return e||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,r,i){if(i){e=i+":"+e;const o=Cd[i];o?n.setAttributeNS(o,e,r):n.setAttribute(e,r)}else n.setAttribute(e,r)}removeAttribute(n,e,r){if(r){const i=Cd[r];i?n.removeAttributeNS(i,e):n.removeAttribute(`${r}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,r,i){i&(Tt.DashCase|Tt.Important)?n.style.setProperty(e,r,i&Tt.Important?"important":""):n.style[e]=r}removeStyle(n,e,r){r&Tt.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,r){n[e]=r}setValue(n,e){n.nodeValue=e}listen(n,e,r){if("string"==typeof n&&!(n=Bo().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${e}`);return this.eventManager.addEventListener(n,e,this.decoratePreventDefault(r))}decoratePreventDefault(n){return e=>{if("__ngUnwrap__"===e)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(e)):n(e))&&e.preventDefault()}}}function Yv(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class W2 extends kd{constructor(n,e,r,i,o,s,a,l){super(n,o,s,l),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=Zv(i.id,i.styles);for(const h of c){const p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,r){return super.insertBefore(this.nodeOrShadowRoot(n),e,r)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Md extends kd{constructor(n,e,r,i,o,s,a,l){super(n,o,s,a),this.sharedStylesHost=e,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=l?Zv(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Qv extends Md{constructor(n,e,r,i,o,s,a,l){const c=i+"-"+r.id;super(n,e,r,o,s,a,l,c),this.contentAttr=function j2(t){return"_ngcontent-%COMP%".replace(Ed,t)}(c),this.hostAttr=function $2(t){return"_nghost-%COMP%".replace(Ed,t)}(c)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){const r=super.createElement(n,e);return super.setAttribute(r,this.contentAttr,""),r}}let q2=(()=>{class t extends Wv{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i){return e.addEventListener(r,i,!1),()=>this.removeEventListener(e,r,i)}removeEventListener(e,r,i){return e.removeEventListener(r,i)}}return t.\u0275fac=function(e){return new(e||t)(R(Bt))},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),t})();const Kv=["alt","control","meta","shift"],z2={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Z2={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Y2=(()=>{class t extends Wv{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,r,i){const o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Bo().onAndCancel(e,o.domEventName,s))}static parseEventName(e){const r=e.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=t._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Kv.forEach(c=>{const h=r.indexOf(c);h>-1&&(r.splice(h,1),s+=c+".")}),s+=o,0!=r.length||0===o.length)return null;const l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(e,r){let i=z2[e.key]||e.key,o="";return r.indexOf("code.")>-1&&(i=e.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Kv.forEach(s=>{s!==i&&(0,Z2[s])(e)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(e,r,i){return o=>{t.matchEventFullKeyCode(o,e)&&i.runGuarded(()=>r(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return t.\u0275fac=function(e){return new(e||t)(R(Bt))},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),t})();const Jv=[{provide:fi,useValue:"browser"},{provide:yg,useValue:function Q2(){wd.makeCurrent()},multi:!0},{provide:Bt,useFactory:function X2(){return function XS(t){Ec=t}(document),document},deps:[]}],J2=Q_(FA,"browser",Jv),eN=new Y(""),eb=[{provide:Ta,useClass:class F2{addToWindow(n){Te.getAngularTestability=(r,i=!0)=>{const o=n.findTestabilityInTree(r,i);if(null==o)throw new k(5103,!1);return o},Te.getAllAngularTestabilities=()=>n.getAllTestabilities(),Te.getAllAngularRootElements=()=>n.getAllRootElements(),Te.frameworkStabilizers||(Te.frameworkStabilizers=[]),Te.frameworkStabilizers.push(r=>{const i=Te.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(l){s=s||l,o--,0==o&&r(s)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(n,e,r){return null==e?null:n.getTestability(e)??(r?Bo().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null)}},deps:[]},{provide:W_,useClass:Wu,deps:[Oe,qu,Ta]},{provide:Wu,useClass:Wu,deps:[Oe,qu,Ta]}],tb=[{provide:xc,useValue:"root"},{provide:Ir,useFactory:function K2(){return new Ir},deps:[]},{provide:Dd,useClass:q2,multi:!0,deps:[Bt,Oe,fi]},{provide:Dd,useClass:Y2,multi:!0,deps:[Bt]},Td,qv,Uv,{provide:go,useExisting:Td},{provide:class u2{},useClass:L2,deps:[]},[]];let nb=(()=>{class t{constructor(e){}static withServerTransition(e){return{ngModule:t,providers:[{provide:Js,useValue:e.appId}]}}}return t.\u0275fac=function(e){return new(e||t)(R(eN,12))},t.\u0275mod=_n({type:t}),t.\u0275inj=Jt({providers:[...tb,...eb],imports:[Fv,LA]}),t})();typeof window<"u"&&window;let Ua=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ee({token:t,factory:function(e){let r=null;return r=e?new(e||t):R(ob),r},providedIn:"root"}),t})(),ob=(()=>{class t extends Ua{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case Se.NONE:return r;case Se.HTML:return En(r,"HTML")?Ot(r):og(this._doc,String(r)).toString();case Se.STYLE:return En(r,"Style")?Ot(r):r;case Se.SCRIPT:if(En(r,"Script"))return Ot(r);throw new k(5200,!1);case Se.URL:return En(r,"URL")?Ot(r):zs(String(r));case Se.RESOURCE_URL:if(En(r,"ResourceURL"))return Ot(r);throw new k(5201,!1);default:throw new k(5202,!1)}}bypassSecurityTrustHtml(e){return function oC(t){return new JS(t)}(e)}bypassSecurityTrustStyle(e){return function sC(t){return new eC(t)}(e)}bypassSecurityTrustScript(e){return function aC(t){return new tC(t)}(e)}bypassSecurityTrustUrl(e){return function lC(t){return new nC(t)}(e)}bypassSecurityTrustResourceUrl(e){return function cC(t){return new rC(t)}(e)}}return t.\u0275fac=function(e){return new(e||t)(R(Bt))},t.\u0275prov=ee({token:t,factory:function(e){let r=null;return r=e?new e:function sN(t){return new ob(t.get(Bt))}(R(Ft)),r},providedIn:"root"}),t})();const xi=new Y("CallSetDisabledState",{providedIn:"root",factory:()=>Ka}),Ka="always";let zb=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=_n({type:t}),t.\u0275inj=Jt({}),t})(),ix=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=_n({type:t}),t.\u0275inj=Jt({imports:[zb]}),t})(),sx=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:xi,useValue:e.callSetDisabledState??Ka}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=_n({type:t}),t.\u0275inj=Jt({imports:[ix]}),t})();class f0{}class ax{}const Kn="*";function lx(t,n){return{type:7,name:t,definitions:n,options:{}}}function h0(t,n=null){return{type:4,styles:n,timings:t}}function p0(t,n=null){return{type:2,steps:t,options:n}}function zo(t){return{type:6,styles:t,offset:null}}function Qd(t,n,e){return{type:0,name:t,styles:n,options:e}}function g0(t,n,e=null){return{type:1,expr:t,animation:n,options:e}}class Zo{constructor(n=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class m0{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let e=0,r=0,i=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){const e=n*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(i)})}getPosition(){const n=this.players.reduce((e,r)=>null===e||r.totalTime>e.totalTime?r:e,null);return null!=n?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}function y0(t){return new k(3e3,!1)}function gr(t){switch(t.length){case 0:return new Zo;case 1:return t[0];default:return new m0(t)}}function _0(t,n,e=new Map,r=new Map){const i=[],o=[];let s=-1,a=null;if(n.forEach(l=>{const c=l.get("offset"),h=c==s,p=h&&a||new Map;l.forEach((m,y)=>{let _=y,D=m;if("offset"!==y)switch(_=t.normalizePropertyName(_,i),D){case"!":D=e.get(y);break;case Kn:D=r.get(y);break;default:D=t.normalizeStyleValue(y,_,D,i)}p.set(_,D)}),h||o.push(p),a=p,s=c}),i.length)throw function Px(t){return new k(3502,!1)}();return o}function Xd(t,n,e,r){switch(n){case"start":t.onStart(()=>r(e&&Jd(e,"start",t)));break;case"done":t.onDone(()=>r(e&&Jd(e,"done",t)));break;case"destroy":t.onDestroy(()=>r(e&&Jd(e,"destroy",t)))}}function Jd(t,n,e){const o=ef(t.element,t.triggerName,t.fromState,t.toState,n||t.phaseName,e.totalTime??t.totalTime,!!e.disabled),s=t._data;return null!=s&&(o._data=s),o}function ef(t,n,e,r,i="",o=0,s){return{element:t,triggerName:n,fromState:e,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function Vt(t,n,e){let r=t.get(n);return r||t.set(n,r=e),r}function v0(t){const n=t.indexOf(":");return[t.substring(1,n),t.slice(n+1)]}const $x=(()=>typeof document>"u"?null:document.documentElement)();function tf(t){const n=t.parentNode||t.host||null;return n===$x?null:n}let Fr=null,b0=!1;function w0(t,n){for(;n;){if(n===t)return!0;n=tf(n)}return!1}function D0(t,n,e){if(e)return Array.from(t.querySelectorAll(n));const r=t.querySelector(n);return r?[r]:[]}let S0=(()=>{class t{validateStyleProperty(e){return function Wx(t){Fr||(Fr=function qx(){return typeof document<"u"?document.body:null}()||{},b0=!!Fr.style&&"WebkitAppearance"in Fr.style);let n=!0;return Fr.style&&!function Ux(t){return"ebkit"==t.substring(1,6)}(t)&&(n=t in Fr.style,!n&&b0&&(n="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in Fr.style)),n}(e)}matchesElement(e,r){return!1}containsElement(e,r){return w0(e,r)}getParentElement(e){return tf(e)}query(e,r,i){return D0(e,r,i)}computeStyle(e,r,i){return i||""}animate(e,r,i,o,s,a=[],l){return new Zo(i,o)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),t})(),nf=(()=>{class t{}return t.NOOP=new S0,t})();const zx=1e3,rf="ng-enter",nl="ng-leave",rl="ng-trigger",il=".ng-trigger",E0="ng-animating",of=".ng-animating";function Xn(t){if("number"==typeof t)return t;const n=t.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:sf(parseFloat(n[1]),n[2])}function sf(t,n){return"s"===n?t*zx:t}function ol(t,n,e){return t.hasOwnProperty("duration")?t:function Yx(t,n,e){let i,o=0,s="";if("string"==typeof t){const a=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return n.push(y0()),{duration:0,delay:0,easing:""};i=sf(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(o=sf(parseFloat(l),a[4]));const c=a[5];c&&(s=c)}else i=t;if(!e){let a=!1,l=n.length;i<0&&(n.push(function cx(){return new k(3100,!1)}()),a=!0),o<0&&(n.push(function ux(){return new k(3101,!1)}()),a=!0),a&&n.splice(l,0,y0())}return{duration:i,delay:o,easing:s}}(t,n,e)}function Yo(t,n={}){return Object.keys(t).forEach(e=>{n[e]=t[e]}),n}function T0(t){const n=new Map;return Object.keys(t).forEach(e=>{n.set(e,t[e])}),n}function mr(t,n=new Map,e){if(e)for(let[r,i]of e)n.set(r,i);for(let[r,i]of t)n.set(r,i);return n}function Nn(t,n,e){n.forEach((r,i)=>{const o=lf(i);e&&!e.has(i)&&e.set(i,t.style[o]),t.style[o]=r})}function Lr(t,n){n.forEach((e,r)=>{const i=lf(r);t.style[i]=""})}function Qo(t){return Array.isArray(t)?1==t.length?t[0]:p0(t):t}const af=new RegExp("{{\\s*(.+?)\\s*}}","g");function M0(t){let n=[];if("string"==typeof t){let e;for(;e=af.exec(t);)n.push(e[1]);af.lastIndex=0}return n}function Ko(t,n,e){const r=t.toString(),i=r.replace(af,(o,s)=>{let a=n[s];return null==a&&(e.push(function fx(t){return new k(3003,!1)}()),a=""),a.toString()});return i==r?t:i}function sl(t){const n=[];let e=t.next();for(;!e.done;)n.push(e.value),e=t.next();return n}const Xx=/-+([a-z0-9])/g;function lf(t){return t.replace(Xx,(...n)=>n[1].toUpperCase())}function Ht(t,n,e){switch(n.type){case 7:return t.visitTrigger(n,e);case 0:return t.visitState(n,e);case 1:return t.visitTransition(n,e);case 2:return t.visitSequence(n,e);case 3:return t.visitGroup(n,e);case 4:return t.visitAnimate(n,e);case 5:return t.visitKeyframes(n,e);case 6:return t.visitStyle(n,e);case 8:return t.visitReference(n,e);case 9:return t.visitAnimateChild(n,e);case 10:return t.visitAnimateRef(n,e);case 11:return t.visitQuery(n,e);case 12:return t.visitStagger(n,e);default:throw function hx(t){return new k(3004,!1)}()}}function I0(t,n){return window.getComputedStyle(t)[n]}const al="*";function tR(t,n){const e=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(r=>function nR(t,n,e){if(":"==t[0]){const l=function rR(t,n){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return n.push(function kx(t){return new k(3016,!1)}()),"* => *"}}(t,e);if("function"==typeof l)return void n.push(l);t=l}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(function Tx(t){return new k(3015,!1)}()),n;const i=r[1],o=r[2],s=r[3];n.push(A0(i,s));"<"==o[0]&&!(i==al&&s==al)&&n.push(A0(s,i))}(r,e,n)):e.push(t),e}const ll=new Set(["true","1"]),cl=new Set(["false","0"]);function A0(t,n){const e=ll.has(t)||cl.has(t),r=ll.has(n)||cl.has(n);return(i,o)=>{let s=t==al||t==i,a=n==al||n==o;return!s&&e&&"boolean"==typeof i&&(s=i?ll.has(t):cl.has(t)),!a&&r&&"boolean"==typeof o&&(a=o?ll.has(n):cl.has(n)),s&&a}}const iR=new RegExp("s*:selfs*,?","g");function cf(t,n,e,r){return new oR(t).build(n,e,r)}class oR{constructor(n){this._driver=n}build(n,e,r){const i=new lR(e);return this._resetContextStyleTimingState(i),Ht(this,Qo(n),i)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles=new Map,n.collectedStyles.set("",new Map),n.currentTime=0}visitTrigger(n,e){let r=e.queryCount=0,i=e.depCount=0;const o=[],s=[];return"@"==n.name.charAt(0)&&e.errors.push(function gx(){return new k(3006,!1)}()),n.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(h=>{l.name=h,o.push(this.visitState(l,e))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,e);r+=l.queryCount,i+=l.depCount,s.push(l)}else e.errors.push(function mx(){return new k(3007,!1)}())}),{type:7,name:n.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(n,e){const r=this.visitStyle(n.styles,e),i=n.options&&n.options.params||null;if(r.containsDynamicStyles){const o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{M0(l).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size&&(sl(o.values()),e.errors.push(function yx(t,n){return new k(3008,!1)}()))}return{type:0,name:n.name,style:r,options:i?{params:i}:null}}visitTransition(n,e){e.queryCount=0,e.depCount=0;const r=Ht(this,Qo(n.animation),e);return{type:1,matchers:tR(n.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:Br(n.options)}}visitSequence(n,e){return{type:2,steps:n.steps.map(r=>Ht(this,r,e)),options:Br(n.options)}}visitGroup(n,e){const r=e.currentTime;let i=0;const o=n.steps.map(s=>{e.currentTime=r;const a=Ht(this,s,e);return i=Math.max(i,e.currentTime),a});return e.currentTime=i,{type:3,steps:o,options:Br(n.options)}}visitAnimate(n,e){const r=function uR(t,n){if(t.hasOwnProperty("duration"))return t;if("number"==typeof t)return uf(ol(t,n).duration,0,"");const e=t;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=uf(0,0,"");return o.dynamic=!0,o.strValue=e,o}const i=ol(e,n);return uf(i.duration,i.delay,i.easing)}(n.timings,e.errors);e.currentAnimateTimings=r;let i,o=n.styles?n.styles:zo({});if(5==o.type)i=this.visitKeyframes(o,e);else{let s=n.styles,a=!1;if(!s){a=!0;const c={};r.easing&&(c.easing=r.easing),s=zo(c)}e.currentTime+=r.duration+r.delay;const l=this.visitStyle(s,e);l.isEmptyStep=a,i=l}return e.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(n,e){const r=this._makeStyleAst(n,e);return this._validateStyleAst(r,e),r}_makeStyleAst(n,e){const r=[],i=Array.isArray(n.styles)?n.styles:[n.styles];for(let a of i)"string"==typeof a?a===Kn?r.push(a):e.errors.push(new k(3002,!1)):r.push(T0(a));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let l of a.values())if(l.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:r,easing:s,offset:n.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(n,e){const r=e.currentAnimateTimings;let i=e.currentTime,o=e.currentTime;r&&o>0&&(o-=r.duration+r.delay),n.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,l)=>{const c=e.collectedStyles.get(e.currentQuerySelector),h=c.get(l);let p=!0;h&&(o!=i&&o>=h.startTime&&i<=h.endTime&&(e.errors.push(function vx(t,n,e,r,i){return new k(3010,!1)}()),p=!1),o=h.startTime),p&&c.set(l,{startTime:o,endTime:i}),e.options&&function Kx(t,n,e){const r=n.params||{},i=M0(t);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||e.push(function dx(t){return new k(3001,!1)}())})}(a,e.options,e.errors)})})}visitKeyframes(n,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function bx(){return new k(3011,!1)}()),r;let o=0;const s=[];let a=!1,l=!1,c=0;const h=n.steps.map(L=>{const S=this._makeStyleAst(L,e);let $=null!=S.offset?S.offset:function cR(t){if("string"==typeof t)return null;let n=null;if(Array.isArray(t))t.forEach(e=>{if(e instanceof Map&&e.has("offset")){const r=e;n=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){const e=t;n=parseFloat(e.get("offset")),e.delete("offset")}return n}(S.styles),W=0;return null!=$&&(o++,W=S.offset=$),l=l||W<0||W>1,a=a||W<c,c=W,s.push(W),S});l&&e.errors.push(function wx(){return new k(3012,!1)}()),a&&e.errors.push(function Dx(){return new k(3200,!1)}());const p=n.steps.length;let m=0;o>0&&o<p?e.errors.push(function Sx(){return new k(3202,!1)}()):0==o&&(m=1/(p-1));const y=p-1,_=e.currentTime,D=e.currentAnimateTimings,A=D.duration;return h.forEach((L,S)=>{const $=m>0?S==y?1:m*S:s[S],W=$*A;e.currentTime=_+D.delay+W,D.duration=W,this._validateStyleAst(L,e),L.offset=$,r.styles.push(L)}),r}visitReference(n,e){return{type:8,animation:Ht(this,Qo(n.animation),e),options:Br(n.options)}}visitAnimateChild(n,e){return e.depCount++,{type:9,options:Br(n.options)}}visitAnimateRef(n,e){return{type:10,animation:this.visitReference(n.animation,e),options:Br(n.options)}}visitQuery(n,e){const r=e.currentQuerySelector,i=n.options||{};e.queryCount++,e.currentQuery=n;const[o,s]=function sR(t){const n=!!t.split(/\s*,\s*/).find(e=>":self"==e);return n&&(t=t.replace(iR,"")),t=t.replace(/@\*/g,il).replace(/@\w+/g,e=>il+"-"+e.slice(1)).replace(/:animating/g,of),[t,n]}(n.selector);e.currentQuerySelector=r.length?r+" "+o:o,Vt(e.collectedStyles,e.currentQuerySelector,new Map);const a=Ht(this,Qo(n.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:n.selector,options:Br(n.options)}}visitStagger(n,e){e.currentQuery||e.errors.push(function Cx(){return new k(3013,!1)}());const r="full"===n.timings?{duration:0,delay:0,easing:"full"}:ol(n.timings,e.errors,!0);return{type:12,animation:Ht(this,Qo(n.animation),e),timings:r,options:null}}}class lR{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Br(t){return t?(t=Yo(t)).params&&(t.params=function aR(t){return t?Yo(t):null}(t.params)):t={},t}function uf(t,n,e){return{duration:t,delay:n,easing:e}}function df(t,n,e,r,i,o,s=null,a=!1){return{type:1,element:t,keyframes:n,preStyleProps:e,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class ul{constructor(){this._map=new Map}get(n){return this._map.get(n)||[]}append(n,e){let r=this._map.get(n);r||this._map.set(n,r=[]),r.push(...e)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const hR=new RegExp(":enter","g"),gR=new RegExp(":leave","g");function ff(t,n,e,r,i,o=new Map,s=new Map,a,l,c=[]){return(new mR).buildKeyframes(t,n,e,r,i,o,s,a,l,c)}class mR{buildKeyframes(n,e,r,i,o,s,a,l,c,h=[]){c=c||new ul;const p=new hf(n,e,c,i,o,h,[]);p.options=l;const m=l.delay?Xn(l.delay):0;p.currentTimeline.delayNextStep(m),p.currentTimeline.setStyles([s],null,p.errors,l),Ht(this,r,p);const y=p.timelines.filter(_=>_.containsAnimation());if(y.length&&a.size){let _;for(let D=y.length-1;D>=0;D--){const A=y[D];if(A.element===e){_=A;break}}_&&!_.allowOnlyTimelineStyles()&&_.setStyles([a],null,p.errors,l)}return y.length?y.map(_=>_.buildKeyframes()):[df(e,[],[],[],0,m,"",!1)]}visitTrigger(n,e){}visitState(n,e){}visitTransition(n,e){}visitAnimateChild(n,e){const r=e.subInstructions.get(e.element);if(r){const i=e.createSubContext(n.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=n}visitAnimateRef(n,e){const r=e.createSubContext(n.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([n.options,n.animation.options],e,r),this.visitReference(n.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=n}_applyAnimationRefDelays(n,e,r){for(const i of n){const o=i?.delay;if(o){const s="number"==typeof o?o:Xn(Ko(o,i?.params??{},e.errors));r.delayNextStep(s)}}}_visitSubInstructions(n,e,r){let o=e.currentTimeline.currentTime;const s=null!=r.duration?Xn(r.duration):null,a=null!=r.delay?Xn(r.delay):null;return 0!==s&&n.forEach(l=>{const c=e.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(n,e){e.updateOptions(n.options,!0),Ht(this,n.animation,e),e.previousNode=n}visitSequence(n,e){const r=e.subContextCount;let i=e;const o=n.options;if(o&&(o.params||o.delay)&&(i=e.createSubContext(o),i.transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=dl);const s=Xn(o.delay);i.delayNextStep(s)}n.steps.length&&(n.steps.forEach(s=>Ht(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=n}visitGroup(n,e){const r=[];let i=e.currentTimeline.currentTime;const o=n.options&&n.options.delay?Xn(n.options.delay):0;n.steps.forEach(s=>{const a=e.createSubContext(n.options);o&&a.delayNextStep(o),Ht(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(i),e.previousNode=n}_visitTiming(n,e){if(n.dynamic){const r=n.strValue;return ol(e.params?Ko(r,e.params,e.errors):r,e.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,e){const r=e.currentAnimateTimings=this._visitTiming(n.timings,e),i=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),i.snapshotCurrentStyles());const o=n.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(r.duration),this.visitStyle(o,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=n}visitStyle(n,e){const r=e.currentTimeline,i=e.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const o=i&&i.easing||n.easing;n.isEmptyStep?r.applyEmptyStep(o):r.setStyles(n.styles,o,e.errors,e.options),e.previousNode=n}visitKeyframes(n,e){const r=e.currentAnimateTimings,i=e.currentTimeline.duration,o=r.duration,a=e.createSubContext().currentTimeline;a.easing=r.easing,n.styles.forEach(l=>{a.forwardTime((l.offset||0)*o),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(i+o),e.previousNode=n}visitQuery(n,e){const r=e.currentTimeline.currentTime,i=n.options||{},o=i.delay?Xn(i.delay):0;o&&(6===e.previousNode.type||0==r&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=dl);let s=r;const a=e.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,h)=>{e.currentQueryIndex=h;const p=e.createSubContext(n.options,c);o&&p.delayNextStep(o),c===e.element&&(l=p.currentTimeline),Ht(this,n.animation,p),p.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,p.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=n}visitStagger(n,e){const r=e.parentContext,i=e.currentTimeline,o=n.timings,s=Math.abs(o.duration),a=s*(e.currentQueryTotal-1);let l=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime}const h=e.currentTimeline;l&&h.delayNextStep(l);const p=h.currentTime;Ht(this,n.animation,e),e.previousNode=n,r.currentStaggerTime=i.currentTime-p+(i.startTime-r.currentTimeline.startTime)}}const dl={};class hf{constructor(n,e,r,i,o,s,a,l){this._driver=n,this.element=e,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=dl,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new fl(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,e){if(!n)return;const r=n;let i=this.options;null!=r.duration&&(i.duration=Xn(r.duration)),null!=r.delay&&(i.delay=Xn(r.delay));const o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=Ko(o[a],s,this.errors))})}}_copyOptions(){const n={};if(this.options){const e=this.options.params;if(e){const r=n.params={};Object.keys(e).forEach(i=>{r[i]=e[i]})}}return n}createSubContext(n=null,e,r){const i=e||this.element,o=new hf(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(n),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(n){return this.previousNode=dl,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,e,r){const i={duration:e??n.duration,delay:this.currentTimeline.currentTime+(r??0)+n.delay,easing:""},o=new yR(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,i,n.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,e,r,i,o,s){let a=[];if(i&&a.push(this.element),n.length>0){n=(n=n.replace(hR,"."+this._enterClassName)).replace(gR,"."+this._leaveClassName);let c=this._driver.query(this.element,n,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!o&&0==a.length&&s.push(function Ex(t){return new k(3014,!1)}()),a}}class fl{constructor(n,e,r,i){this._driver=n,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+n),e&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,e){return this.applyStylesToKeyframe(),new fl(this._driver,n,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,e){this._localTimelineStyles.set(n,e),this._globalTimelineStyles.set(n,e),this._styleSummary.set(n,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&this._previousKeyframe.set("easing",n);for(let[e,r]of this._globalTimelineStyles)this._backFill.set(e,r||Kn),this._currentKeyframe.set(e,Kn);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,e,r,i){e&&this._previousKeyframe.set("easing",e);const o=i&&i.params||{},s=function _R(t,n){const e=new Map;let r;return t.forEach(i=>{if("*"===i){r=r||n.keys();for(let o of r)e.set(o,Kn)}else mr(i,e)}),e}(n,this._globalTimelineStyles);for(let[a,l]of s){const c=Ko(l,o,r);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Kn),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((n,e)=>{this._currentKeyframe.set(e,n)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((n,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,n)}))}snapshotCurrentStyles(){for(let[n,e]of this._localTimelineStyles)this._pendingStyles.set(n,e),this._updateStyle(n,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let e in this._currentKeyframe)n.push(e);return n}mergeTimelineCollectedStyles(n){n._styleSummary.forEach((e,r)=>{const i=this._styleSummary.get(r);(!i||e.time>i.time)&&this._updateStyle(r,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const c=mr(a,new Map,this._backFill);c.forEach((h,p)=>{"!"===h?n.add(p):h===Kn&&e.add(p)}),r||c.set("offset",l/this.duration),i.push(c)});const o=n.size?sl(n.values()):[],s=e.size?sl(e.values()):[];if(r){const a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return df(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}}class yR extends fl{constructor(n,e,r,i,o,s,a=!1){super(n,e,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:e,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],s=r+e,a=e/s,l=mr(n[0]);l.set("offset",0),o.push(l);const c=mr(n[0]);c.set("offset",x0(a)),o.push(c);const h=n.length-1;for(let p=1;p<=h;p++){let m=mr(n[p]);const y=m.get("offset");m.set("offset",x0((e+y*r)/s)),o.push(m)}r=s,e=0,i="",n=o}return df(this.element,n,this.preStyleProps,this.postStyleProps,r,e,i,!0)}}function x0(t,n=3){const e=Math.pow(10,n-1);return Math.round(t*e)/e}class pf{}const vR=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class bR extends pf{normalizePropertyName(n,e){return lf(n)}normalizeStyleValue(n,e,r,i){let o="";const s=r.toString().trim();if(vR.has(e)&&0!==r&&"0"!==r)if("number"==typeof r)o="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function px(t,n){return new k(3005,!1)}())}return s+o}}function R0(t,n,e,r,i,o,s,a,l,c,h,p,m){return{type:0,element:t,triggerName:n,isRemovalTransition:i,fromState:e,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:h,totalTime:p,errors:m}}const gf={};class O0{constructor(n,e,r){this._triggerName=n,this.ast=e,this._stateStyles=r}match(n,e,r,i){return function wR(t,n,e,r,i){return t.some(o=>o(n,e,r,i))}(this.ast.matchers,n,e,r,i)}buildStyles(n,e,r){let i=this._stateStyles.get("*");return void 0!==n&&(i=this._stateStyles.get(n?.toString())||i),i?i.buildStyles(e,r):new Map}build(n,e,r,i,o,s,a,l,c,h){const p=[],m=this.ast.options&&this.ast.options.params||gf,_=this.buildStyles(r,a&&a.params||gf,p),D=l&&l.params||gf,A=this.buildStyles(i,D,p),L=new Set,S=new Map,$=new Map,W="void"===i,X={params:DR(D,m),delay:this.ast.options?.delay},Ce=h?[]:ff(n,e,this.ast.animation,o,s,_,A,X,c,p);let ze=0;if(Ce.forEach(gn=>{ze=Math.max(gn.duration+gn.delay,ze)}),p.length)return R0(e,this._triggerName,r,i,W,_,A,[],[],S,$,ze,p);Ce.forEach(gn=>{const er=gn.element,Iw=Vt(S,er,new Set);gn.preStyleProps.forEach(Hr=>Iw.add(Hr));const es=Vt($,er,new Set);gn.postStyleProps.forEach(Hr=>es.add(Hr)),er!==e&&L.add(er)});const pn=sl(L.values());return R0(e,this._triggerName,r,i,W,_,A,Ce,pn,S,$,ze)}}function DR(t,n){const e=Yo(n);for(const r in t)t.hasOwnProperty(r)&&null!=t[r]&&(e[r]=t[r]);return e}class SR{constructor(n,e,r){this.styles=n,this.defaultParams=e,this.normalizer=r}buildStyles(n,e){const r=new Map,i=Yo(this.defaultParams);return Object.keys(n).forEach(o=>{const s=n[o];null!==s&&(i[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=Ko(s,i,e));const l=this.normalizer.normalizePropertyName(a,e);s=this.normalizer.normalizeStyleValue(a,l,s,e),r.set(a,s)})}),r}}class ER{constructor(n,e,r){this.name=n,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states=new Map,e.states.forEach(i=>{this.states.set(i.name,new SR(i.style,i.options&&i.options.params||{},r))}),F0(this.states,"true","1"),F0(this.states,"false","0"),e.transitions.forEach(i=>{this.transitionFactories.push(new O0(n,i,this.states))}),this.fallbackTransition=function TR(t,n,e){return new O0(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,e,r,i){return this.transitionFactories.find(s=>s.match(n,e,r,i))||null}matchStyles(n,e,r){return this.fallbackTransition.buildStyles(n,e,r)}}function F0(t,n,e){t.has(n)?t.has(e)||t.set(e,t.get(n)):t.has(e)&&t.set(n,t.get(e))}const kR=new ul;class MR{constructor(n,e,r){this.bodyNode=n,this._driver=e,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(n,e){const r=[],o=cf(this._driver,e,r,[]);if(r.length)throw function Nx(t){return new k(3503,!1)}();this._animations.set(n,o)}_buildPlayer(n,e,r){const i=n.element,o=_0(this._normalizer,n.keyframes,e,r);return this._driver.animate(i,o,n.duration,n.delay,n.easing,[],!0)}create(n,e,r={}){const i=[],o=this._animations.get(n);let s;const a=new Map;if(o?(s=ff(this._driver,e,o,rf,nl,new Map,new Map,r,kR,i),s.forEach(h=>{const p=Vt(a,h.element,new Map);h.postStyleProps.forEach(m=>p.set(m,null))})):(i.push(function xx(){return new k(3300,!1)}()),s=[]),i.length)throw function Rx(t){return new k(3504,!1)}();a.forEach((h,p)=>{h.forEach((m,y)=>{h.set(y,this._driver.computeStyle(p,y,Kn))})});const c=gr(s.map(h=>{const p=a.get(h.element);return this._buildPlayer(h,new Map,p)}));return this._playersById.set(n,c),c.onDestroy(()=>this.destroy(n)),this.players.push(c),c}destroy(n){const e=this._getPlayer(n);e.destroy(),this._playersById.delete(n);const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(n){const e=this._playersById.get(n);if(!e)throw function Ox(t){return new k(3301,!1)}();return e}listen(n,e,r,i){const o=ef(e,"","","");return Xd(this._getPlayer(n),r,o,i),()=>{}}command(n,e,r,i){if("register"==r)return void this.register(n,i[0]);if("create"==r)return void this.create(n,e,i[0]||{});const o=this._getPlayer(n);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(n)}}}const L0="ng-animate-queued",mf="ng-animate-disabled",xR=[],B0={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},RR={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Zt="__ng_removed";class yf{get params(){return this.options.params}constructor(n,e=""){this.namespaceId=e;const r=n&&n.hasOwnProperty("value");if(this.value=function BR(t){return t??null}(r?n.value:n),r){const o=Yo(n);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(n){const e=n.params;if(e){const r=this.options.params;Object.keys(e).forEach(i=>{null==r[i]&&(r[i]=e[i])})}}}const Xo="void",_f=new yf(Xo);class OR{constructor(n,e,r){this.id=n,this.hostElement=e,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,Yt(e,this._hostClassName)}listen(n,e,r,i){if(!this._triggers.has(e))throw function Fx(t,n){return new k(3302,!1)}();if(null==r||0==r.length)throw function Lx(t){return new k(3303,!1)}();if(!function VR(t){return"start"==t||"done"==t}(r))throw function Bx(t,n){return new k(3400,!1)}();const o=Vt(this._elementListeners,n,[]),s={name:e,phase:r,callback:i};o.push(s);const a=Vt(this._engine.statesByElement,n,new Map);return a.has(e)||(Yt(n,rl),Yt(n,rl+"-"+e),a.set(e,_f)),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(e)||a.delete(e)})}}register(n,e){return!this._triggers.has(n)&&(this._triggers.set(n,e),!0)}_getTrigger(n){const e=this._triggers.get(n);if(!e)throw function Vx(t){return new k(3401,!1)}();return e}trigger(n,e,r,i=!0){const o=this._getTrigger(e),s=new vf(this.id,e,n);let a=this._engine.statesByElement.get(n);a||(Yt(n,rl),Yt(n,rl+"-"+e),this._engine.statesByElement.set(n,a=new Map));let l=a.get(e);const c=new yf(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(e,c),l||(l=_f),c.value!==Xo&&l.value===c.value){if(!function jR(t,n){const e=Object.keys(t),r=Object.keys(n);if(e.length!=r.length)return!1;for(let i=0;i<e.length;i++){const o=e[i];if(!n.hasOwnProperty(o)||t[o]!==n[o])return!1}return!0}(l.params,c.params)){const D=[],A=o.matchStyles(l.value,l.params,D),L=o.matchStyles(c.value,c.params,D);D.length?this._engine.reportError(D):this._engine.afterFlush(()=>{Lr(n,A),Nn(n,L)})}return}const m=Vt(this._engine.playersByElement,n,[]);m.forEach(D=>{D.namespaceId==this.id&&D.triggerName==e&&D.queued&&D.destroy()});let y=o.matchTransition(l.value,c.value,n,c.params),_=!1;if(!y){if(!i)return;y=o.fallbackTransition,_=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:e,transition:y,fromState:l,toState:c,player:s,isFallbackTransition:_}),_||(Yt(n,L0),s.onStart(()=>{Ri(n,L0)})),s.onDone(()=>{let D=this.players.indexOf(s);D>=0&&this.players.splice(D,1);const A=this._engine.playersByElement.get(n);if(A){let L=A.indexOf(s);L>=0&&A.splice(L,1)}}),this.players.push(s),m.push(s),s}deregister(n){this._triggers.delete(n),this._engine.statesByElement.forEach(e=>e.delete(n)),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(i=>i.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const e=this._engine.playersByElement.get(n);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,e){const r=this._engine.driver.query(n,il,!0);r.forEach(i=>{if(i[Zt])return;const o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,e,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(n,e,r,i){const o=this._engine.statesByElement.get(n),s=new Map;if(o){const a=[];if(o.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){const h=this.trigger(n,c,Xo,i);h&&a.push(h)}}),a.length)return this._engine.markElementAsRemoved(this.id,n,!0,e,s),r&&gr(a).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const e=this._elementListeners.get(n),r=this._engine.statesByElement.get(n);if(e&&r){const i=new Set;e.forEach(o=>{const s=o.name;if(i.has(s))return;i.add(s);const l=this._triggers.get(s).fallbackTransition,c=r.get(s)||_f,h=new yf(Xo),p=new vf(this.id,s,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:s,transition:l,fromState:c,toState:h,player:p,isFallbackTransition:!0})})}}removeNode(n,e){const r=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,e),this.triggerLeaveAnimation(n,e,!0))return;let i=!1;if(r.totalAnimations){const o=r.players.length?r.playersByQueriedElement.get(n):[];if(o&&o.length)i=!0;else{let s=n;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(n),i)r.markElementAsRemoved(this.id,n,!1,e);else{const o=n[Zt];(!o||o===B0)&&(r.afterFlush(()=>this.clearElementCache(n)),r.destroyInnerAnimations(n),r._onRemovalComplete(n,e))}}insertNode(n,e){Yt(n,this._hostClassName)}drainQueuedTransitions(n){const e=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){const l=ef(o,r.triggerName,r.fromState.value,r.toState.value);l._data=n,Xd(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(r)}),this._queue=[],e.sort((r,i)=>{const o=r.transition.ast.depCount,s=i.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(n){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}elementContainsData(n){let e=!1;return this._elementListeners.has(n)&&(e=!0),e=!!this._queue.find(r=>r.element===n)||e,e}}class FR{_onRemovalComplete(n,e){this.onRemovalComplete(n,e)}constructor(n,e,r){this.bodyNode=n,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}get queuedPlayers(){const n=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&n.push(r)})}),n}createNamespace(n,e){const r=new OR(n,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[n]=r}_balanceNamespaceList(n,e){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(e);for(;a;){const l=i.get(a);if(l){const c=r.indexOf(l);r.splice(c+1,0,n),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(n)}else r.push(n);return i.set(e,n),n}register(n,e){let r=this._namespaceLookup[n];return r||(r=this.createNamespace(n,e)),r}registerTrigger(n,e,r){let i=this._namespaceLookup[n];i&&i.register(e,r)&&this.totalAnimations++}destroy(n,e){if(!n)return;const r=this._fetchNamespace(n);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[n];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(e))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const e=new Set,r=this.statesByElement.get(n);if(r)for(let i of r.values())if(i.namespaceId){const o=this._fetchNamespace(i.namespaceId);o&&e.add(o)}return e}trigger(n,e,r,i){if(hl(e)){const o=this._fetchNamespace(n);if(o)return o.trigger(e,r,i),!0}return!1}insertNode(n,e,r,i){if(!hl(e))return;const o=e[Zt];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(n){const s=this._fetchNamespace(n);s&&s.insertNode(e,r)}i&&this.collectEnterElement(e)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,e){e?this.disabledNodes.has(n)||(this.disabledNodes.add(n),Yt(n,mf)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),Ri(n,mf))}removeNode(n,e,r){if(hl(e)){const i=n?this._fetchNamespace(n):null;i?i.removeNode(e,r):this.markElementAsRemoved(n,e,!1,r);const o=this.namespacesByHostElement.get(e);o&&o.id!==n&&o.removeNode(e,r)}else this._onRemovalComplete(e,r)}markElementAsRemoved(n,e,r,i,o){this.collectedLeaveElements.push(e),e[Zt]={namespaceId:n,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(n,e,r,i,o){return hl(e)?this._fetchNamespace(n).listen(e,r,i,o):()=>{}}_buildInstruction(n,e,r,i,o){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,r,i,n.fromState.options,n.toState.options,e,o)}destroyInnerAnimations(n){let e=this.driver.query(n,il,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(n,of,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(n){const e=this.playersByElement.get(n);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(n){const e=this.playersByQueriedElement.get(n);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return gr(this.players).onDone(()=>n());n()})}processLeaveNode(n){const e=n[Zt];if(e&&e.setForRemoval){if(n[Zt]=B0,e.namespaceId){this.destroyInnerAnimations(n);const r=this._fetchNamespace(e.namespaceId);r&&r.clearElementCache(n)}this._onRemovalComplete(n,e.setForRemoval)}n.classList?.contains(mf)&&this.markElementAsDisabled(n,!1),this.driver.query(n,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(n=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Yt(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,n)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?gr(e).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(n){throw function Hx(t){return new k(3402,!1)}()}_flushAnimations(n,e){const r=new ul,i=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,h=new Set;this.disabledNodes.forEach(q=>{h.add(q);const Z=this.driver.query(q,".ng-animate-queued",!0);for(let J=0;J<Z.length;J++)h.add(Z[J])});const p=this.bodyNode,m=Array.from(this.statesByElement.keys()),y=G0(m,this.collectedEnterElements),_=new Map;let D=0;y.forEach((q,Z)=>{const J=rf+D++;_.set(Z,J),q.forEach(ge=>Yt(ge,J))});const A=[],L=new Set,S=new Set;for(let q=0;q<this.collectedLeaveElements.length;q++){const Z=this.collectedLeaveElements[q],J=Z[Zt];J&&J.setForRemoval&&(A.push(Z),L.add(Z),J.hasAnimation?this.driver.query(Z,".ng-star-inserted",!0).forEach(ge=>L.add(ge)):S.add(Z))}const $=new Map,W=G0(m,Array.from(L));W.forEach((q,Z)=>{const J=nl+D++;$.set(Z,J),q.forEach(ge=>Yt(ge,J))}),n.push(()=>{y.forEach((q,Z)=>{const J=_.get(Z);q.forEach(ge=>Ri(ge,J))}),W.forEach((q,Z)=>{const J=$.get(Z);q.forEach(ge=>Ri(ge,J))}),A.forEach(q=>{this.processLeaveNode(q)})});const X=[],Ce=[];for(let q=this._namespaceList.length-1;q>=0;q--)this._namespaceList[q].drainQueuedTransitions(e).forEach(J=>{const ge=J.player,nt=J.element;if(X.push(ge),this.collectedEnterElements.length){const ft=nt[Zt];if(ft&&ft.setForMove){if(ft.previousTriggersValues&&ft.previousTriggersValues.has(J.triggerName)){const Gr=ft.previousTriggersValues.get(J.triggerName),Kt=this.statesByElement.get(J.element);if(Kt&&Kt.has(J.triggerName)){const bl=Kt.get(J.triggerName);bl.value=Gr,Kt.set(J.triggerName,bl)}}return void ge.destroy()}}const Rn=!p||!this.driver.containsElement(p,nt),Gt=$.get(nt),_r=_.get(nt),Be=this._buildInstruction(J,r,_r,Gt,Rn);if(Be.errors&&Be.errors.length)return void Ce.push(Be);if(Rn)return ge.onStart(()=>Lr(nt,Be.fromStyles)),ge.onDestroy(()=>Nn(nt,Be.toStyles)),void i.push(ge);if(J.isFallbackTransition)return ge.onStart(()=>Lr(nt,Be.fromStyles)),ge.onDestroy(()=>Nn(nt,Be.toStyles)),void i.push(ge);const Nw=[];Be.timelines.forEach(ft=>{ft.stretchStartingKeyframe=!0,this.disabledNodes.has(ft.element)||Nw.push(ft)}),Be.timelines=Nw,r.append(nt,Be.timelines),s.push({instruction:Be,player:ge,element:nt}),Be.queriedElements.forEach(ft=>Vt(a,ft,[]).push(ge)),Be.preStyleProps.forEach((ft,Gr)=>{if(ft.size){let Kt=l.get(Gr);Kt||l.set(Gr,Kt=new Set),ft.forEach((bl,Mf)=>Kt.add(Mf))}}),Be.postStyleProps.forEach((ft,Gr)=>{let Kt=c.get(Gr);Kt||c.set(Gr,Kt=new Set),ft.forEach((bl,Mf)=>Kt.add(Mf))})});if(Ce.length){const q=[];Ce.forEach(Z=>{q.push(function Gx(t,n){return new k(3505,!1)}())}),X.forEach(Z=>Z.destroy()),this.reportError(q)}const ze=new Map,pn=new Map;s.forEach(q=>{const Z=q.element;r.has(Z)&&(pn.set(Z,Z),this._beforeAnimationBuild(q.player.namespaceId,q.instruction,ze))}),i.forEach(q=>{const Z=q.element;this._getPreviousPlayers(Z,!1,q.namespaceId,q.triggerName,null).forEach(ge=>{Vt(ze,Z,[]).push(ge),ge.destroy()})});const gn=A.filter(q=>$0(q,l,c)),er=new Map;H0(er,this.driver,S,c,Kn).forEach(q=>{$0(q,l,c)&&gn.push(q)});const es=new Map;y.forEach((q,Z)=>{H0(es,this.driver,new Set(q),l,"!")}),gn.forEach(q=>{const Z=er.get(q),J=es.get(q);er.set(q,new Map([...Z?.entries()??[],...J?.entries()??[]]))});const Hr=[],Aw=[],Pw={};s.forEach(q=>{const{element:Z,player:J,instruction:ge}=q;if(r.has(Z)){if(h.has(Z))return J.onDestroy(()=>Nn(Z,ge.toStyles)),J.disabled=!0,J.overrideTotalTime(ge.totalTime),void i.push(J);let nt=Pw;if(pn.size>1){let Gt=Z;const _r=[];for(;Gt=Gt.parentNode;){const Be=pn.get(Gt);if(Be){nt=Be;break}_r.push(Gt)}_r.forEach(Be=>pn.set(Be,nt))}const Rn=this._buildAnimation(J.namespaceId,ge,ze,o,es,er);if(J.setRealPlayer(Rn),nt===Pw)Hr.push(J);else{const Gt=this.playersByElement.get(nt);Gt&&Gt.length&&(J.parentPlayer=gr(Gt)),i.push(J)}}else Lr(Z,ge.fromStyles),J.onDestroy(()=>Nn(Z,ge.toStyles)),Aw.push(J),h.has(Z)&&i.push(J)}),Aw.forEach(q=>{const Z=o.get(q.element);if(Z&&Z.length){const J=gr(Z);q.setRealPlayer(J)}}),i.forEach(q=>{q.parentPlayer?q.syncPlayerEvents(q.parentPlayer):q.destroy()});for(let q=0;q<A.length;q++){const Z=A[q],J=Z[Zt];if(Ri(Z,nl),J&&J.hasAnimation)continue;let ge=[];if(a.size){let Rn=a.get(Z);Rn&&Rn.length&&ge.push(...Rn);let Gt=this.driver.query(Z,of,!0);for(let _r=0;_r<Gt.length;_r++){let Be=a.get(Gt[_r]);Be&&Be.length&&ge.push(...Be)}}const nt=ge.filter(Rn=>!Rn.destroyed);nt.length?HR(this,Z,nt):this.processLeaveNode(Z)}return A.length=0,Hr.forEach(q=>{this.players.push(q),q.onDone(()=>{q.destroy();const Z=this.players.indexOf(q);this.players.splice(Z,1)}),q.play()}),Hr}elementContainsData(n,e){let r=!1;const i=e[Zt];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(e)&&(r=!0),this.playersByQueriedElement.has(e)&&(r=!0),this.statesByElement.has(e)&&(r=!0),this._fetchNamespace(n).elementContainsData(e)||r}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,e,r,i,o){let s=[];if(e){const a=this.playersByQueriedElement.get(n);a&&(s=a)}else{const a=this.playersByElement.get(n);if(a){const l=!o||o==Xo;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||s.push(c)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(n,e,r){const o=e.element,s=e.isRemovalTransition?void 0:n,a=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const c=l.element,h=c!==o,p=Vt(r,c,[]);this._getPreviousPlayers(c,h,s,a,e.toState).forEach(y=>{const _=y.getRealPlayer();_.beforeDestroy&&_.beforeDestroy(),y.destroy(),p.push(y)})}Lr(o,e.fromStyles)}_buildAnimation(n,e,r,i,o,s){const a=e.triggerName,l=e.element,c=[],h=new Set,p=new Set,m=e.timelines.map(_=>{const D=_.element;h.add(D);const A=D[Zt];if(A&&A.removedBeforeQueried)return new Zo(_.duration,_.delay);const L=D!==l,S=function GR(t){const n=[];return j0(t,n),n}((r.get(D)||xR).map(ze=>ze.getRealPlayer())).filter(ze=>!!ze.element&&ze.element===D),$=o.get(D),W=s.get(D),X=_0(this._normalizer,_.keyframes,$,W),Ce=this._buildPlayer(_,X,S);if(_.subTimeline&&i&&p.add(D),L){const ze=new vf(n,a,D);ze.setRealPlayer(Ce),c.push(ze)}return Ce});c.forEach(_=>{Vt(this.playersByQueriedElement,_.element,[]).push(_),_.onDone(()=>function LR(t,n,e){let r=t.get(n);if(r){if(r.length){const i=r.indexOf(e);r.splice(i,1)}0==r.length&&t.delete(n)}return r}(this.playersByQueriedElement,_.element,_))}),h.forEach(_=>Yt(_,E0));const y=gr(m);return y.onDestroy(()=>{h.forEach(_=>Ri(_,E0)),Nn(l,e.toStyles)}),p.forEach(_=>{Vt(i,_,[]).push(y)}),y}_buildPlayer(n,e,r){return e.length>0?this.driver.animate(n.element,e,n.duration,n.delay,n.easing,r):new Zo(n.duration,n.delay)}}class vf{constructor(n,e,r){this.namespaceId=n,this.triggerName=e,this.element=r,this._player=new Zo,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,this._queuedCallbacks.forEach((e,r)=>{e.forEach(i=>Xd(n,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const e=this._player;e.triggerCallback&&n.onStart(()=>e.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,e){Vt(this._queuedCallbacks,n,[]).push(e)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const e=this._player;e.triggerCallback&&e.triggerCallback(n)}}function hl(t){return t&&1===t.nodeType}function V0(t,n){const e=t.style.display;return t.style.display=n??"none",e}function H0(t,n,e,r,i){const o=[];e.forEach(l=>o.push(V0(l)));const s=[];r.forEach((l,c)=>{const h=new Map;l.forEach(p=>{const m=n.computeStyle(c,p,i);h.set(p,m),(!m||0==m.length)&&(c[Zt]=RR,s.push(c))}),t.set(c,h)});let a=0;return e.forEach(l=>V0(l,o[a++])),s}function G0(t,n){const e=new Map;if(t.forEach(a=>e.set(a,[])),0==n.length)return e;const i=new Set(n),o=new Map;function s(a){if(!a)return 1;let l=o.get(a);if(l)return l;const c=a.parentNode;return l=e.has(c)?c:i.has(c)?1:s(c),o.set(a,l),l}return n.forEach(a=>{const l=s(a);1!==l&&e.get(l).push(a)}),e}function Yt(t,n){t.classList?.add(n)}function Ri(t,n){t.classList?.remove(n)}function HR(t,n,e){gr(e).onDone(()=>t.processLeaveNode(n))}function j0(t,n){for(let e=0;e<t.length;e++){const r=t[e];r instanceof m0?j0(r.players,n):n.push(r)}}function $0(t,n,e){const r=e.get(t);if(!r)return!1;let i=n.get(t);return i?r.forEach(o=>i.add(o)):n.set(t,r),e.delete(t),!0}class pl{constructor(n,e,r){this.bodyNode=n,this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new FR(n,e,r),this._timelineEngine=new MR(n,e,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(n,e,r,i,o){const s=n+"-"+i;let a=this._triggerCache[s];if(!a){const l=[],h=cf(this._driver,o,l,[]);if(l.length)throw function Ax(t,n){return new k(3404,!1)}();a=function CR(t,n,e){return new ER(t,n,e)}(i,h,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,i,a)}register(n,e){this._transitionEngine.register(n,e)}destroy(n,e){this._transitionEngine.destroy(n,e)}onInsert(n,e,r,i){this._transitionEngine.insertNode(n,e,r,i)}onRemove(n,e,r){this._transitionEngine.removeNode(n,e,r)}disableAnimations(n,e){this._transitionEngine.markElementAsDisabled(n,e)}process(n,e,r,i){if("@"==r.charAt(0)){const[o,s]=v0(r);this._timelineEngine.command(o,e,s,i)}else this._transitionEngine.trigger(n,e,r,i)}listen(n,e,r,i,o){if("@"==r.charAt(0)){const[s,a]=v0(r);return this._timelineEngine.listen(s,e,a,o)}return this._transitionEngine.listen(n,e,r,i,o)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let UR=(()=>{class t{constructor(e,r,i){this._element=e,this._startStyles=r,this._endStyles=i,this._state=0;let o=t.initialStylesByElement.get(e);o||t.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Nn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Nn(this._element,this._initialStyles),this._endStyles&&(Nn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Lr(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Lr(this._element,this._endStyles),this._endStyles=null),Nn(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function bf(t){let n=null;return t.forEach((e,r)=>{(function WR(t){return"display"===t||"position"===t})(r)&&(n=n||new Map,n.set(r,e))}),n}class U0{constructor(n,e,r,i){this.element=n,this.keyframes=e,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(n){const e=[];return n.forEach(r=>{e.push(Object.fromEntries(r))}),e}_triggerWebAnimation(n,e,r){return n.animate(this._convertKeyframesToObject(e),r)}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&n.set(i,this._finished?r:I0(this.element,i))}),this.currentSnapshot=n}triggerCallback(n){const e="start"===n?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class qR{validateStyleProperty(n){return!0}validateAnimatableStyleProperty(n){return!0}matchesElement(n,e){return!1}containsElement(n,e){return w0(n,e)}getParentElement(n){return tf(n)}query(n,e,r){return D0(n,e,r)}computeStyle(n,e,r){return window.getComputedStyle(n)[e]}animate(n,e,r,i,o,s=[]){const l={duration:r,delay:i,fill:0==i?"both":"forwards"};o&&(l.easing=o);const c=new Map,h=s.filter(y=>y instanceof U0);(function Jx(t,n){return 0===t||0===n})(r,i)&&h.forEach(y=>{y.currentSnapshot.forEach((_,D)=>c.set(D,_))});let p=function Qx(t){return t.length?t[0]instanceof Map?t:t.map(n=>T0(n)):[]}(e).map(y=>mr(y));p=function eR(t,n,e){if(e.size&&n.length){let r=n[0],i=[];if(e.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<n.length;o++){let s=n[o];i.forEach(a=>s.set(a,I0(t,a)))}}return n}(n,p,c);const m=function $R(t,n){let e=null,r=null;return Array.isArray(n)&&n.length?(e=bf(n[0]),n.length>1&&(r=bf(n[n.length-1]))):n instanceof Map&&(e=bf(n)),e||r?new UR(t,e,r):null}(n,p);return new U0(n,p,l,m)}}let zR=(()=>{class t extends f0{constructor(e,r){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(r.body,{id:"0",encapsulation:wt.None,styles:[],data:{animation:[]}})}build(e){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(e)?p0(e):e;return W0(this._renderer,null,r,"register",[i]),new ZR(r,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(R(go),R(Bt))},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),t})();class ZR extends ax{constructor(n,e){super(),this._id=n,this._renderer=e}create(n,e){return new YR(this._id,n,e||{},this._renderer)}}class YR{constructor(n,e,r,i){this.id=n,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(n,e){return this._renderer.listen(this.element,`@@${this.id}:${n}`,e)}_command(n,...e){return W0(this._renderer,this.element,this.id,n,e)}onDone(n){this._listen("done",n)}onStart(n){this._listen("start",n)}onDestroy(n){this._listen("destroy",n)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(n){this._command("setPosition",n)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function W0(t,n,e,r,i){return t.setProperty(n,`@@${e}:${r}`,i)}const q0="@.disabled";let QR=(()=>{class t{constructor(e,r,i){this.delegate=e,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(o,s)=>{const a=s?.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(e,r){const o=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){let h=this._rendererCache.get(o);return h||(h=new z0("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,h)),h}const s=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const l=h=>{Array.isArray(h)?h.forEach(l):this.engine.registerTrigger(s,a,e,h.name,h)};return r.data.animation.forEach(l),new KR(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,i){e>=0&&e<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(R(go),R(pl),R(Oe))},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),t})();class z0{constructor(n,e,r,i){this.namespaceId=n,this.delegate=e,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?o=>e.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(n,e){return this.delegate.createElement(n,e)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,e){this.delegate.appendChild(n,e),this.engine.onInsert(this.namespaceId,e,n,!1)}insertBefore(n,e,r,i=!0){this.delegate.insertBefore(n,e,r),this.engine.onInsert(this.namespaceId,e,n,i)}removeChild(n,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(n,e){return this.delegate.selectRootElement(n,e)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,e,r,i){this.delegate.setAttribute(n,e,r,i)}removeAttribute(n,e,r){this.delegate.removeAttribute(n,e,r)}addClass(n,e){this.delegate.addClass(n,e)}removeClass(n,e){this.delegate.removeClass(n,e)}setStyle(n,e,r,i){this.delegate.setStyle(n,e,r,i)}removeStyle(n,e,r){this.delegate.removeStyle(n,e,r)}setProperty(n,e,r){"@"==e.charAt(0)&&e==q0?this.disableAnimations(n,!!r):this.delegate.setProperty(n,e,r)}setValue(n,e){this.delegate.setValue(n,e)}listen(n,e,r){return this.delegate.listen(n,e,r)}disableAnimations(n,e){this.engine.disableAnimations(n,e)}}class KR extends z0{constructor(n,e,r,i,o){super(e,r,i,o),this.factory=n,this.namespaceId=e}setProperty(n,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==q0?this.disableAnimations(n,r=void 0===r||!!r):this.engine.process(this.namespaceId,n,e.slice(1),r):this.delegate.setProperty(n,e,r)}listen(n,e,r){if("@"==e.charAt(0)){const i=function XR(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(n);let o=e.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function JR(t){const n=t.indexOf(".");return[t.substring(0,n),t.slice(n+1)]}(o)),this.engine.listen(this.namespaceId,i,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(n,e,r)}}let eO=(()=>{class t extends pl{constructor(e,r,i,o){super(e.body,r,i)}ngOnDestroy(){this.flush()}}return t.\u0275fac=function(e){return new(e||t)(R(Bt),R(nf),R(pf),R(ur))},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),t})();const Z0=[{provide:f0,useClass:zR},{provide:pf,useFactory:function tO(){return new bR}},{provide:pl,useClass:eO},{provide:go,useFactory:function nO(t,n,e){return new QR(t,n,e)},deps:[Td,pl,Oe]}],wf=[{provide:nf,useFactory:()=>new qR},{provide:_g,useValue:"BrowserAnimations"},...Z0],Y0=[{provide:nf,useClass:S0},{provide:_g,useValue:"NoopAnimations"},...Z0];let rO=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?Y0:wf}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=_n({type:t}),t.\u0275inj=Jt({providers:wf,imports:[nb]}),t})();const Q0=["toast-component",""];function iO(t,n){if(1&t){const e=pe();d(0,"button",5),C("click",function(){return M(e),I(b().remove())}),d(1,"span",6),f(2,"\xd7"),u()()}}function oO(t,n){if(1&t&&(To(0),f(1),ko()),2&t){const e=b(2);g(1),ce("[",e.duplicatesCount+1,"]")}}function sO(t,n){if(1&t&&(d(0,"div"),f(1),P(2,oO,2,1,"ng-container",4),u()),2&t){const e=b();Wn(e.options.titleClass),Mt("aria-label",e.title),g(1),ce(" ",e.title," "),g(1),v("ngIf",e.duplicatesCount)}}function aO(t,n){if(1&t&&T(0,"div",7),2&t){const e=b();Wn(e.options.messageClass),v("innerHTML",e.message,Ys)}}function lO(t,n){if(1&t&&(d(0,"div",8),f(1),u()),2&t){const e=b();Wn(e.options.messageClass),Mt("aria-label",e.message),g(1),ce(" ",e.message," ")}}function cO(t,n){if(1&t&&(d(0,"div"),T(1,"div",9),u()),2&t){const e=b();g(1),Un("width",e.width+"%")}}class mO{constructor(n,e){this.component=n,this.injector=e}attach(n,e){return this._attachedHost=n,n.attach(this,e)}detach(){const n=this._attachedHost;if(n)return this._attachedHost=void 0,n.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(n){this._attachedHost=n}}class yO{attach(n,e){return this._attachedPortal=n,this.attachComponentPortal(n,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(n){this._disposeFn=n}}class _O{constructor(n){this._overlayRef=n,this.duplicatesCount=0,this._afterClosed=new Xt,this._activate=new Xt,this._manualClose=new Xt,this._resetTimeout=new Xt,this._countDuplicate=new Xt}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(n,e){n&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}}class ml{constructor(n,e,r,i,o,s){this.toastId=n,this.config=e,this.message=r,this.title=i,this.toastType=o,this.toastRef=s,this._onTap=new Xt,this._onAction=new Xt,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(n){this._onAction.next(n)}onAction(){return this._onAction.asObservable()}}const X0=new Y("ToastConfig");class vO extends yO{constructor(n,e,r){super(),this._hostDomElement=n,this._componentFactoryResolver=e,this._appRef=r}attachComponentPortal(n,e){const r=this._componentFactoryResolver.resolveComponentFactory(n.component);let i;return i=r.create(n.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(n){return n.hostView.rootNodes[0]}}class bO{constructor(n){this._portalHost=n}attach(n,e=!0){return this._portalHost.attach(n,e)}detach(){return this._portalHost.detach()}}let wO=(()=>{class t{constructor(e){this._document=e}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e=this._document.createElement("div");e.classList.add("overlay-container"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),this._containerElement=e}}return t.\u0275fac=function(e){return new(e||t)(R(Bt))},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),DO=(()=>{class t{constructor(e,r,i,o){this._overlayContainer=e,this._componentFactoryResolver=r,this._appRef=i,this._document=o,this._paneElements=new Map}create(e,r){return this._createOverlayRef(this.getPaneElement(e,r))}getPaneElement(e="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[e]||(this._paneElements.get(r)[e]=this._createPaneElement(e,r)),this._paneElements.get(r)[e]}_createPaneElement(e,r){const i=this._document.createElement("div");return i.id="toast-container",i.classList.add(e),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(e){return new vO(e,this._componentFactoryResolver,this._appRef)}_createOverlayRef(e){return new bO(this._createPortalHost(e))}}return t.\u0275fac=function(e){return new(e||t)(R(wO),R(po),R(ur),R(Bt))},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Df=(()=>{class t{constructor(e,r,i,o,s){this.overlay=r,this._injector=i,this.sanitizer=o,this.ngZone=s,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...e.default,...e.config},e.config.iconClasses&&(this.toastrConfig.iconClasses={...e.default.iconClasses,...e.config.iconClasses})}show(e,r,i={},o=""){return this._preBuildNotification(o,e,r,this.applyConfig(i))}success(e,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",e,r,this.applyConfig(i))}error(e,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",e,r,this.applyConfig(i))}info(e,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",e,r,this.applyConfig(i))}warning(e,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",e,r,this.applyConfig(i))}clear(e){for(const r of this.toasts)if(void 0!==e){if(r.toastId===e)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(e){const r=this._findToast(e);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(e="",r="",i,o){const{includeTitleDuplicates:s}=this.toastrConfig;for(const a of this.toasts)if((!s||s&&a.title===e)&&a.message===r)return a.toastRef.onDuplicate(i,o),a;return null}applyConfig(e={}){return{...this.toastrConfig,...e}}_findToast(e){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===e)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(e,r,i,o){return o.onActivateTick?this.ngZone.run(()=>this._buildNotification(e,r,i,o)):this._buildNotification(e,r,i,o)}_buildNotification(e,r,i,o){if(!o.toastComponent)throw new Error("toastComponent required");const s=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&o.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&null!==s)return s;this.previousToastMessage=r;let a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const l=this.overlay.create(o.positionClass,this.overlayContainer);this.index=this.index+1;let c=r;r&&o.enableHtml&&(c=this.sanitizer.sanitize(Se.HTML,r));const h=new _O(l),p=new ml(this.index,o,c,i,e,h),y=Ft.create({providers:[{provide:ml,useValue:p}],parent:this._injector}),_=new mO(o.toastComponent,y),D=l.attach(_,o.newestOnTop);h.componentInstance=D.instance;const A={toastId:this.index,title:i||"",message:r||"",toastRef:h,onShown:h.afterActivate(),onHidden:h.afterClosed(),onTap:p.onTap(),onAction:p.onAction(),portal:D};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{A.toastRef.activate()})),this.toasts.push(A),A}}return t.\u0275fac=function(e){return new(e||t)(R(X0),R(DO),R(Ft),R(Ua),R(Oe))},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const SO={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class t{constructor(e,r,i){this.toastrService=e,this.toastPackage=r,this.ngZone=i,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const e=(new Date).getTime();this.width=(this.hideTime-e)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(e,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(e),r)):this.timeout=setTimeout(()=>e(),r)}outsideInterval(e,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(e),r)):this.intervalId=setInterval(()=>e(),r)}runInsideAngular(e){this.ngZone?this.ngZone.run(()=>e()):e()}}return t.\u0275fac=function(e){return new(e||t)(E(Df),E(ml),E(Oe))},t.\u0275cmp=Ye({type:t,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(e,r){1&e&&C("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&e&&(vu("@flyInOut",r.state),Wn(r.toastClasses),Un("display",r.displayStyle))},attrs:Q0,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(e,r){1&e&&(P(0,iO,3,0,"button",0),P(1,sO,3,5,"div",1),P(2,aO,1,3,"div",2),P(3,lO,2,4,"div",3),P(4,cO,2,2,"div",4)),2&e&&(v("ngIf",r.options.closeButton),g(1),v("ngIf",r.title),g(1),v("ngIf",r.message&&r.options.enableHtml),g(1),v("ngIf",r.message&&!r.options.enableHtml),g(1),v("ngIf",r.options.progressBar))},dependencies:[tt],encapsulation:2,data:{animation:[lx("flyInOut",[Qd("inactive",zo({opacity:0})),Qd("active",zo({opacity:1})),Qd("removed",zo({opacity:0})),g0("inactive => active",h0("{{ easeTime }}ms {{ easing }}")),g0("active => removed",h0("{{ easeTime }}ms {{ easing }}"))])]}}),t})()};let CO=(()=>{class t{static forRoot(e={}){return{ngModule:t,providers:[{provide:X0,useValue:{default:SO,config:e}}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=_n({type:t}),t.\u0275inj=Jt({imports:[Fv]}),t})();var Me=(()=>((Me=Me||{})[Me.Player=1]="Player",Me[Me.Combat=2]="Combat",Me[Me.Zones=3]="Zones",Me[Me.Skills=4]="Skills",Me[Me.Items=5]="Items",Me[Me.Store=6]="Store",Me[Me.Help=7]="Help",Me[Me.Updates=8]="Updates",Me[Me.Badges=9]="Badges",Me[Me.Options=10]="Options",Me))(),xn=(()=>((xn=xn||{})[xn.Support=1]="Support",xn[xn.Offensive=2]="Offensive",xn[xn.Defensive=3]="Defensive",xn))(),w=(()=>((w=w||{})[w.ArmourShred=1]="ArmourShred",w[w.Multistrike=2]="Multistrike",w[w.Drain=3]="Drain",w[w.Slow=4]="Slow",w[w.Confuse=5]="Confuse",w[w.Bleed=6]="Bleed",w[w.Paralysis=7]="Paralysis",w[w.Doom=8]="Doom",w[w.Disarm=9]="Disarm",w[w.Sleep=10]="Sleep",w))(),x=(()=>((x=x||{}).ArmourShred="Armour Shred",x.Multistrike="Multistrike",x.Drain="Drain",x.Slow="Slow",x.Confuse="Confuse",x.Bleed="Bleed",x.Paralysis="Paralysis",x.Doom="Doom",x.Disarm="Disarm",x.Sleep="Sleep",x))(),O=(()=>((O=O||{})[O.Poor=1]="Poor",O[O.Normal=2]="Normal",O[O.Good=3]="Good",O[O.Great=4]="Great",O[O.Amazing=5]="Amazing",O[O.Legendary=6]="Legendary",O))(),H=(()=>((H=H||{})[H.Weapon=1]="Weapon",H[H.Armour=2]="Armour",H[H.Potion=3]="Potion",H))(),U=(()=>((U=U||{})[U.Melee=1]="Melee",U[U.Ranged=2]="Ranged",U[U.Magic=3]="Magic",U))(),fn=(()=>((fn=fn||{})[fn.Healing=1]="Healing",fn[fn.Debuff=2]="Debuff",fn))(),De=(()=>((De=De||{})[De.Idle=1]="Idle",De[De.Combat=2]="Combat",De[De.Repair=3]="Repair",De))();const Sf={name:"Generic Player Name",level:1,hp:0,maxHP:0,xp:0,maxXP:128,strength:0,strengthPoints:0,dexterity:0,dexterityPoints:0,intelligence:0,intelligencePoints:0,constitution:0,constitutionPoints:0,statPoints:1,skillPoints:0,seeds:0,scrap:0,selectedTab:Me.Updates,selectedSkillTree:xn.Support,gameState:De.Idle,currentZoneID:1,maxZoneID:1,inventory:[],storeContents:[],maxInventory:30,badges:[],skills:[],opt_inventoryHandling:{weapon_poor:"SELL",weapon_normal:"SELL",weapon_good:"SCRAP",weapon_great:"IGNORE",weapon_amazing:"IGNORE",armour_poor:"SELL",armour_normal:"SELL",armour_good:"SCRAP",armour_great:"IGNORE",armour_amazing:"IGNORE"},opt_autoBattle:{auto_active:!1,auto_fleeHealth:.1,auto_repairThreshold:.1},eliteChance:0,cb_storedDamage:0,autoSave:!1,storedXP:0,badge47_eligible:!0,badge59_eligible:!0,stat_meleeDamage:0,stat_magicDamage:0,stat_rangeDamage:0,cb_untouched:!1,cb_startingHP:0,cb_turns:0};class F{constructor(n,e,r,i,o,s){this.name=n,this.type=e,this.typeString=r,this.duration=i,this.potency=o,this.description=s}}const yr=[new F("Ruthlessness",w.ArmourShred,x.ArmourShred,10,-1),new F("Frenzy",w.Multistrike,x.Multistrike,10,50),new F("Bloodthirst",w.Drain,x.Drain,10,20),new F("Cripple",w.Slow,x.Slow,10,15),new F("Mind Control",w.Confuse,x.Confuse,5,-1),new F("Wound Poison",w.Bleed,x.Bleed,10,20),new F("Nerve Strike",w.Paralysis,x.Paralysis,10,15),new F("Mounting Dread",w.Doom,x.Doom,5,5),new F("Disarmed",w.Disarm,x.Disarm,10,-1),new F("Comatose",w.Sleep,x.Sleep,10,20)],yl=[new F("Ruthlessness",w.ArmourShred,x.ArmourShred,15,-1),new F("Frenzy",w.Multistrike,x.Multistrike,15,70),new F("Bloodthirst",w.Drain,x.Drain,15,30),new F("Cripple",w.Slow,x.Slow,15,25),new F("Mind Control",w.Confuse,x.Confuse,5,-1),new F("Wound Poison",w.Bleed,x.Bleed,15,30),new F("Nerve Strike",w.Paralysis,x.Paralysis,15,25),new F("Mounting Dread",w.Doom,x.Doom,5,7),new F("Disarmed",w.Disarm,x.Disarm,15,-1),new F("Comatose",w.Sleep,x.Sleep,15,10)],J0=[{id:1,name:"Whispering Cave",description:"What might appear to be a calm refuge in the wastes, the Whispering Cave soon revealed itself to be anything but that once explorers started to plumb its' depths. The cave plays home to a host of otherwise rare animals that sought sanctuary from the ravaging wars above ground, and the creatures do not take kindly to humans trespassing on one of the few places left for them to call home.",minLevel:1,maxLevel:10,enemyList:["Oversized Rat","Giant Spider","Brown Bear","Weakened Half-Giant","Hibernating Boar","Lurking Lion","Stealthy Tiger"],eliteList:["Mountain Troll","Hulking Ogre"],boss:{name:"Massive Cave Troll",level:10,health:650,maxHealth:650,mainStat:40,bossFlag:!0,weapon:{name:"Tetranomicon, 2nd Edition",description:"Less words. More pages. Better for bash faces.",level:10,quality:O.Legendary,durability:95,itemType:H.Weapon,w_damageType:U.Melee,w_speed:2.1,w_minDamage:42,w_maxDamage:53,w_dps:22.62,w_debuff:new F("Skull Crack",w.Confuse,x.Confuse,5,-1),locked:!1},armour:{name:"Grubby Loincloth",description:"Hasn't been washed, ever.",level:10,quality:O.Legendary,durability:95,itemType:H.Armour,a_flatMeleeBlock:8,a_flatRangeBlock:0,a_flatMagicBlock:15,a_flatMeleeWeak:0,a_flatRangeWeak:20,a_flatMagicWeak:0,locked:!1}}},{id:2,name:"Ash Cultist Outpost",description:"The Ash Cult has long believed the world is overdue to be reborn in flames, and as such has been working around the clock to gather supplies and capture unwitting survivors in the hope of gathering a large enough offering to finally bring the wrath of the heavens down on the world. Small outposts like this one generally don't hold onto their captures for very long, yet if you're lucky there may be some pickings to be had before they're all transported away to their main fortress.",minLevel:11,maxLevel:20,enemyList:["Ashen Recruit","Ashen Summoner","Ashen Imp","Ashen Warrior","Ashen Ranger","Ashen Spellweaver","Ashen Engineer"],eliteList:["Ashen Archmage","Ashen Rune Golem"],boss:{name:"Ashen Berserker",level:20,health:1300,maxHealth:1300,mainStat:85,bossFlag:!0,weapon:{name:"Dervish, Hand of Rage",description:"If it had a mouth, it'd be screaming in anger.",level:20,quality:O.Legendary,durability:145,itemType:H.Weapon,w_damageType:U.Melee,w_speed:1.6,w_minDamage:59,w_maxDamage:72,w_dps:40.94,w_debuff:new F("Bloodrage",w.Multistrike,x.Multistrike,20,75),locked:!1},armour:{name:"Spiked Berserker's Mail",description:"Spiked armour has never been a good idea, really.",level:20,quality:O.Legendary,durability:145,itemType:H.Armour,a_flatMeleeBlock:30,a_flatRangeBlock:10,a_flatMagicBlock:0,a_flatMeleeWeak:0,a_flatRangeWeak:0,a_flatMagicWeak:40,locked:!1}}},{id:3,name:"Dawn's Light Swamp",description:"Once the site of a mighty battle between warring clans, the area became known as the Dawn's Light Swamp when one side's archmages conjured a massive water wave to overwhelm their foes' defences. While successful, the remaining water seeped into the ground and turned the once lush field into treacherous swampland, which was then promptly taken over by the local wildlife and declared a no-man's land for the remainder of the conflict.",minLevel:21,maxLevel:30,enemyList:["Hungry Crocodile","Swamp Piranha","Foul Elemental","Tar Globule","Corrupted Treant","Putrid Slime","Mud Golem"],eliteList:["Lingering Archmage","Flock of Vultures"],boss:{name:"Swamp Behemoth",level:30,health:2250,maxHealth:2250,mainStat:150,bossFlag:!0,weapon:{name:"Fermeus, Warmaul of the Wastes",description:"The slime covering this maul comes from deep within.",level:30,quality:O.Legendary,durability:195,itemType:H.Weapon,w_damageType:U.Melee,w_speed:2.6,w_minDamage:129,w_maxDamage:155,w_dps:54.62,w_debuff:new F("Crushing Blow",w.ArmourShred,x.ArmourShred,20,-1),locked:!1},armour:{name:"Sludge-Coated Cloak",description:"Things I don't want to wear today include... this.",level:30,quality:O.Legendary,durability:195,itemType:H.Armour,a_flatMeleeBlock:45,a_flatRangeBlock:0,a_flatMagicBlock:0,a_flatMeleeWeak:0,a_flatRangeWeak:25,a_flatMagicWeak:10,locked:!1}}},{id:4,name:"The Final Stop",description:"For many years, the TPX-4450 maglev train ferried thousands of passengers a day across the wastes to go about their daily business. Shortly after the onset of war, a stray blast of arcane magic knocked one of these trains flying off its rail, and the fall of over 100 feet and resulting impact instantly killed everyone on board. With nowhere else to go, the spirits of those slain saw fit to linger in the remains of the train as a warning to any who would approach: only death would find them here.",minLevel:31,maxLevel:40,enemyList:["Spectral Businessman","Spectral Attendant","Spectral Passenger","Spectral Tourist","Spectral Manager","Spectral Child","Spectral Lady"],eliteList:["Spectral Guard","Spectral Conductor"],boss:{name:"Ethereal Train Driver",level:40,health:3300,maxHealth:3300,mainStat:225,bossFlag:!0,weapon:{name:"Reliqus, The Echo of Eternity",description:"It just goes on and on and on...",level:40,quality:O.Legendary,durability:245,itemType:H.Weapon,w_damageType:U.Magic,w_speed:1.6,w_minDamage:110,w_maxDamage:132,w_dps:75.63,w_debuff:new F("Eternal Sleep",w.Sleep,x.Sleep,20,5),locked:!1},armour:{name:"Invisibility Cloak",description:"See also: The Emperor's New Cloak.",level:40,quality:O.Legendary,durability:245,itemType:H.Armour,a_flatMeleeBlock:0,a_flatRangeBlock:15,a_flatMagicBlock:60,a_flatMeleeWeak:50,a_flatRangeWeak:0,a_flatMagicWeak:0,locked:!1}}},{id:5,name:"Echoing Passage",description:"Strategically cutting through the heart of a vast mountain, the Echoing Passage once served as a significant trade route, attracting thousands of daily commuters and visitors who would shop at the market stalls set up along the edges of the tunnel. However, a botched mining operation beneath the area resulted in a catastrophic release of highly virulent and toxic spores, killing everyone who passed through the area and infesting their rotting remains, rendering them akin to zombies.",minLevel:41,maxLevel:50,enemyList:["Decaying Commuter","Mindless Zombie","Wandering Skeleton","Gelatinous Cube","Spore Creature","Rotting Merchant","Reanimated Thief"],eliteList:["Bursting Abomination","Spore Spreader"],boss:{name:"Lumbering Spore Giant",level:50,health:4700,maxHealth:4700,mainStat:315,bossFlag:!0,weapon:{name:"Ball o' Moss",description:"It's just a really big ball.",level:50,quality:O.Legendary,durability:295,itemType:H.Weapon,w_damageType:U.Melee,w_speed:2.6,w_minDamage:206,w_maxDamage:246,w_dps:86.92,w_debuff:new F("Infestation",w.Bleed,x.Bleed,20,40),locked:!1},armour:{name:"Broken Spore Carapace",description:"How a mining pick got through this is a mystery.",level:50,quality:O.Legendary,durability:295,itemType:H.Armour,a_flatMeleeBlock:20,a_flatRangeBlock:60,a_flatMagicBlock:0,a_flatMeleeWeak:0,a_flatRangeWeak:0,a_flatMagicWeak:70,locked:!1}}},{id:6,name:"The Swiftsteel Workshop",description:"Before the discovery and widespread usage of magic for military engagements, armies around the world used mechanical constructs to fight their battles in their stead. The Swiftsteel Workshop was once a shining example of an efficient manufactory for war machines, pumping out hundreds a day to aid the effort. Now magic is commonplace, however, the workshop has fallen into ill repair, and the constructs remain wandering the halls, along with the lucky few who can still command them.",minLevel:51,maxLevel:60,enemyList:["Mechanical Walker","Mad Scientist","Augmented Worker","Alarm-O-Bot","Irradiated Inventor","Self-Piloting Drone","Uncharged Golem"],eliteList:["Arcane Nullifier","Remote Controlled Tank"],boss:{name:"Chief Engineer",level:60,health:6300,maxHealth:6300,mainStat:425,bossFlag:!0,weapon:{name:"Torrentus, Storm of Steel",description:"Not even Neo could stop all these bullets.",level:60,quality:O.Legendary,durability:345,itemType:H.Weapon,w_damageType:U.Ranged,w_speed:1.6,w_minDamage:162,w_maxDamage:192,w_dps:110.63,w_debuff:new F("Suppressive Fire",w.Slow,x.Slow,20,40),locked:!1},armour:{name:"XT-250 Augmentation Platform",description:"Built to last, unlike the pilot.",level:60,quality:O.Legendary,durability:345,itemType:H.Armour,a_flatMeleeBlock:0,a_flatRangeBlock:80,a_flatMagicBlock:0,a_flatMeleeWeak:20,a_flatRangeWeak:0,a_flatMagicWeak:70,locked:!1}}},{id:7,name:"Weary Hollow Chapel",description:"The final resting place of countless casualties of war, the Weary Hollow stands as a stark reminder of the harsh reality that awaits those brave souls who gave their lives for others. An assortment of grievers, grave tenders and clergy wander the paths - many of which were hastily laid as the bodies came flooding in too fast for the chapel staff to handle. The chapel itself is no less bleak: with the staff so busy tending to existing graves and still creating new ones, the building itself has fallen into disrepair.",minLevel:61,maxLevel:70,enemyList:["Grieving Widow","Undertaker","Worn-Out Priestess","Wandering Orphan","Flower Girl","Wailing Attendant","Coffin Looter"],eliteList:["Ancient Lich","High Priest"],boss:{name:"Archbishop of the Hollow",level:70,health:8200,maxHealth:8200,mainStat:550,bossFlag:!0,weapon:{name:"Exalt, Wrath of Heaven",description:"Freshly delivered from on high.",level:70,quality:O.Legendary,durability:395,itemType:H.Weapon,w_damageType:U.Ranged,w_speed:2.1,w_minDamage:236,w_maxDamage:280,w_dps:122.86,w_debuff:new F("Dazzle",w.Paralysis,x.Paralysis,20,40),locked:!1},armour:{name:"Archbishop's Shawl",description:"You must be at least this pious to wear.",level:70,quality:O.Legendary,durability:395,itemType:H.Armour,a_flatMeleeBlock:0,a_flatRangeBlock:0,a_flatMagicBlock:90,a_flatMeleeWeak:30,a_flatRangeWeak:80,a_flatMagicWeak:0,locked:!1}}},{id:8,name:"The Fallen Pillar",description:"Once a prospective site for the crowning glory of the Ash Cult, the Fallen Pillar came to acquire its' name as a result of the cult leader's foolish idea of building their base of operations atop an active volcano, which erupted violently a year after construction began. Now abandoned by its former masters, the ruins play host to a number of diverse scavengers, each hoping to find something tasty or valuable amongst the mess that the Ash Cult left behind.",minLevel:71,maxLevel:80,enemyList:["Ravenous Hyena","Desperate Brigand","Starving Wolf","Smoldering Imp","Bandit Scavenger","Damaged Construct","Pack of Hungry Rats"],eliteList:["Bandit Warmonger","Volcanic Giant"],boss:{name:"Bandit Mastermind",level:80,health:10250,maxHealth:10250,mainStat:690,bossFlag:!0,weapon:{name:"Valnoth, the Hunter's Mark",description:"You'd swear those arrows have homing beacons on them.",level:80,quality:O.Legendary,durability:445,itemType:H.Weapon,w_damageType:U.Ranged,w_speed:2.6,w_minDamage:322,w_maxDamage:383,w_dps:135.58,w_debuff:new F("Marked for Death",w.Doom,x.Doom,5,10),locked:!1},armour:{name:"Flame-Cured Dragon Leathers",description:"Guaranteed fireproof, or your money back!",level:80,quality:O.Legendary,durability:445,itemType:H.Armour,a_flatMeleeBlock:0,a_flatRangeBlock:50,a_flatMagicBlock:100,a_flatMeleeWeak:90,a_flatRangeWeak:0,a_flatMagicWeak:0,locked:!1}}},{id:9,name:"Dragons' Crown",description:"Prior to the wars that ravaged the realm, dragons preferred to steer well clear of the affairs of the other races, instead inhabiting strategic positions among mountain peaks to watch over the land. Princpal among these positions is the Dragons' Crown, a massive citadel that plays host to thousands of dragons from around the world. With the relentless abuse of magic across the planet placing their lofty strongholds in danger, the denizens of the Dragons' Crown finally rouse from their self-imposed exile and take the fight directly to those who seek to do them harm.",minLevel:81,maxLevel:90,enemyList:["Baby Dragon","Green Dragon","Black Dragon","Red Dragon","Fire Dragon","Frost Dragon","Thunder Dragon"],eliteList:["Celestial Dragon","Rune-Bound Dragon"],boss:{name:"The Chromatic Broodmother",level:90,health:12600,maxHealth:12600,mainStat:840,bossFlag:!0,weapon:{name:"Breath of the Broodmother",description:"Dragons don't need no stinking weapons!",level:90,quality:O.Legendary,durability:495,itemType:H.Weapon,w_damageType:U.Ranged,w_speed:2.6,w_minDamage:360,w_maxDamage:428,w_dps:151.54,w_debuff:new F("Cauterize",w.Drain,x.Drain,20,40),locked:!1},armour:{name:"Armour-Plated Scales",description:"Tailored to fit a dragon, of course.",level:90,quality:O.Legendary,durability:495,itemType:H.Armour,a_flatMeleeBlock:90,a_flatRangeBlock:90,a_flatMagicBlock:90,a_flatMeleeWeak:0,a_flatRangeWeak:0,a_flatMagicWeak:0,locked:!1}}},{id:10,name:"Ley Line Research Facility",description:"With the relentless advancement of the magical arts, centres like the Ley Line Research Facility have risen across the globe over the years, where magi work around the clock to push the boundaries of magic for military purposes. This facility, as a direct result of your unwitting destruction of their most prized artifact and research material, has had to work twice as hard to make new discoveries, some of which now patrol the halls, neglected but no less functional from their abandonment.",minLevel:91,maxLevel:100,enemyList:["Arcane Serpent","Ley Line Tapper","Mana-Bound Golem","Imbued Construct","Corrupted Researcher","Void Terror","Mana Eel"],eliteList:["Runic Giant","Senior Researcher"],boss:{name:"Grand Archsage",level:100,health:15200,maxHealth:15200,mainStat:1024,bossFlag:!0,weapon:{name:"Zenith, the Ley Convergence",description:"Come together and join hands.",level:100,quality:O.Legendary,durability:545,itemType:H.Weapon,w_damageType:U.Magic,w_speed:2.1,w_minDamage:332,w_maxDamage:393,w_dps:172.62,w_debuff:new F("Power Surge",w.Paralysis,x.Paralysis,20,40),locked:!1},armour:{name:"Crackling Robes",description:"Making static shocks a permanent problem.",level:100,quality:O.Legendary,durability:545,itemType:H.Armour,a_flatMeleeBlock:25,a_flatRangeBlock:0,a_flatMagicBlock:125,a_flatMeleeWeak:0,a_flatRangeWeak:100,a_flatMagicWeak:0,locked:!1}}},{id:11,name:"The Smouldering Heart",description:"Set deep beneath the Pillar of Ash, the intense magma currents and searing atmosphere of this subterranean complex serve as a power source for the tower above. In true Ashen style, most of the elementals and hardy creatures of the caverns have been bound to the will of the Ash, and their unbridled power and otherworldly appearance has proven to be a most effective deterrent against those who would attempt to undermine the Ashen's ultimate quest for destruction.",minLevel:101,maxLevel:110,enemyList:["Fire Elemental","Bubbling Magma Globule","Lava Serpent","Earthen Crusher","Ashen Fireweaver","Unbound Firestorm","Molten Giant"],eliteList:["Ashen Subjugator","Searing Leviathan"],boss:{name:"Magma Wyrm",level:110,health:18e3,maxHealth:18e3,mainStat:1200,bossFlag:!0,weapon:{name:"Endless Fireball Stream",description:"It has to end eventually, right?",level:110,quality:O.Legendary,durability:595,itemType:H.Weapon,w_damageType:U.Magic,w_speed:1.6,w_minDamage:292,w_maxDamage:343,w_dps:198.44,w_debuff:new F("Cauterize",w.Drain,x.Drain,20,40),locked:!1},armour:{name:"Flamebearing Scales",description:"Melting the enemy's offense is the best defence.",level:110,quality:O.Legendary,durability:595,itemType:H.Armour,a_flatMeleeBlock:110,a_flatRangeBlock:110,a_flatMagicBlock:110,a_flatMeleeWeak:0,a_flatRangeWeak:0,a_flatMagicWeak:0,locked:!1}}},{id:12,name:"The Pillar of Ash",description:"Having learned their lesson the first time around, the Ash Cult decided to build their colossal tower and base of operations on less volatile ground. The tower itself is constantly being built ever skyward, in the hopes that a significant sacrifice at its very peak will be enough to pierce the heavens, finally awakening their lord from his slumber and bolstering their efforts to cleanse the land of all those who have corrupted it.",minLevel:111,maxLevel:120,enemyList:["Ashen Slave","Ashen Runeweaver","Ashen Hoplite","Ashen Archer","Ashen Warhound","Ashen Cleric","Ashen Guard","Ashen Scryer"],eliteList:["Ashen Houndmaster","Ashen Slavedriver","Ashen High Priest"],boss:{name:"The High Ashlord",level:120,health:21100,maxHealth:21100,mainStat:1410,bossFlag:!0,weapon:{name:"Velorus, the Ashen Firestorm",description:"Every arrow leaves its' own pretty fiery trail.",level:120,quality:O.Legendary,durability:645,itemType:H.Weapon,w_damageType:U.Ranged,w_speed:2.1,w_minDamage:397,w_maxDamage:469,w_dps:206.19,w_debuff:new F("Ignited",w.Bleed,x.Bleed,20,40),locked:!1},armour:{name:"Earth-Infused Plate",description:"It's just ordinary plate with rocks attached.",level:120,quality:O.Legendary,durability:645,itemType:H.Armour,a_flatMeleeBlock:150,a_flatRangeBlock:70,a_flatMagicBlock:0,a_flatMeleeWeak:0,a_flatRangeWeak:0,a_flatMagicWeak:135,locked:!1}}},{id:13,name:"Reality's Edge",description:"The High Ashlord's defeat atop the Pillar was indeed the catalyst for <strong>something</strong>, but it was most definitely not what the cult expected. As their leader fell, a gigantic rift opened and tore through the tower, pulling its' remaining inhabitants into the void between dimensions and corrupting their very essence.",minLevel:121,maxLevel:130,enemyList:["Intangible Cultist","Prismatic Hound","Twisted Hoplite","Tiny Mage","Sentient Warglaive","Cloud of Space Dust","Dark Void"],eliteList:["Gigantic Storm Cloud","Infinite Drake","Protector of Reality"],boss:{name:"Shadow of the Ashlord",level:130,health:26e3,maxHealth:26e3,mainStat:1600,bossFlag:!0,weapon:{name:"Continuum Blade",description:"Sharp enough to cut through the fabric of existence.",level:130,quality:O.Legendary,durability:695,itemType:H.Weapon,w_damageType:U.Melee,w_speed:2.6,w_minDamage:560,w_maxDamage:624,w_dps:227.69,w_debuff:new F("Gear Phased Out",w.ArmourShred,x.ArmourShred,20,40),locked:!1},armour:{name:"Shimmering Cloak",description:"Woven in the heart of a dying universe.",level:130,quality:O.Legendary,durability:695,itemType:H.Armour,a_flatMeleeBlock:80,a_flatRangeBlock:0,a_flatMagicBlock:200,a_flatMeleeWeak:0,a_flatRangeWeak:180,a_flatMagicWeak:0,locked:!1}}},{id:14,name:"Beyond the Veil",description:"With no earthly means of returning to the real world, your only recourse now is to explore the multiverse as an almost god-like entity, spending the rest of eternity floating through the void.",minLevel:141,maxLevel:500,enemyList:["Dimensional Wisp","Ephemeral Presence","Drifting Apparition","Imperceptible Cultist","Drifting Drone","Nebula-like Gas Cloud","Supernova Remnant","Disembodied Voice"],eliteList:["Celestial Dragon","Fading Spirit of the Ashlord","Ancient Sentinel"],boss:{name:"The Reaper",level:666,mainStat:6666,health:666666,maxHealth:666666,bossFlag:!0,weapon:{name:"Death's Scythe",description:"You knew it was coming, didn't you...",level:666,durability:6666,quality:O.Legendary,itemType:H.Weapon,w_damageType:U.Melee,w_speed:3.3,w_minDamage:6666,w_maxDamage:16666,w_dps:3535.15,w_debuff:new F("The Final Countdown",w.Doom,x.Doom,5,10,"Do do dee dooo"),locked:!1},armour:{name:"Reaper's Shroud",description:"A near-impenetrable marvel of tailoring perfection.",level:666,durability:6666,quality:O.Legendary,itemType:H.Armour,a_flatMeleeBlock:500,a_flatRangeBlock:500,a_flatMagicBlock:500,a_flatMeleeWeak:0,a_flatRangeWeak:0,a_flatMagicWeak:0,locked:!1}}}];let Oi=(()=>{class t{getZoneList(){return vr(J0)}getSpecificZone(e){return J0.find(r=>r.id==e)}constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Jn=(()=>{class t{constructor(e,r){this.toaster=e,this._sanitizer=r}toast(e,r=4e3){this.toaster.show(e,"",{enableHtml:!0,timeOut:r,tapToDismiss:!1,closeButton:!0,progressBar:!0,disableTimeOut:"extendedTimeOut",positionClass:"toast-bottom-right",toastClass:"toast-card"})}}return t.\u0275fac=function(e){return new(e||t)(R(Df),R(Ua))},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class B{constructor(n,e,r,i,o=0){this.id=n,this.name=e,this.hint=r,this.flavour=i,this.earned=!1,this.progress=0,this.maxProgress=o}}const ew=[new B(1,"The Personal Touch","Give your character a name.","See that? That's you, right there."),new B(2,"God Complex","Name yourself after the game's developer, Psychemaster","How can you be me, when I'm me?"),new B(3,"We've Got You Covered","Have the game autosave 100 times.","Your data is safe in our hands.",100),new B(4,"Trust Issues","Use the manual save feature.","It never hurts to be sure."),new B(5,"Aversion to Clicking","Activate the autobattle function.","Do it for me, I'm too... tired. Yes... tired."),new B(6,"Keyboard Cat","Use keybindings to perform game actions 1,000 times.","Play it again, Sam!",1e3),new B(7,"Broken Mouse Convention","Enter 1,000 battles without using the autobattle function.","Your keyboard still works, right? There's always MouseKeys!",1e3),new B(8,"What Does This Button Do?","Reset your stats.","Well, that was underwhelming."),new B(9,"Baby Steps","Enter combat for the first time.","There's a first time for everything."),new B(10,"Skullcrusher Mountain","Defeat 1,000 enemies.","You know what this world could use? A skull fortress!",1e3),new B(11,"Like a Boss","Equip a weapon and piece of armour of Great quality or better.","Promote synergy!"),new B(12,"Jack of All Trades","Deal 1,000,000 damage with all three weapon types.","Master of none."),new B(13,"Coup de Grace","Deliver the finishing blow to a foe with a Burst Attack.","Sometimes you just need a personal touch."),new B(14,"Manual Labour","Deliver 1,000 Burst Attacks.","Taking a more direct approach to mindless violence.",1e3),new B(15,"Living on a Prayer","Win a fight with less than 5% of your total health remaining.","Take my hand and we'll make it, I swear!"),new B(16,"The Survivalist","Win a fight having entered it with less than 25% health.","Just don't start drinking your own urine."),new B(17,"Flawless Victory","Defeat an enemy without taking any damage.","I am invincible!"),new B(18,"MC Hammer Special","Defeat a boss without taking any damage.","Can't touch this, na na na na, na na, na na."),new B(19,"War of Attrition","Take at least 25 attacks in one battle.","I could do this ALL DAY!."),new B(20,"The Unstoppable Force","Defeat 1,000 consecutive enemies without dying or fleeing.","Glad there's no immovable objects here.",1e3),new B(21,"Alchemical Bombardment","Use potions to inflict debuffs on enemies 100 times.","Death from above!",100),new B(22,"Hoisted By My Own Petard","Inflict your own weapon's debuff on yourself.","So this is how it feels..."),new B(23,"Punching Mirrors","Die from an attack delivered to yourself.","Stop hitting yourself!"),new B(24,"Tarred With Their Own Brush","Cause an enemy to apply their own weapon's debuff to themselves.","Now you know how it feels!"),new B(25,"Assisted Suicide","Cause an enemy to deal the killing blow to itself.","I promise this won't hurt. Much."),new B(26,"Vampirism","End a fight with more health than you started it with.","Tonight I'm going to suck... your blood!"),new B(27,"Wherefore Art Thou, Romeo?","Die from a Damage over Time effect while your enemy is suffering from Sleep.","This, do I drink to thee..."),new B(28,"Divine Intervention","Use Divine Shield to survive a blow that would otherwise have killed you.","Praise be to RNGesus!"),new B(29,"Where We're Going, We Don't Need Weapons","Deal the killing blow to an enemy while your weapon is broken.","You know there were guys who used to fight EXCLUSIVELY with their fists?"),new B(30,"Where We're Going, We Don't Need Armour","Deal the killing blow to an enemy while your armour is broken.","Ever heard of 'distraction value'?"),new B(31,"Where We're Going, We Don't Need Gear","Deal the killing blow to an enemy while your weapon and armour are broken.","Any Scotsman will tell you nakedness is an incredible deterrent."),new B(32,"A Good Offense","Have 100 stat points allocated to Strength.","That's the best defence, you know!"),new B(33,"Pinpoint Accuracy","Have 100 stat points allocated to Dexterity.","He shoots... and hits the barn door this time!"),new B(34,"Bookish Type","Have 100 stat points allocated to Intelligence.","Curl up in an armchair with your favourite read - you deserve it."),new B(35,"Defence of the Ancients","Have 100 stat points allocated to Constitution.","Definitely not getting carried."),new B(36,"The Only Way is Up","Have a total of 200 stat points allocated.","Gravity can go ahead and bite me."),new B(37,"Unlimited Power!","Have a total of 50 skill points allocated.","OK, so 100 isn't unlimited, so what! It sounded cool, okay?"),new B(38,"Indecisive","Reset your stats a total of 100 times.","I used to be indecisive, but now I'm not so sure.",100),new B(39,"Rolling the Bones","Apply random debuffs to your weapons 100 times.","Maybe this one will be worth it?",100),new B(40,"Happy Customer","Spend 500 scrap in the store.","ALL HAIL THE ALMIGHTY STORE GOD!",500),new B(41,"Unimaginative","Promote an item to Great quality without providing a name.","Original badge, do not steal."),new B(42,"Lacking in Flavour","Promote an item to Great quality without providing flavour text.","Mmm... bland..."),new B(43,"Broken In","Make your first purchase from the store.","Now you'll never leave. Muahahahahahahahaha!!!"),new B(44,"The Trade Parade","Spend at least 10,000 seeds in the store.","Here's to the next 10k!",1e4),new B(45,"Sucker","Spend at least 100,000 seeds in the store.","If you're interested, I also have this rock that wards off tigers.",1e5),new B(46,"CAPITALISM!","Spend at least 1,000,000 seeds in the store.","With all the seeds you've provided, we hired some dancers to work out front. You're welcome.",1e6),new B(47,"The Trade Blockade","Reach level 50 without buying anything in the store.","You'll come crawling back soon enough!"),new B(48,"Rags to Riches","Gain 1,000,000 seeds from selling items.","What use is being a millionaire when society as we know it has collapsed?",1e6),new B(49,"Heavy Metal","Gain 1,000 scrap from converting items.","Violent headbanging not required.",1e3),new B(50,"Disposable Income","Throw away 1,000 items.","I have no use for these pathetic toys!",1e3),new B(51,"A Habit is Born","Initiate a repair of your equipment","Once you start, you just can't stop! Until it's fixed."),new B(52,"Blue in the Face","Have at least three Great quality items in your inventory.","That's from talking about it, by the way."),new B(53,"Tastes like Purple","Have at least three Amazing quality items in your inventory","I don't recommend trying to verify the taste of purple."),new B(54,"Full House","Fill your inventory to the maximum capacity.","This bag is really, REALLY heavy."),new B(55,"Weapon Hoarder","Have a full inventory of Great or better quality weapons.","You never run out of ways to murder things, do you?"),new B(56,"Armour Hoarder","Have a full inventory of Great or better quality armours.","Now if only you could wear them all at once..."),new B(57,"Potion Hoarder","Own one of every type of potion.","Concoctions for all occasions!"),new B(58,"Expensive Tastes","Fill your inventory with only Amazing quality items.","Your collection is worth HOW MUCH?!?!?"),new B(59,"Terminally Unimaginative","Reach level 50 without providing custom names or descriptions for anything.","Maybe it's best you leave everything at defaults after all..."),new B(60,"Good Enough for Me","Interrupt the repair function by entering combat while it is in progress.","That'll do just fine, back to work!"),new B(101,"Trolling the Troll","Defeat the Massive Cave Troll in the Whispering Cave.","Maybe if he'd read that book, he would have learned how to not die."),new B(102,"Calm Down Dear","Defeat Ashen Berserker in the Ash Cultist Outpost.","It's just a stab in the face, that's all. You won't feel a thing."),new B(103,"Time For A Shower","Defeat the Swamp Behemoth in the Dawn's Light Swamp.","With this level of filth, you'll see me again in about a week."),new B(104,"All Change, Please","Defeat the Ethereal Train Driver at The Final Stop.","This service will terminate here. Please check all personal belongings when leaving the train."),new B(105,"Outgrown","Defeat the Lumbering Spore Giant within the Echoing Passage.","I'm bigger than you and I'm higher in the food chain!"),new B(106,"Problem Solved","Defeat the Chief Engineer of The Swiftsteel Workshop.","May we all be blessed with everlasting prosperity."),new B(107,"Beyond Divinity","Defeat the Archbishop of the Hollow in the Weary Hollow Chapel.","Where is your god now?"),new B(108,"Surpassing the Master","Defeat the Bandit Mastermind at The Fallen Pillar.","Banditry isn't a good career path, 0/10, would not recommend."),new B(109,"Feeling Broody","Defeat the Chromatic Broodmother, atop the Dragons' Crown.","If you had several thousand kids, you would too."),new B(110,"Coming to a Point","Defeat the Grand Archsage in the Ley Line Research Facility.","All the magical power in the world still couldn't stop you from killing him."),new B(111,"Too Hot to Handle","Defeat the Magma Wyrm deep within The Smouldering Heart.","Burning things are notoriously hard to loot."),new B(112,"High and Mighty","Defeat the High Ashlord atop the Pillar of Ash.","Knocking him off his several hundred foot high horse."),new B(113,"Back to Reality","Defeat the Shadow of the Ashlord at Reality's Edge.","How many times do we have to teach you this lesson, old man?"),new B(114,"Don't Fear the Reaper","Defeat the Reaper beyond the Veil.","You've beaten Death itself, there is nothing left for you here.")];let Qt=(()=>{class t{constructor(e,r){this.injector=e,this.toastService=r,this.badges=ew}getBadge(e){return this.badges.find(r=>r.id==e)}getBadgeEarned(e){return this.injector.get(Ie).getPlayer().subscribe(i=>this.player=i),this.player.badges.find(i=>i.id==e)?.earned??!1}giveBadge(e){this.injector.get(Ie).getPlayer().subscribe(s=>this.player=s);let i=this.player.badges?.find(s=>s.id==e),o=this.getBadge(e);if(null!=o){if(null==i||null==i)this.player.badges.push({id:e,earned:!0});else{if(i.earned)return;i.earned=!0}this.toastService.toast("Badge earned: "+o.name)}}updateBadgeProgress(e,r){this.injector.get(Ie).getPlayer().subscribe(a=>this.player=a);let o=this.player.badges?.find(a=>a.id==e),s=this.getBadge(e);null!=s&&0!=s.maxProgress&&(null==o||null==o?this.player.badges.push({id:e,earned:s.maxProgress<=r,progress:r}):this.player.badges.find(a=>a.id==e).progress+=r,s.maxProgress<=r&&this.giveBadge(e))}clearBadgeProgress(e){this.injector.get(Ie).getPlayer().subscribe(s=>this.player=s);let i=this.player.badges?.find(s=>s.id==e);if(null==i||null==i)return;let o=this.getBadge(e);null!=o&&0!=o.maxProgress&&(i.progress=0)}}return t.\u0275fac=function(e){return new(e||t)(R(Ft),R(Jn))},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Ie=(()=>{class t{getPlayer(){return vr(this.player)}getEnemy(){return vr(this.player.enemy)}getBadgeList(){return vr(this.player.badges)}getCurrentZone(){return this.zoneService.getSpecificZone(this.player.currentZoneID)}updateInventoryPanel(){this.player.selectedTab===Me.Items&&(this.player.sortedInventory=this.player.inventory.sort(function(e,r){return 1e5*r.quality+1e4*r.itemType+r.level-(1e5*e.quality+1e4*e.itemType+e.level)}))}moveToZone(e){let r=this.zoneService.getSpecificZone(e);this.player.currentZoneID=r.id,this.toastService.toast("Moved to "+r.name+".")}addStat(e,r){let i=r;this.player.statPoints<r&&(i=this.player.statPoints);for(let o=i;o--;o>=0){switch(e){case 1:this.player.strength++,this.player.strengthPoints++,this.player.strengthPoints>=100&&this.badgeService.giveBadge(32);break;case 2:this.player.dexterity++,this.player.dexterityPoints++,this.player.dexterityPoints>=100&&this.badgeService.giveBadge(33);break;case 3:this.player.intelligence++,this.player.intelligencePoints++,this.player.intelligencePoints>=100&&this.badgeService.giveBadge(34);break;case 4:this.player.constitution++,this.player.constitutionPoints++,this.player.constitutionPoints>=100&&this.badgeService.giveBadge(35),this.player.maxHP+=15}this.player.statPoints-=1,this.player.strengthPoints+this.player.dexterityPoints+this.player.intelligencePoints+this.player.constitutionPoints>=200&&this.badgeService.giveBadge(36)}}resetStats(){let e=0,r=0;e=this.player.strengthPoints+this.player.dexterityPoints+this.player.intelligencePoints+this.player.constitutionPoints,r=Math.ceil(e/5),0!==r?this.player.scrap>=r?confirm("Do you wish to reset your stat allocation?")&&(this.player.strength-=this.player.strengthPoints,this.player.strengthPoints=0,this.player.dexterity-=this.player.dexterityPoints,this.player.dexterityPoints=0,this.player.intelligence-=this.player.intelligencePoints,this.player.intelligencePoints=0,this.player.constitution-=this.player.constitutionPoints,this.player.maxHP-=15*this.player.constitutionPoints,this.player.hp=Math.min(this.player.hp,this.player.maxHP),this.player.constitutionPoints=0,this.player.statPoints+=e,this.player.scrap-=r,this.toastService.toast("Stat points have been reset."),this.badgeService.giveBadge(8),this.badgeService.updateBadgeProgress(38,1)):this.toastService.toast("Not enough scrap to reset stat points - "+r+" required."):this.toastService.toast("No stat points have been assigned.")}renamePlayer(){let e=!1;for(;!e;){let r=prompt("Please enter your desired name.\n\n(Max 20 characters)");if(null===r||""===r.trim())return;r.length>20?alert("The text provided was too long, please try something shorter."):/[<>|]/g.test(r)?alert("The text provided contained invalid characters, please try something else."):(r=r.replace(/[<>|]/g,""),e=!0,this.player.name=r,this.toastService.toast("Name changed to "+r+"."),this.badgeService.giveBadge(1),"Psychemaster"==r&&this.badgeService.giveBadge(2),this.player.badge59_eligible=!1)}}constructor(e,r,i){this.zoneService=e,this.toastService=r,this.badgeService=i,this.player=Sf}}return t.\u0275fac=function(e){return new(e||t)(R(Oi),R(Jn),R(Qt))},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),_l=(()=>{class t{save(){localStorage.setItem("realmData",btoa(JSON.stringify(this.playerService.player))),this.toastService.toast("Game saved.",2e3)}load(){let e=JSON.parse(atob(localStorage.getItem("realmData")??""));null!=e.currentZone&&(e.currentZoneID=e.currentZone.id,e.currentZone=null),this.playerService.player=e,null==this.playerService.player.opt_autoBattle&&(this.playerService.player.opt_autoBattle=Sf.opt_autoBattle),null==this.playerService.player.opt_inventoryHandling&&(this.playerService.player.opt_inventoryHandling=Sf.opt_inventoryHandling),this.playerService.player.opt_autoBattle.auto_active=!1,this.toastService.toast("Game loaded.",2e3)}clear(){localStorage.removeItem("realmData")}constructor(e,r,i){this.playerService=e,this.toastService=r,this.badgeService=i}}return t.\u0275fac=function(e){return new(e||t)(R(Ie),R(Jn),R(Qt))},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Fi=(()=>{class t{RNG(e=0,r=1){return Math.floor(Math.random()*(r-e+1))+e}xpForLevel(e){return Math.floor(this.XP_INIT*Math.pow(this.XP_MULT,e-1))}statValue(e){return e<0?-this.statValue(e):(Math.sqrt(e/this.CONVERSION_FACTOR*8+1)-1)/2*this.CONVERSION_FACTOR}constructor(){this.XP_MULT=1.05,this.XP_INIT=128,this.XP_BASE=40,this.XP_RANGEMIN=3,this.XP_RANGEMAX=4,this.CONVERSION_FACTOR=3}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class EO{constructor(){this.bossFlag=!1}}class Cf{}const tw=["Shortsword","Dagger","Quickblade","Knife","Shiv","Rapier","Twinblades"],nw=["Gladius","Longblade","Hand-Axe","Machete","Lance","Brass Knuckles","Tonfa"],rw=["Morningstar","Cleaver","Broadsword","Warmaul","Halberd","Greatsword","Quarterstaff"],iw=["Shuriken","Throwing Knife","Throwing Axe","Mini-Crossbow","Darts","Kunai"],ow=["Repeater","Shortbow","Javelin","Slingshot","Musket","Crossbow"],sw=["Longbow","Composite Bow","Sling","Hand-Cannon","Arbalest","Bolt-Action Rifle"],aw=["Spellblade","Tome of Thunder","Quarterstaff","Scepter","Spark Orb"],lw=["Mageblade","Tome of Flame","Spell Focus","Battlestaff","Flame Orb"],cw=["War Staff","Tome of Frost","Grimoire","Crozier","Frost Orb"];class z{constructor(n,e,r){this.name=n,this.description=e,this.debuff=r}}const uw=[new z("Blinkstrike","They'll never know what hit 'em.",new F("Frenzy",w.Multistrike,x.Multistrike,15,70)),new z("Adder's Fang","Not to scale.",new F("Wound Poison",w.Bleed,x.Bleed,15,30)),new z("Torturer's Poker","Tell me, tell me everything...",new F("Domination",w.Confuse,x.Confuse,5,-1)),new z("Excalibur","Straight outta the lake.",new F("Holy Light",w.Drain,x.Drain,15,30)),new z("Sword Breaker","Serrated for your pleasure",new F("Break Weapon",w.Disarm,x.Disarm,15,-1)),new z("Ether-Soaked Cloth",'"Hey, does this rag smell like chloroform to you?"',new F("Anaesthesia",w.Sleep,x.Sleep,15,10))],dw=[new z("Edge of Depravity","I think it's just misunderstood...",new F("Ruthlessness",w.ArmourShred,x.ArmourShred,15,-1)),new z("Storm's Herald","Whatever you do, don't hold it above your head.",new F("Static Shock",w.Paralysis,x.Paralysis,15,25)),new z("Flametongue","Good for those long cold nights in camp.",new F("Cauterize",w.Drain,x.Drain,15,30)),new z("Zenith Blade","Glows brighter than the sun.",new F("Dazzle",w.Disarm,x.Disarm,15,-1)),new z("Gunblade","Bringing a sword to a gun fight.",new F("Staggered",w.Paralysis,x.Paralysis,15,25)),new z("Concrete Pillowcase","GO TO SLEEP DAMN YOU!",new F("Concussion",w.Sleep,x.Sleep,15,10))],fw=[new z("Planetary Edge","Rare, because planets aren't usually edgy.",new F("Hamstring",w.Slow,x.Slow,15,25)),new z("Death Sentence","The Grim Reaper has arrived.",new F("Dark Omen",w.Doom,x.Doom,5,7)),new z("The Ambassador","Diplomatic immunity!",new F("Diplomacy",w.ArmourShred,x.ArmourShred,15,-1)),new z("Excalibur II","Do it the same, but better.",new F("Holy Radiance",w.Drain,x.Drain,15,30)),new z("Mjolnir","They're not worthy, but you are.",new F("Concussion",w.Slow,x.Slow,15,25)),new z("Generic Melee Weapon","Relic of a bygone era.",new F("Generic Slow",w.Slow,x.Slow,15,25))],hw=[new z("Ace of Spades","Who throws a card? I mean come on, really? A CARD?",new F("Paper Cut",w.Bleed,x.Bleed,15,30)),new z("Tomahawk","Serving native tribes for centuries.",new F("Cripple",w.Slow,x.Slow,15,25)),new z("Throat Piercers","Also good for piercing... other parts.",new F("Piercing Throw",w.ArmourShred,x.ArmourShred,15,-1)),new z("Miniature Shurikens","Why settle for one when you can throw ten?",new F("Barrage",w.Multistrike,x.Multistrike,15,70)),new z("Tranquilizer Blowpipe","Be very, very quiet...",new F("Tranquilized",w.Sleep,x.Sleep,15,10)),new z("M60 Light Machine Gun","Modern warfare at his finest.",new F("Suppressive Fire",w.Paralysis,x.Paralysis,15,25))],pw=[new z("Death From Above","Or below, or far away, depends where you stand.",new F("Impending Doom",w.Doom,x.Doom,5,7)),new z("Tidehunter's Harpoon","They'll probably want it back.",new F("Bloodthirst",w.Drain,x.Drain,15,30)),new z("The Dreamer","Shoots rainbows and sunshine.",new F("Counting Sheep",w.Sleep,x.Sleep,15,10)),new z("Sagittarius","Making the stars align for you.",new F("Starfall",w.Multistrike,x.Multistrike,15,70)),new z("Generic Ranged Weapon","Relic of a bygone era.",new F("Generic Bleed",w.Bleed,x.Bleed,15,30)),new z("Gas Grenades","Hold your breath.",new F("Sleeping Gas",w.Sleep,x.Sleep,15,10))],gw=[new z("The Stakeholder","Raising the stakes, one body at a time.",new F("Unbalanced",w.Paralysis,x.Paralysis,15,20)),new z("Artemis Bow","Comes with a built-in harp, no strings attached.",new F("Charm",w.Confuse,x.Confuse,5,-1)),new z("Parting Shot","Something to remember them by.",new F("Ruthlessness",w.ArmourShred,x.ArmourShred,15,-1)),new z("Star Searcher","I wonder what we'll find today?",new F("Arm Shot",w.Disarm,x.Disarm,15,-1)),new z("C4-Laced Boomerang","Please don't come back...",new F("Shrapnel",w.Bleed,x.Bleed,15,30)),new z("Dwarven Hand Cannon","Dwarves had really large hands.",new F("Explosive Shot",w.Doom,x.Doom,5,7)),new z("Tear Gas Launcher","Illegal for use in Canada, caution advised.",new F("Incapacitated",w.Disarm,x.Disarm,15,-1))],mw=[new z("Thundercaller","A lightning rod, basically.",new F("Static Shock",w.Paralysis,x.Paralysis,15,20)),new z("Cosmic Fury","Contains the distilled rage of Dr. Tyson.",new F("Fury of the Cosmos",w.Multistrike,x.Multistrike,15,70)),new z("Spark-Touched Fetish","Rubber gloves are strongly advised.",new F("Confuse",w.Confuse,x.Confuse,5,-1)),new z('"The Theory of Everything"',"It works! At least, in theory...",new F("Expert Strategy",w.ArmourShred,x.ArmourShred,15,-1)),new z("Generic Magic Weapon","Relic of a bygone era.",new F("Generic Heal",w.Drain,x.Drain,15,30)),new z("Contagion","Spreading the love.",new F("Poison Cloud",w.Bleed,x.Bleed,15,30))],yw=[new z("Flamecore Battlestaff","Still warm to the touch.",new F("Slow Burn",w.Bleed,x.Bleed,15,30)),new z("Gift of the Cosmos","Just keeps on giving.",new F("Cripple",w.Slow,x.Slow,15,25)),new z("Emberleaf War Tome","Embers are usually bad for books, but not this one.",new F("Drain Life",w.Drain,x.Drain,15,30)),new z("Encyclopedia of the Realm","Knowledge is power.",new F("Find Weakness",w.ArmourShred,x.ArmourShred,15,-1)),new z('"How to Maim Your Dragon"',"Now featuring step by step guides!",new F("Wing Clip",w.Disarm,x.Disarm,15,-1)),new z("Hypnotist's Watch","Your eyelids are getting heavy...",new F("Hypnosis",w.Sleep,x.Sleep,15,10))],_w=[new z("The Tetranomicon","Written and bound by Tetradigm. Mostly incomprehensible.",new F("Flames of Tetradigm",w.Doom,x.Doom,5,7)),new z("Comet Chaser","Do not try chasing comets at home.",new F("Slow Burn",w.Bleed,x.Bleed,15,30)),new z("Absolute Zero","Not quite, but it's close!",new F("Bitter Cold",w.Paralysis,x.Paralysis,15,25)),new z("Judgement Staff","Bear the weight of your crimes!",new F("Judgement Bolt",w.Doom,x.Doom,5,7)),new z("Cock of the Infinite","I put on my robe and wizard hat.",new F("Penetration",w.ArmourShred,x.ArmourShred,15,-1)),new z('"A Brief History of Magic"',"1,600 pages of pure drivel.",new F("Intense Boredom",w.Sleep,x.Sleep,15,10))],vw=["Worthless","Damaged","Inept","Decayed","Flawed","Decrepit","Useless","Unimpressive"],bw=["Average","Unremarkable","","Passable","Basic","Simple","Usable","Adequate"],ww=["Pristine","Enhanced","Powerful","Well-Maintained","Superior","Exceptional","Upgraded","Impressive"],Dw=["Robe","Jerkin","Poncho","Overcoat","Tunic","Cuirass","Brigandine","Chestplate","Buckler","Deflector","Longcoat","Wrap","Parka","Tower Shield","Kite Shield","Legplates","Shorts","Tights","Hat","Beanie","Kilt","Trench Coat"];class Le{constructor(n,e){this.name=n,this.description=e}}const Sw=[new Le("The Blue Collar","If this won't stop attackers, the one wearing it will."),new Le("Xena's Breastplate","It was padded all along!"),new Le("Dual-Wielded Shields","But how am I meant to attack?"),new Le("Steel Cage","Especially effective against shark attacks."),new Le("Golden Helmet","Unrealistically heavy."),new Le("Iron Boots","Definitely not made for walking."),new Le("The Emperor's Clothes","Trust me, they're magnificent."),new Le("Ze Goggles","Zey do nothing!"),new Le("Zenith Shield","Glows brighter than the sun."),new Le("Generic Armour Name","Relic of a bygone era."),new Le("Aegis Shield","Don't stare directly at it."),new Le("Planetary Bulwark","You will not go to space today."),new Le("Chainmail Bikini","Covers all the important bits."),new Le("Cardboard Box","Snakes not included."),new Le("Golden Breastplate","Only really good for dying in style."),new Le("Turtle Shell","Nature's take on the humble shield."),new Le("Dragon Chainmail","Yes, dragon is a metal. It's not made of dragons."),new Le("Giant Armour Plate","It's bigger than you, and we all know bigger is better."),new Le("Top Hat and Monocle","Stop! Dapper time!"),new Le("Kevlar Vest","Stops just about anything that doesn't aim for the head."),new Le("Mechanical Exoskeleton","Humans are so much more effective when encased in metal."),new Le("Overly Elaborate Robe","Washing this thing will be your worst nightmare."),new Le("Runic Platemail","At least one dragon died in the making of this armour.")],Cw=["Tattered","Frayed","Threadbare","Cracked","Battleworn","Useless","Worthless"],Ew=["Average","Unremarkable","","Passable","Basic","Simple","Usable","Adequate"],Tw=["Polished","Well-Kept","Reinforced","Tempered","Heavy","Spotless","Exceptional"];class hn{constructor(n,e,r,i){this.id=n,this.name=e,this.description=r,i&&(this.debuffID=i)}}const kw=[new hn(1,"Healing Tincture","Restores 30% of your maximum health. Simple, but effective."),new hn(2,"Sulphuric Acid Vial","Should destroy the target's armour, but that would be unbalanced.",w.ArmourShred),new hn(3,"Concentrated Absinthe","So potent they'll be feeling double as well as seeing it.",w.Multistrike),new hn(4,"Sanguine Coagulation","Yes, this vial contains blood. Drink sparingly.",w.Drain),new hn(5,"Mass of Molasses","Flows surprisingly well in large quantities.",w.Slow),new hn(6,"Meaningless Murky Mix","What better way to perplex someone than to throw something that does nothing?",w.Confuse),new hn(7,"Pre-Shattered Vial","Throw that glass as hard as you can.",w.Bleed),new hn(8,"Lightning in a Bottle","How does it even stay in there?",w.Paralysis),new hn(9,"Dragon's Breath","You know they breathe fire, right?",w.Doom),new hn(10,"Butterfinger Brew","Causes an excessive amount of sweat to interfere with grip.",w.Disarm),new hn(11,"Chloroform Concoction","Usage of a rag is optional.",w.Sleep)],Mw=[{id:1,name:"Pickpocket",type:"Support",description:"Increases seed gains from combat by [power].",level:0,maxLevel:5,effectPowerString:["2%","4%","6%","8%","10%"],effectPower:[.02,.04,.06,.08,.1],ancestorID:void 0,descendantID:[2,3]},{id:2,name:"Cavity Search",type:"Support",description:"Grants a [power] chance to triple the seed gains from combat.",level:0,maxLevel:5,effectPowerString:["2%","4%","6%","8%","10%"],effectPower:[.02,.04,.06,.08,.1],ancestorID:1,descendantID:[4]},{id:3,name:"Bartering",type:"Support",description:"Reduces the seed prices in the Store by [power].",level:0,maxLevel:5,effectPowerString:["3%","6%","9%","12%","15%"],effectPower:[.03,.06,.09,.12,.15],ancestorID:1,descendantID:[5,13]},{id:4,name:"Pick Clean",type:"Support",description:"Grants a [power] chance to salvage a piece of scrap from a defeated enemy.",level:0,maxLevel:5,effectPowerString:["1%","2%","3%","4%","5%"],effectPower:[.01,.02,.03,.04,.05],ancestorID:2,descendantID:void 0},{id:5,name:"Haggling",type:"Support",description:"Increases seeds received from selling items by [power].",level:0,maxLevel:5,effectPowerString:["5%","10%","15%","20%","25%"],effectPower:[.05,.1,.15,.2,.25],ancestorID:3,descendantID:[6,7,8]},{id:6,name:"Five-Finger Discount",type:"Support",description:"Grants a [power] chance to steal seeds equal to your character level when attacking.",level:0,maxLevel:5,effectPowerString:["1%","2%","3%","4%","5%"],effectPower:[.01,.02,.03,.04,.05],ancestorID:5,descendantID:[9]},{id:7,name:"Patience Rewarded",type:"Support",description:"Grants a [power] chance to boost a random stat when levelling up.",level:0,maxLevel:5,effectPowerString:["2%","4%","6%","8%","10%"],effectPower:[.02,.04,.06,.08,.1],ancestorID:5,descendantID:[10,11,12]},{id:8,name:"Disassembly",type:"Support",description:"Guarantees an additional piece of scrap from destroying items.",level:0,maxLevel:1,effectPowerString:["1"],effectPower:[1],ancestorID:12,descendantID:void 0},{id:9,name:"Bountiful Bags",type:"Support",description:"Increases your inventory size by [power] slots.",level:0,maxLevel:5,effectPowerString:["4","8","12","16","20"],effectPower:[4,8,12,16,20],ancestorID:6,descendantID:void 0},{id:10,name:"Luck of the Draw",type:"Support",description:"Grants a [power] chance to gain an additional Stat Point when levelling up.",level:0,maxLevel:5,effectPowerString:["2%","4%","6%","8%","10%"],effectPower:[.02,.04,.06,.08,.1],ancestorID:7,descendantID:[14]},{id:11,name:"Fast Learner",type:"Support",description:"Gain [power] additional experience from combat.",level:0,maxLevel:5,effectPowerString:["5%","10%","15%","20%","25%"],effectPower:[.05,.1,.15,.2,.25],ancestorID:7,descendantID:void 0},{id:12,name:"Proper Care",type:"Support",description:"Grants a [power] chance per hit to negate any durability loss.",level:0,maxLevel:5,effectPowerString:["3%","6%","9%","12%","15%"],effectPower:[.03,.06,.09,.12,.15],ancestorID:7,descendantID:[15,16,8]},{id:13,name:"Master Tinkerer",type:"Support",description:"Each repair tick restores [power] more durability.",level:0,maxLevel:5,effectPowerString:["20%","40%","60%","80%","100%"],effectPower:[.2,.4,.6,.8,1],ancestorID:3,descendantID:[54]},{id:14,name:"Lucky Star",type:"Support",description:"Grants a [power] chance to gain an additional Skill Point when gaining a skill point from levelling up.",level:0,maxLevel:5,effectPowerString:["1%","2%","3%","4%","5%"],effectPower:[.01,.02,.03,.04,.05],ancestorID:10,descendantID:void 0},{id:15,name:"High Maintenance",type:"Support",description:"Grants a [power] chance to fully repair all equipped items when defeating an enemy.",level:0,maxLevel:5,effectPowerString:["2%","4%","6%","8%","10%"],effectPower:[.02,.04,.06,.08,.1],ancestorID:12,descendantID:void 0},{id:16,name:"Hanging By A Thread",type:"Support",description:"Broken weapons retain an additional [power] of their effectiveness.",level:0,maxLevel:5,effectPowerString:["10%","20%","30%","40%","50%"],effectPower:[.1,.2,.3,.4,.5],ancestorID:12,descendantID:void 0},{id:17,name:"Deadly Force",type:"Offense",description:"Increases damage dealt by weapons by [power].",level:0,maxLevel:5,effectPowerString:["3%","6%","9%","12%","15%"],effectPower:[.03,.06,.09,.12,.15],ancestorID:void 0,descendantID:[18,19]},{id:18,name:"Nimble Fingers",type:"Offense",description:"Increases attack speed by [power].",level:0,maxLevel:5,effectPowerString:["3%","6%","9%","12%","15%"],effectPower:[.03,.06,.09,.12,.15],ancestorID:17,descendantID:[20,24]},{id:19,name:"Keen Eye",type:"Offense",description:"Increases critical strike chance by [power]",level:0,maxLevel:5,effectPowerString:["3%","6%","9%","12%","15%"],effectPower:[.03,.06,.09,.12,.15],ancestorID:17,descendantID:[21,29]},{id:20,name:"Flurry",type:"Offense",description:"Grants a [power] chance to strike again when attacking for 50% damage.",level:0,maxLevel:5,effectPowerString:["2%","4%","6%","8%","10%"],effectPower:[.02,.04,.06,.08,.1],ancestorID:18,descendantID:[23,34]},{id:21,name:"Keener Eye",type:"Offense",description:"Critical strikes do [power] more damage.",level:0,maxLevel:5,effectPowerString:["10%","20%","30%","40%","50%"],effectPower:[.1,.2,.3,.4,.5],ancestorID:19,descendantID:[22]},{id:22,name:"Expose Weakness",type:"Offense",description:"Increases the chance to apply your weapon's debuff by [power].",level:0,maxLevel:5,effectPowerString:["2%","4%","6%","8%","10%"],effectPower:[.02,.04,.06,.08,.1],ancestorID:21,descendantID:[31,32]},{id:23,name:"Empowered Flurry",type:"Offense",description:"Increases the damage dealt by Flurry's secondary strike by [power].",level:0,maxLevel:5,effectPowerString:["5%","10%","15%","20%","25%"],effectPower:[.05,.1,.15,.2,.25],ancestorID:20,descendantID:[28]},{id:24,name:"Sneak Attack",type:"Offense",description:"Increases the chance of striking first when starting combat by [power].",level:0,maxLevel:5,effectPowerString:["20%","40%","60%","80%","100%"],effectPower:[.1,.2,.3,.4,.5],ancestorID:18,descendantID:void 0},{id:25,name:"Bloodlust",type:"Offense",description:"Critical strikes refresh the cooldown on your Burst Attack.",level:0,maxLevel:1,effectPowerString:[""],effectPower:[1],ancestorID:32,descendantID:void 0},{id:26,name:"Press the Advantage",type:"Offense",description:"Shortens the cooldown of Burst Attack by [power] when used against a debuffed foe.",level:0,maxLevel:5,effectPowerString:["1 second","2 seconds","3 seconds","4 seconds","5 seconds"],effectPower:[1,2,3,4,5],ancestorID:33,descendantID:void 0},{id:27,name:"Pandemic",type:"Offense",description:"Allows debuff timers to be refreshed by reapplying the debuff.",level:0,maxLevel:1,effectPowerString:[""],effectPower:[1],ancestorID:31,descendantID:void 0},{id:28,name:"Wild Swings",type:"Offense",description:"Modifies your Burst Attack to deal 50% of normal damage, but strike an additional [power].",level:0,maxLevel:5,effectPowerString:["time","2 times","3 times","4 times","5 times"],effectPower:[1,2,3,4,5],ancestorID:23,descendantID:void 0},{id:29,name:"Adrenaline Rush",type:"Offense",description:"The next three attacks after a critical strike deal [power] more damage.",level:0,maxLevel:5,effectPowerString:["5%","10%","15%","20%","25%"],effectPower:[.05,.1,.15,.2,.25],ancestorID:19,descendantID:[30]},{id:30,name:"Power Surge",type:"Offense",description:"Applies the Adrenaline Rush effect at the start of combat for [power].",level:0,maxLevel:5,effectPowerString:["1 strike","2 strikes","3 strikes","4 strikes","5 strikes"],effectPower:[1,2,3,4,5],ancestorID:29,descendantID:[33]},{id:31,name:"Deadly Momentum",type:"Offense",description:"Stores overkill damage (up to [power] of target's max HP) and deals it at the start of combat.",level:0,maxLevel:5,effectPowerString:["20%","40%","60%","80%","100%"],effectPower:[.2,.4,.6,.8,1],ancestorID:22,descendantID:[27]},{id:32,name:"Execute",type:"Offense",description:"Each hit has a [power] chance to instantly kill targets below 25% health.",level:0,maxLevel:5,effectPowerString:["5%","10%","15%","20%","25%"],effectPower:[.05,.1,.15,.2,.25],ancestorID:22,descendantID:[25]},{id:33,name:"Turn the Tables",type:"Offense",description:"Burst Attacks have a [power] increased chance to inflict debuffs.",level:0,maxLevel:5,effectPowerString:["20%","40%","60%","80%","100%"],effectPower:[.2,.4,.6,.8,1],ancestorID:30,descendantID:[26]},{id:34,name:"Overcharge",type:"Offense",description:"All attacks deal 35% additional damage and cost 1 extra durability.",level:0,maxLevel:1,effectPowerString:[""],effectPower:[1],ancestorID:20,descendantID:[35]},{id:35,name:"Undermine",type:"Offense",description:"Armour resistances are converted to vulnerabilities during Burst Attack.",level:0,maxLevel:1,effectPowerString:[""],effectPower:[1],ancestorID:34,descendantID:void 0},{id:36,name:"Armour Mastery",type:"Defense",description:"Increases armour bonuses by [power].",level:0,maxLevel:5,effectPowerString:["5%","10%","15%","20%","25%"],effectPower:[.05,.1,.15,.2,.25],ancestorID:void 0,descendantID:[37,38]},{id:37,name:"Ancestral Fortitude",type:"Defense",description:"Reduces weapon damage taken by [power].",level:0,maxLevel:5,effectPowerString:["3%","6%","9%","12%","15%"],effectPower:[.03,.06,.09,.12,.15],ancestorID:36,descendantID:[39,40]},{id:38,name:"Survival Instincts",type:"Defense",description:"Out of combat, regeneration ticks restore [power] more.",level:0,maxLevel:5,effectPowerString:["4%","8%","12%","16%","20%"],effectPower:[.04,.08,.12,.16,.2],ancestorID:36,descendantID:[50]},{id:39,name:"Shield Wall",type:"Defense",description:"Increases chance to block by [power].",level:0,maxLevel:5,effectPowerString:["1%","2%","3%","4%","5%"],effectPower:[.01,.02,.03,.04,.05],ancestorID:37,descendantID:[42,43]},{id:40,name:"Shield Crush",type:"Defense",description:"Grants a [power] chance on hit to ignore your foe's armour.",level:0,maxLevel:5,effectPowerString:["2%","4%","6%","8%","10%"],effectPower:[.02,.04,.06,.08,.1],ancestorID:37,descendantID:[45,46]},{id:41,name:"Victory Rush",type:"Defense",description:"Heals [power] of your maximum health upon defeating a foe.",level:0,maxLevel:5,effectPowerString:["5%","10%","15%","20%","25%"],effectPower:[.05,.1,.15,.2,.25],ancestorID:51,descendantID:void 0},{id:42,name:"Vengeance",type:"Defense",description:"Grants a [power] chance to deal 50% of damage taken from a hit to your foe.",level:0,maxLevel:5,effectPowerString:["2%","4%","6%","8%","10%"],effectPower:[.02,.04,.06,.08,.1],ancestorID:39,descendantID:void 0},{id:43,name:"Last Bastion",type:"Defense",description:"Reduces weapon damage taken by [power] when below 30% health.",level:0,maxLevel:5,effectPowerString:["10%","20%","30%","40%","50%"],effectPower:[.1,.2,.3,.4,.5],ancestorID:39,descendantID:[49]},{id:44,name:"Bladed Armour",type:"Defense",description:"Deals [power] of damage taken to your foe.",level:0,maxLevel:5,effectPowerString:["2%","4%","6%","8%","10%"],effectPower:[.02,.04,.06,.08,.1],ancestorID:46,descendantID:void 0},{id:45,name:"Hold The Line",type:"Defense",description:"Guarantees the next incoming attack will be blocked after a Shield Crush.",level:0,maxLevel:1,effectPowerString:[""],effectPower:[1],ancestorID:40,descendantID:[48,51]},{id:46,name:"Stand Your Ground",type:"Defense",description:"Removes any active debuffs on you after a Shield Crush.",level:0,maxLevel:1,effectPowerString:[""],effectPower:[1],ancestorID:40,descendantID:[44,47]},{id:47,name:"Artful Dodger",type:"Defense",description:"Refreshes the cooldown on Burst Attack after a successful dodge.",level:0,maxLevel:1,effectPowerString:[""],effectPower:[1],ancestorID:46,descendantID:void 0},{id:48,name:"Eye for an Eye",type:"Defense",description:"Deals 100% of blocked damage to your foe after a successful block.",level:0,maxLevel:1,effectPowerString:[""],effectPower:[1],ancestorID:45,descendantID:void 0},{id:49,name:"Divine Shield",type:"Defense",description:"Grants a [power] chance to negate all effects of an attack against you.",level:0,maxLevel:5,effectPowerString:["1%","2%","3%","4%","5%"],effectPower:[.01,.02,.03,.04,.05],ancestorID:43,descendantID:[52,53]},{id:50,name:"Second Wind",type:"Defense",description:"Restores [power] health when you would otherwise die to an attack, once per battle.",level:0,maxLevel:5,effectPowerString:["6%","12%","18%","24%","30%"],effectPower:[.06,.12,.18,.24,.3],ancestorID:38,descendantID:void 0},{id:51,name:"Riposte",type:"Defense",description:"A successful block has a [power] chance to Disarm the attacker.",level:0,maxLevel:5,effectPowerString:["5%","10%","15%","20%","25%"],effectPower:[.05,.1,.15,.2,.25],ancestorID:45,descendantID:void 0},{id:52,name:"Absorption Shield",type:"Defense",description:"Divine Shield now heals you for [power] of the damage that it negated.",level:0,maxLevel:5,effectPowerString:["20%","40%","60%","80%","100%"],effectPower:[.2,.4,.6,.8,1],ancestorID:49,descendantID:void 0},{id:53,name:"Reflective Shield",type:"Defense",description:"Divine Shield now reflects [power] of the damage it negated to your foe.",level:0,maxLevel:5,effectPowerString:["20%","40%","60%","80%","100%"],effectPower:[.2,.4,.6,.8,1],ancestorID:49,descendantID:void 0},{id:54,name:"Brewmaster",type:"Support",description:"Grants a [power] chance that your potions will not be consumed upon use.",level:0,maxLevel:5,effectPowerString:["1%","2%","3%","4%","5%"],effectPower:[.01,.02,.03,.04,.05],ancestorID:13,descendantID:[55,56,58]},{id:55,name:"Medic's Intuition",type:"Support",description:"Healing potions restore 10% more of your maximum health.",level:0,maxLevel:1,effectPowerString:[""],effectPower:[.1],ancestorID:54,descendantID:void 0},{id:56,name:"Saboteur's Intuition",type:"Support",description:"Debuffing potions now apply the superior version of their debuff.",level:0,maxLevel:1,effectPowerString:[""],effectPower:[1],ancestorID:54,descendantID:void 0},{id:57,name:"Reclaimed Wisdom",type:"Support",description:"Increases experience gain by up to 50% by using up the overflow pool.",level:0,maxLevel:1,effectPowerString:[""],effectPower:[1],ancestorID:void 0,descendantID:void 0},{id:58,name:"Alchemist's Intuition",type:"Support",description:"Increases the chance of gaining a potion at the end of combat by [power].",level:0,maxLevel:5,effectPowerString:["5%","10%","15%","20%","25%"],effectPower:[.05,.1,.15,.2,.25],ancestorID:54,descendantID:void 0}];let Vr=(()=>{class t{getSkillTree(){return vr(Mw)}getSkill(e){return Mw.find(r=>r.id==e)}getPlayerSkillLevel(e){this.playerService.getPlayer().subscribe(r=>this.player=r);try{return this.player.skills.filter(function(r){return r.id===e})[0].level}catch{return 0}}getPlayerSkillPotency(e){this.playerService.getPlayer().subscribe(r=>this.player=r);try{let r=this.getPlayerSkillLevel(e),i=this.getSkill(e).effectPower[r-1];return void 0===i?0:i}catch{return 0}}isVisible(e){if(this.getPlayerSkill(e).level>0)return!0;if(!e.ancestorID)return!0;{let r=this.getSkill(e.ancestorID);if(this.getPlayerSkill(r).level===r.maxLevel)return!0}return!1}lowerLevel(e){this.playerService.getPlayer().subscribe(i=>this.player=i);let r=this.getPlayerSkill(this.getSkill(e)).level;return 0!==r&&(1===r?(this.player.skills=this.player.skills.filter(function(i){return i.id!==e}),this.player.skillPoints+=1,!0):(this.getPlayerSkill(this.getSkill(e)).level-=1,this.player.skillPoints+=1,!0))}raiseLevel(e){if(this.playerService.getPlayer().subscribe(i=>this.player=i),0==this.player.skillPoints)return this.toastService.toast("No skill points available."),!1;let r=this.getPlayerSkill(this.getSkill(e)).level;return 0===r?(this.player.skills.push({id:e,level:1,potency:this.getSkill(e).effectPower[0]}),this.player.skillPoints-=1,this.getTotalPointsSpent()>=50&&this.badgeService.giveBadge(37),!0):r<this.getSkill(e).maxLevel&&(this.getPlayerSkill(this.getSkill(e)).level+=1,this.player.skillPoints-=1,this.getTotalPointsSpent()>=50&&this.badgeService.giveBadge(37),!0)}getPlayerSkill(e){let r;return this.playerService.getPlayer().subscribe(i=>this.player=i),r=this.player.skills.filter(function(i){return i.id===e.id}),r.length>0?r[0]:{id:e.id,level:0,potency:0}}getSkillDescription(e){let r=this.getSkill(e.id);return r.description.replace("[power]",r.effectPowerString[Math.max(e.level,1)-1])}getTotalPointsSpent(){var e=0;return this.player.skills.forEach(r=>{e+=r.level}),e}constructor(e,r,i){this.playerService=e,this.toastService=r,this.badgeService=i}}return t.\u0275fac=function(e){return new(e||t)(R(Ie),R(Jn),R(Qt))},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Li=(()=>{class t{constructor(e,r,i,o,s){this.playerService=e,this.util=r,this.toastService=i,this.skillService=o,this.badgeService=s,this.inventoryChanged=!1,this.itemColourCodes=["#808080","#ffffff","#33cc33","#4d94ff","#e600e6","#ffbf00"]}ngOnInit(){this.playerService.getPlayer().subscribe(e=>this.player=e)}startRepair(){this.playerService.getPlayer().subscribe(e=>this.player=e),this.toastService.toast("Repairing items..."),this.badgeService.giveBadge(51),this.player.gameState=De.Repair}equipItem(e){switch(this.playerService.getPlayer().subscribe(r=>this.player=r),e.itemType){case H.Weapon:this.player.inventory.push(this.player.weapon),this.player.weapon=e,this.player.inventory.splice(this.player.inventory.indexOf(e),1);break;case H.Armour:this.player.inventory.push(this.player.armour),this.player.armour=e,this.player.inventory.splice(this.player.inventory.indexOf(e),1);break;case H.Potion:this.player.inventory.push(this.player.potion),this.player.potion=e,this.player.inventory.splice(this.player.inventory.indexOf(e),1)}this.player.weapon.quality>=O.Great&&this.player.armour.quality>=O.Great&&this.badgeService.giveBadge(11),this.toastService.toast("Equipped "+this.getStyledName(e)+"."),this.inventoryChanged=!0}sellItem(e,r=!0){this.playerService.getPlayer().subscribe(o=>this.player=o);let i=0;return e.locked?(this.toastService.toast("Locked items cannot be sold."),0):(i=Math.floor(25*Math.pow(1.1,e.level)),i=Math.floor(i*(10+e.quality)/10),this.skillService.getPlayerSkillLevel(5)>0&&(i=Math.floor(i*(1+this.skillService.getPlayerSkillPotency(5)))),this.player.seeds+=i,this.badgeService.updateBadgeProgress(47,i),r&&this.toastService.toast("Sold "+this.getStyledName(e)+" for "+i+" seeds."),this.player.inventory.splice(this.player.inventory.indexOf(e),1),this.inventoryChanged=!0,i)}toggleLock(e){this.playerService.getPlayer().subscribe(r=>this.player=r),e.locked=!e.locked}scrapItem(e,r=!0){this.playerService.getPlayer().subscribe(o=>this.player=o);let i=0;if(e.locked)return this.toastService.toast("Locked items cannot be scrapped."),0;switch(e.quality){case O.Amazing:i=this.util.RNG(7,10);break;case O.Great:i=this.util.RNG(4,6);break;case O.Good:i=this.util.RNG(2,3);break;case O.Normal:i=this.util.RNG(1,2);break;case O.Poor:i=this.util.RNG(0,1)}return this.skillService.getPlayerSkillLevel(8)>0&&i++,this.player.scrap+=i,this.badgeService.updateBadgeProgress(48,i),r&&this.toastService.toast("Destroyed "+this.getStyledName(e)+" and received "+i+" scrap."),this.player.inventory.splice(this.player.inventory.indexOf(e),1),this.inventoryChanged=!0,i}discardItem(e,r=!0){this.playerService.getPlayer().subscribe(i=>this.player=i),e.locked?this.toastService.toast("Locked items cannot be discarded."):(r&&this.toastService.toast("Threw away "+this.getStyledName(e)+"."),this.badgeService.updateBadgeProgress(50,1),this.player.inventory.splice(this.player.inventory.indexOf(e),1),this.inventoryChanged=!0)}cleanInventory(){let e=0,r=0;this.playerService.getPlayer().subscribe(i=>this.player=i);for(let i=this.player.inventory.length;i>0;i-=1){let o=this.player.inventory[i-1];if(o.locked)continue;let s="";switch(o.quality){case O.Amazing:switch(o.itemType){case H.Weapon:s=this.player.opt_inventoryHandling.weapon_amazing;break;case H.Armour:s=this.player.opt_inventoryHandling.armour_amazing;break;case H.Potion:s="IGNORE"}break;case O.Great:switch(o.itemType){case H.Weapon:s=this.player.opt_inventoryHandling.weapon_great;break;case H.Armour:s=this.player.opt_inventoryHandling.armour_great;break;case H.Potion:s="IGNORE"}break;case O.Good:switch(o.itemType){case H.Weapon:s=this.player.opt_inventoryHandling.weapon_good;break;case H.Armour:s=this.player.opt_inventoryHandling.armour_good;break;case H.Potion:s="IGNORE"}break;case O.Normal:switch(o.itemType){case H.Weapon:s=this.player.opt_inventoryHandling.weapon_normal;break;case H.Armour:s=this.player.opt_inventoryHandling.armour_normal;break;case H.Potion:s="IGNORE"}break;case O.Poor:switch(o.itemType){case H.Weapon:s=this.player.opt_inventoryHandling.weapon_poor;break;case H.Armour:s=this.player.opt_inventoryHandling.armour_poor;break;case H.Potion:s="IGNORE"}}switch(s){case"SELL":e+=this.sellItem(o,!1);break;case"SCRAP":r+=this.scrapItem(o,!1);break;case"DISCARD":this.discardItem(o,!1)}}e+r>0&&this.toastService.toast("Automatic inventory cleaning activated, removing items and granting "+e+" seeds and "+r+" scrap."),this.inventoryChanged=!0}createWeapon(e){let r=new Cf,i=1,o=this.util.RNG(1,3);r.itemType=H.Weapon,r.durability=50+5*(e-1),r.level=e,r.locked=!1;let s=this.util.RNG(1,100);1===s?(i=1.3,r.quality=O.Amazing):s<=6?(i=1.2,r.quality=O.Great):s<=21?(i=1.1,r.quality=O.Good):s<=31?(i=.9,r.quality=O.Poor):(i=1,r.quality=O.Normal),r.w_damageType=this.util.RNG(1,3);let a=0,l=0,c=0;switch(o){case 1:r.w_speed=this.util.RNG(16,20)/10,a=this.util.RNG(8,10),l=2,c=.3;break;case 2:r.w_speed=this.util.RNG(21,25)/10,a=this.util.RNG(11,13),l=2.5,c=.4;break;case 3:r.w_speed=this.util.RNG(26,30)/10,a=this.util.RNG(14,16),l=3,c=.5}return r.w_minDamage=Math.floor((a+(e-1)*l-(1+c*(e-1)/2))*i),r.w_maxDamage=Math.ceil((a+(e-1)*l+(1+c*(e-1)/2))*i),r.w_dps=(r.w_minDamage+r.w_maxDamage)/2/r.w_speed,r=this.getWeaponName(o,r),r}getWeaponName(e,r){if(r.quality>=O.Great){let i;switch(e){case 1:switch(r.w_damageType){case U.Melee:i=uw[this.util.RNG(0,uw.length-1)],r.name=i.name,r.description=i.description,r.w_debuff=i.debuff;break;case U.Ranged:i=hw[this.util.RNG(0,hw.length-1)],r.name=i.name,r.description=i.description,r.w_debuff=i.debuff;break;case U.Magic:i=mw[this.util.RNG(0,mw.length-1)],r.name=i.name,r.description=i.description,r.w_debuff=i.debuff}break;case 2:switch(r.w_damageType){case U.Melee:i=dw[this.util.RNG(0,dw.length-1)],r.name=i.name,r.description=i.description,r.w_debuff=i.debuff;break;case U.Ranged:i=pw[this.util.RNG(0,pw.length-1)],r.name=i.name,r.description=i.description,r.w_debuff=i.debuff;break;case U.Magic:i=yw[this.util.RNG(0,yw.length-1)],r.name=i.name,r.description=i.description,r.w_debuff=i.debuff}break;case 3:switch(r.w_damageType){case U.Melee:i=fw[this.util.RNG(0,fw.length-1)],r.name=i.name,r.description=i.description,r.w_debuff=i.debuff;break;case U.Ranged:i=gw[this.util.RNG(0,gw.length-1)],r.name=i.name,r.description=i.description,r.w_debuff=i.debuff;break;case U.Magic:i=_w[this.util.RNG(0,_w.length-1)],r.name=i.name,r.description=i.description,r.w_debuff=i.debuff}}}else{let i="";switch(r.quality){case O.Good:i=ww[this.util.RNG(0,ww.length-1)];break;case O.Normal:i=bw[this.util.RNG(0,bw.length-1)];break;case O.Poor:i=vw[this.util.RNG(0,vw.length-1)]}switch(e){case 1:switch(r.w_damageType){case U.Melee:i+=" ",i+=tw[this.util.RNG(0,tw.length-1)];break;case U.Ranged:i+=" ",i+=iw[this.util.RNG(0,iw.length-1)];break;case U.Magic:i+=" ",i+=aw[this.util.RNG(0,aw.length-1)]}break;case 2:switch(r.w_damageType){case U.Melee:i+=" ",i+=nw[this.util.RNG(0,nw.length-1)];break;case U.Ranged:i+=" ",i+=ow[this.util.RNG(0,ow.length-1)];break;case U.Magic:i+=" ",i+=lw[this.util.RNG(0,lw.length-1)]}break;case 3:switch(r.w_damageType){case U.Melee:i+=" ",i+=rw[this.util.RNG(0,rw.length-1)];break;case U.Ranged:i+=" ",i+=sw[this.util.RNG(0,sw.length-1)];break;case U.Magic:i+=" ",i+=cw[this.util.RNG(0,cw.length-1)]}}r.name=i.trim(),r.quality===O.Good&&(r.w_debuff=yr[this.util.RNG(0,yr.length-1)])}return r}createArmour(e){let r=new Cf,i=0,o=0,s=0,a=0;r.itemType=H.Armour,r.durability=50+5*(e-1),r.level=e,r.a_flatMeleeBlock=0,r.a_flatMeleeWeak=0,r.a_flatRangeBlock=0,r.a_flatRangeWeak=0,r.a_flatMagicBlock=0,r.a_flatMagicWeak=0,r.locked=!1;let l=this.util.RNG(1,100);1===l?(r.quality=O.Amazing,i=3,s=3,a=0):l<=6?(r.quality=O.Great,i=2,s=2,a=0):l<=21?(r.quality=O.Good,i=1,o=-1,s=2,a=1):l<=31?(r.quality=O.Poor,i=0,o=1,s=1,a=2):(r.quality=O.Normal,i=1,s=1,a=1);let c=[1,2,3];for(let h=0;h<s;h+=1){let p=c[this.util.RNG(0,c.length-1)],m=1+Math.floor(this.util.RNG(Math.floor(e/2),e)+i);switch(p){case U.Melee:r.a_flatMeleeBlock=m;break;case U.Ranged:r.a_flatRangeBlock=m;break;case U.Magic:r.a_flatMagicBlock=m}c.splice(c.indexOf(p),1)}for(let h=0;h<a;h+=1){let p=c[this.util.RNG(0,c.length-1)],m=1+Math.floor(this.util.RNG(Math.floor(e/2),e)+i+o);switch(p){case U.Melee:r.a_flatMeleeWeak=m;break;case U.Ranged:r.a_flatRangeWeak=m;break;case U.Magic:r.a_flatMagicWeak=m}c.splice(c.indexOf(p),1)}return r=this.getArmourName(r),r}getArmourName(e){if(e.quality>=O.Great){let r=Sw[this.util.RNG(0,Sw.length-1)];e.name=r.name,e.description=r.description}else{let r="";switch(e.quality){case O.Good:r=Tw[this.util.RNG(0,Tw.length-1)];break;case O.Normal:r=Ew[this.util.RNG(0,Ew.length-1)];break;case O.Poor:r=Cw[this.util.RNG(0,Cw.length-1)]}r+=" ",r+=Dw[this.util.RNG(0,Dw.length-1)],e.name=r.trim()}return e}createPotion(e){let r=new Cf,o=kw.find(s=>s.debuffID==e);return r.level=0,r.durability=0,r.locked=!0,r.quality=O.Normal,r.itemType=H.Potion,r.p_type=fn.Healing,e&&(r.p_type=fn.Debuff,r.p_debuff=yr[e-1]),r.name=o.name,r.description=o.description,r.p_count=10,r}getStyledName(e){return"<span class='q"+e.quality+"'>"+e.name+"</span>"}badgeChecks(){if(this.playerService.getPlayer().subscribe(c=>this.player=c),!this.inventoryChanged)return;let i=0,o=0,s=0,a=0,l=0;for(let c=0;c<this.player.inventory.length;c++){let h=this.player.inventory[c];if(h.quality==O.Great)switch(o++,h.itemType){case H.Weapon:a++;break;case H.Armour:l++}else if(h.quality==O.Amazing)switch(s++,h.itemType){case H.Weapon:a++;break;case H.Armour:l++}else h.itemType!=H.Weapon&&(h.itemType!=H.Armour&&(h.itemType==H.Potion&&i++))}o>=3&&this.badgeService.giveBadge(52),s>=3&&this.badgeService.giveBadge(53),this.player.inventory.length==this.player.maxInventory&&this.badgeService.giveBadge(54),a==this.player.maxInventory&&this.badgeService.giveBadge(56),l==this.player.maxInventory&&this.badgeService.giveBadge(57),i==kw.length&&this.badgeService.giveBadge(57),s==this.player.maxInventory&&this.badgeService.giveBadge(58),this.inventoryChanged=!1}}return t.\u0275fac=function(e){return new(e||t)(R(Ie),R(Fi),R(Jn),R(Vr),R(Qt))},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Ef=(()=>{class t{constructor(e){this._sanitizer=e,this.logEntries=[]}getCombatLog(){return vr(this.logEntries)}addLine(e){this.logEntries.push(e)}showLine(e){return this._sanitizer.bypassSecurityTrustHtml(e)}clearLog(){this.logEntries.length=0}}return t.\u0275fac=function(e){return new(e||t)(R(Ua))},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Jo=(()=>{class t{constructor(e,r,i,o,s,a,l,c,h){this.playerService=e,this.util=r,this.inventoryService=i,this.toastService=o,this.skillService=s,this.log=a,this.gameService=l,this.zoneService=c,this.badgeService=h}enterCombat(e=!1,r=!1){this.playerService.getPlayer().subscribe(i=>this.player=i),this.playerService.getEnemy().subscribe(i=>this.enemy=i),this.log.clearLog(),this.player.cb_canLoot=!0,this.player.gameState!==De.Combat&&(r&&this.badgeService.updateBadgeProgress(7,1),this.badgeService.giveBadge(9),this.player.cb_untouched=!0,this.player.gameState==De.Repair&&this.badgeService.giveBadge(60),this.player.cb_adrenaline=this.skillService.getPlayerSkillLevel(30),this.player.cb_adrenaline>0&&this.log.addLine("<strong>Power Surge</strong> activates, granting the Adrenaline Rush effect for "+this.player.cb_adrenaline+" attacks!"),!e&&this.util.RNG(1,100)<=this.player.eliteChance?(this.enemy=this.createEnemy(!0,e),this.player.eliteChance=0):(this.enemy=this.createEnemy(!1,e),e&&(this.player.cb_canLoot=!1)),this.player.enemy=this.enemy,this.player.gameState=De.Combat,this.player.cb_startingHP=this.player.hp,this.player.cb_turns=0,this.util.RNG(1,10)<=5+this.skillService.getPlayerSkillLevel(24)?(this.player.combat_playerTimer=window.setTimeout(()=>this.playerAttack(),100),this.player.combat_enemyTimer=window.setTimeout(()=>this.enemyAttack(),1100)):(this.player.combat_enemyTimer=window.setTimeout(()=>this.enemyAttack(),100),this.player.combat_playerTimer=window.setTimeout(()=>this.playerAttack(),1100)))}playerAttack(e=!1){this.playerService.getPlayer().subscribe(o=>this.player=o),this.playerService.getEnemy().subscribe(o=>this.enemy=o);let r=!!this.player.debuff,i=!!this.enemy.debuff;if(this.player.gameState===De.Combat){if(!r||this.player.debuff.type!==w.Sleep){if(r&&this.player.debuff.type===w.Paralysis&&this.util.RNG(1,100)<=this.player.debuff.potency)this.log.addLine("<strong>"+this.player.debuff.name+"</strong> prevented you from attacking.");else{if(this.enemy.health/this.enemy.maxHealth<.25&&this.util.RNG(1,20)<=this.skillService.getPlayerSkillLevel(32))return this.enemy.health=0,this.log.addLine("<strong>Execute</strong> activated, instantly dealing a killing blow."),void this.endCombat();this.skillService.getPlayerSkillLevel(31)>0&&this.player.cb_storedDamage>0&&(this.log.addLine("<strong>Deadly Momentum</strong> activates, dealing "+this.player.cb_storedDamage+" damage!"),this.enemy.health=Math.max(this.enemy.health-this.player.cb_storedDamage,0),this.player.cb_storedDamage=0,0===this.enemy.health&&this.endCombat());let o=this.util.RNG(this.player.weapon.w_minDamage,this.player.weapon.w_maxDamage);switch(this.player.weapon.w_damageType){case U.Melee:o+=.6*this.player.strength*this.player.weapon.w_speed/3;break;case U.Ranged:o+=.6*this.player.dexterity*this.player.weapon.w_speed/3;break;case U.Magic:o+=.6*this.player.intelligence*this.player.weapon.w_speed/3}o*=1+this.skillService.getPlayerSkillPotency(17);let s=300*(1+this.skillService.getPlayerSkillPotency(19));s+=100*this.util.statValue(this.player.dexterity);let a=!1;this.util.RNG(1,1e4)<=s&&(o*=1.5+this.skillService.getPlayerSkillPotency(21),a=!0),this.skillService.getPlayerSkillLevel(34)>0&&(o*=1.35),this.player.cb_adrenaline>0?(o*=1+this.skillService.getPlayerSkillPotency(29),this.player.cb_adrenaline--,0===this.player.cb_adrenaline&&this.log.addLine("<strong>Adrenaline Rush</strong> subsides.")):this.skillService.getPlayerSkillLevel(29)>0&&a&&(this.player.cb_adrenaline=3,this.log.addLine("- You feel an <strong>Adrenaline Rush</strong>!")),a&&this.skillService.getPlayerSkillLevel(25)>0&&(this.player.cb_specUsed=!1);let l=!0;if(this.player.weapon.durability<=0&&(l=!1,o*=.25+this.skillService.getPlayerSkillPotency(16)),r&&this.player.debuff.type==w.Disarm&&(l=!1,o*=.5),this.player.cb_wildSwing&&(o*=.5),this.player.cb_flurryActive&&(o*=.5+this.skillService.getPlayerSkillPotency(23)),r&&this.player.debuff.type==w.Confuse)o=Math.floor(o),this.player.hp=Math.max(this.player.hp-o,0),this.player.cb_untouched=!1,this.log.addLine("<strong>"+this.player.debuff.name+"</strong> causes you to attack yourself for "+o+" damage."),this.player.debuff=void 0,window.clearInterval(this.player.combat_playerDebuffInterval),this.player.combat_playerDebuffInterval=void 0,this.player.hp<=0&&this.badgeService.giveBadge(23),r=!1;else{switch(this.player.weapon.w_damageType){case U.Melee:(!this.enemy.debuff||this.enemy.debuff.type!==w.ArmourShred)&&this.enemy.armour.a_flatMeleeBlock>0&&(e&&this.skillService.getPlayerSkillLevel(35)>0?o+=this.enemy.armour.a_flatMeleeBlock:this.util.RNG(1,50)<=this.skillService.getPlayerSkillLevel(40)?(this.log.addLine("<strong>Shield Crush</strong> breached the enemy's defences!"),this.skillService.getPlayerSkillLevel(45)>0&&(this.player.cb_shieldCrush=!0,this.log.addLine("Preparing to <strong>Hold the Line</strong>!")),this.skillService.getPlayerSkillLevel(46)>0&&(this.player.debuff=void 0,this.log.addLine("<strong>Stand Your Ground</strong> cleansed your active debuff."))):o=Math.max(o-this.enemy.armour.a_flatMeleeBlock,0)),o+=this.enemy.armour.a_flatMeleeWeak;break;case U.Ranged:(!this.enemy.debuff||this.enemy.debuff.type!==w.ArmourShred)&&this.enemy.armour.a_flatRangeBlock>0&&(e&&this.skillService.getPlayerSkillLevel(35)>0?o+=this.enemy.armour.a_flatRangeBlock:this.util.RNG(1,50)<=this.skillService.getPlayerSkillLevel(40)?(this.log.addLine("<strong>Shield Crush</strong> breached the enemy's defences!"),this.skillService.getPlayerSkillLevel(45)>0&&(this.player.cb_shieldCrush=!0,this.log.addLine("Preparing to <strong>Hold the Line</strong>!")),this.skillService.getPlayerSkillLevel(46)>0&&(this.player.debuff=void 0,this.log.addLine("<strong>Stand Your Ground</strong> cleansed your active debuff."))):o=Math.max(o-this.enemy.armour.a_flatRangeBlock,0)),o+=this.enemy.armour.a_flatRangeWeak;break;case U.Magic:(!this.enemy.debuff||this.enemy.debuff.type!==w.ArmourShred)&&this.enemy.armour.a_flatMagicBlock>0&&(e&&this.skillService.getPlayerSkillLevel(35)>0?o+=this.enemy.armour.a_flatMagicBlock:this.util.RNG(1,50)<=this.skillService.getPlayerSkillLevel(40)?(this.log.addLine("<strong>Shield Crush</strong> breached the enemy's defences!"),this.skillService.getPlayerSkillLevel(45)>0&&(this.player.cb_shieldCrush=!0,this.log.addLine("Preparing to <strong>Hold the Line</strong>!")),this.skillService.getPlayerSkillLevel(46)>0&&(this.player.debuff=void 0,this.log.addLine("<strong>Stand Your Ground</strong> cleansed your active debuff."))):o=Math.max(o-this.enemy.armour.a_flatMagicBlock,0)),o+=this.enemy.armour.a_flatMagicWeak}o=Math.floor(o);let p=o;if(o>this.enemy.health){p=this.enemy.health;let m=Math.floor(this.skillService.getPlayerSkillPotency(31)*this.enemy.maxHealth);this.player.cb_storedDamage=Math.min(m,o-this.enemy.health)}switch(this.enemy.health=Math.max(this.enemy.health-o,0),this.player.weapon?.w_damageType){case U.Melee:this.player.stat_meleeDamage+=p;break;case U.Magic:this.player.stat_magicDamage+=p;break;case U.Ranged:this.player.stat_rangeDamage+=p}if(this.player.stat_meleeDamage>=1e6&&this.player.stat_magicDamage>=1e6&&this.player.stat_rangeDamage>=1e6&&this.badgeService.giveBadge(12),r&&this.player.debuff.type===w.Disarm||this.player.weapon.durability<=0?this.log.addLine("You hit "+this.enemy.name+" with your fists for "+o+" damage"+(a?"! (Critical)":".")):(this.log.addLine("You hit "+this.enemy.name+" with your "+this.inventoryService.getStyledName(this.player.weapon)+" for <strong>"+o+"</strong> damage"+(a?"! (Critical)":".")),this.util.RNG(1,100)<=3*this.skillService.getPlayerSkillLevel(12)?this.log.addLine("<strong>Proper Care</strong> prevented weapon decay."):(this.player.weapon.durability-=1,this.player.weapon.durability-=this.skillService.getPlayerSkillLevel(34),this.player.weapon.durability<=0&&(this.player.weapon.durability=0,this.log.addLine("Your "+this.inventoryService.getStyledName(this.player.weapon)+" has broken!")))),i&&this.enemy.debuff.type===w.Multistrike){let m=Math.floor(o*this.enemy.debuff.potency/100);this.enemy.health=Math.max(this.enemy.health-m,0),this.log.addLine(this.enemy.debuff.name+" allows you to strike again for an additional "+m+" damage.")}i&&this.enemy.debuff.type===w.Sleep&&this.util.RNG(1,25)<=this.enemy.debuff.potency&&(this.enemy.debuff.duration=0)}let c=10+2*this.skillService.getPlayerSkillLevel(22);e&&(c+=20*this.skillService.getPlayerSkillLevel(33)),i&&(l=!1,this.skillService.getPlayerSkillLevel(27)>0&&this.player.weapon.p_debuff.type!==w.Confuse&&(l=!0)),this.player.weapon.w_debuff||(l=!1),this.player.weapon.durability<=0&&(l=!1),r&&this.player.debuff.type===w.Disarm&&(l=!1);let h=!1;l&&this.util.RNG(1,100)<=c&&(h=!0,r&&this.player.debuff.type===w.Confuse?(this.player.debuff=this.player.weapon.w_debuff,this.log.addLine("You suffer from "+this.player.debuff.name+"."),this.badgeService.giveBadge(22),this.player.combat_playerDebuffDuration=this.player.debuff.duration,this.player.combat_playerDebuffInterval=window.setInterval(()=>this.playerDebuffTicker(),1e3),this.player.debuff.type===w.Sleep&&(this.log.addLine("You fall asleep..."),window.clearTimeout(this.player.combat_playerTimer),this.player.combat_playerTimer=void 0)):(this.enemy.debuff=this.player.weapon.w_debuff,this.log.addLine(this.enemy.name+" suffers from "+this.enemy.debuff.name+"."),this.player.combat_enemyDebuffDuration=this.enemy.debuff.duration,this.player.combat_enemyDebuffInterval=window.setInterval(()=>this.enemyDebuffTicker(),1e3),this.enemy.debuff.type===w.Sleep&&(this.log.addLine(this.enemy.name+" falls asleep..."),window.clearTimeout(this.player.combat_enemyTimer),this.player.combat_enemyTimer=void 0))),r&&this.player.debuff.type===w.Confuse&&!h&&(this.player.debuff.duration=0),this.util.RNG(1,100)<=this.skillService.getPlayerSkillLevel(6)&&(this.player.seeds+=this.enemy.level,this.log.addLine("<strong>Five-Finger Discount</strong> allowed you to steal <strong>"+this.enemy.level+"</strong> seeds."))}if(this.player.hp>0&&this.enemy.health>0){this.player.cb_flurryActive?this.player.cb_flurryActive=!1:this.util.RNG(1,50)<=this.skillService.getPlayerSkillLevel(20)&&(this.player.cb_flurryActive=!0,this.log.addLine("<strong>Flurry</strong> activated for an additional strike!"),this.playerAttack(e)),window.clearTimeout(this.player.combat_playerTimer),this.player.combat_playerTimer=void 0;let o=1e3*this.player.weapon.w_speed*(1-this.skillService.getPlayerSkillPotency(18));r&&this.player.debuff.type===w.Slow&&(o*=1+this.player.debuff.potency/100),this.util.RNG(1,1e4)<=100*this.util.statValue(this.player.constitution)&&(this.player.hp=Math.min(this.player.hp+this.player.constitution,this.player.maxHP),this.log.addLine("Your Constitution restored <strong>"+this.player.constitution+"</strong> health.")),this.player.combat_playerTimer=window.setTimeout(()=>this.playerAttack(!1),Math.floor(o))}else this.endCombat(e)}}else window.clearTimeout(this.player.combat_playerTimer),this.player.combat_playerTimer=void 0}enemyAttack(){this.playerService.getPlayer().subscribe(i=>this.player=i),this.playerService.getEnemy().subscribe(i=>this.enemy=i);let e=!!this.player.debuff,r=!!this.enemy.debuff;if(this.player.gameState===De.Combat){if(r&&this.enemy.debuff.type===w.Paralysis&&this.util.RNG(1,100)<=this.enemy.debuff.potency)this.log.addLine("<strong>"+this.enemy.debuff.name+"</strong> prevented "+this.enemy.name+" from attacking.");else if(this.util.RNG(1,1e4)<=Math.floor(50*this.util.statValue(this.player.intelligence)))this.log.addLine("You dodged the incoming attack."),this.player.cb_specUsed&&this.skillService.getPlayerSkillLevel(47)>0&&(this.log.addLine("<strong>Artful Dodger</strong> refreshed your Burst Attack!"),window.clearTimeout(this.player.combat_specReset),this.player.combat_specReset=void 0,this.player.cb_specUsed=!1);else{let i=this.util.RNG(this.enemy.weapon.w_minDamage,this.enemy.weapon.w_maxDamage);i+=.6*this.enemy.mainStat*this.enemy.weapon.w_speed/3;let o=!0;if(r&&this.enemy.debuff.type===w.Confuse)i=Math.floor(i),this.enemy.health=Math.max(this.enemy.health-i,0),this.log.addLine("<strong>"+this.enemy.debuff.name+"</strong> caused "+this.enemy.name+" to attack itself for <strong>"+i+"</strong> damage."),this.enemy.debuff=void 0,window.clearInterval(this.player.combat_enemyDebuffInterval),this.player.combat_enemyDebuffInterval=void 0,r=!1,this.enemy.health<=0&&this.badgeService.giveBadge(25);else{switch(i*=1-this.skillService.getPlayerSkillPotency(37),this.player.hp/this.player.maxHP<=.3&&(i*=1-this.skillService.getPlayerSkillPotency(43)),r&&this.enemy.debuff.type===w.Disarm&&(i*=.5,o=!1),this.enemy.weapon.w_damageType){case U.Melee:if((!e||this.player.debuff.type!==w.ArmourShred)&&this.player.armour.a_flatMeleeBlock>0){let l=Math.floor(this.player.armour.a_flatMeleeBlock*this.skillService.getPlayerSkillPotency(36));i=Math.max(i-l,0)}i+=this.enemy.armour.a_flatMeleeWeak;break;case U.Ranged:if((!e||this.player.debuff.type!==w.ArmourShred)&&this.player.armour.a_flatRangeBlock>0){let l=Math.floor(this.player.armour.a_flatRangeBlock*this.skillService.getPlayerSkillPotency(36));i=Math.max(i-l,0)}i+=this.player.armour.a_flatRangeWeak;break;case U.Magic:if((!e||this.player.debuff.type!==w.ArmourShred)&&this.player.armour.a_flatMagicBlock>0){let l=Math.floor(this.player.armour.a_flatMagicBlock*this.skillService.getPlayerSkillPotency(36));i=Math.max(i-l,0)}i+=this.player.armour.a_flatMagicWeak}let s=!1,a=100*this.skillService.getPlayerSkillLevel(39)+Math.floor(100*this.util.statValue(this.player.strength));if((this.util.RNG(1,1e4)<=a||this.skillService.getPlayerSkillLevel(45)>0&&this.player.cb_shieldCrush)&&(s=!0,this.player.cb_shieldCrush=!1),i=Math.floor(i),this.skillService.getPlayerSkillLevel(49)>=this.util.RNG(1,50))this.log.addLine("Your <strong>Divine Shield</strong> activates, nullifying all effects of the attack."),this.player.hp<=i&&this.badgeService.giveBadge(28),this.skillService.getPlayerSkillLevel(52)>0&&(this.player.hp=Math.min(this.player.hp+i,this.player.maxHP),this.log.addLine("Your <strong>Absorption Shield</strong> healed you for <strong>"+i+"</strong>.")),this.skillService.getPlayerSkillLevel(53)>0&&(this.enemy.health=Math.max(this.enemy.health-i,0),this.log.addLine("Your <strong>Reflective Shield</strong> dealt <strong>"+i+"</strong> damage."));else{let l=0;if(s){let m=i;i=Math.floor(.75*i),l=Math.abs(i-m)}this.player.hp=Math.max(this.player.hp-i,0),this.player.cb_untouched=!1,0===this.player.hp&&this.skillService.getPlayerSkillLevel(50)>0&&this.player.cb_secondWind&&(this.player.cb_secondWind=!1,this.player.hp=Math.floor(this.player.maxHP*this.skillService.getPlayerSkillPotency(50)),this.log.addLine("<strong>Second Wind</strong> saved you from certain death, restoring <strong>"+this.player.hp+"</strong> health!")),this.player.cb_turns++,this.player.cb_turns>=25&&this.badgeService.giveBadge(19),this.log.addLine(r&&this.enemy.debuff.type===w.Disarm?this.enemy.name+" hits you with their fists for <strong>"+i+"</strong> damage"+(s?" (<strong>"+l+"</strong> blocked)":"."):this.enemy.name+" hits you with their "+this.inventoryService.getStyledName(this.enemy.weapon)+" for <strong>"+i+"</strong> damage"+(s?" (<strong>"+l+"</strong> blocked)":".")),s&&this.skillService.getPlayerSkillLevel(48)>0&&(this.enemy.health=Math.max(this.enemy.health-l,0),this.log.addLine("<strong>Eye for an Eye</strong> dealt <strong>"+l+"</strong> back to the attacker.")),s&&this.skillService.getPlayerSkillLevel(51)>=this.util.RNG(1,50)&&o&&(this.enemy.debuff=new F("Disarmed",w.Disarm,x.Disarm,10,-1),this.player.combat_enemyDebuffDuration=10,this.player.combat_enemyDebuffInterval=window.setInterval(()=>this.enemyDebuffTicker(),1e3),this.log.addLine("<strong>Riposte</strong> activated! "+this.enemy.name+" suffers from "+this.enemy.debuff.name+"."));let c=Math.floor(i*this.skillService.getPlayerSkillPotency(44));if(c>0&&(this.enemy.health=Math.max(this.enemy.health-c,0),this.log.addLine("<strong>Bladed Armour</strong> dealt <strong>"+c+"</strong> damage to the attacker.")),this.util.RNG(1,50)<=this.skillService.getPlayerSkillLevel(42)){let m=Math.floor(i/2);this.enemy.health=Math.max(this.enemy.health-m,0),this.log.addLine("Your <strong>Vengeance</strong> effect dealt "+m+" damage.")}if(e&&this.player.debuff.type===w.Multistrike){let m=Math.floor(i*this.player.debuff.potency/100);this.player.hp=Math.max(this.player.hp-m,0),this.log.addLine(" - <strong>"+this.player.debuff.name+"</strong> allows "+this.enemy.name+" to strike again for <strong>"+m+"</strong> damage.")}e&&this.player.debuff.type===w.Sleep&&this.util.RNG(1,25)<=this.player.debuff.potency&&(this.player.combat_playerDebuffDuration=0),this.player.armour.durability>0&&(this.util.RNG(1,100)<=3*this.skillService.getPlayerSkillLevel(12)?this.log.addLine("<strong>Proper Care</strong> prevented armour decay."):(this.player.armour.durability-=1,this.player.armour.durability<=0&&(this.player.armour.durability=0,this.log.addLine("Your "+this.inventoryService.getStyledName(this.player.armour)+" has broken!"))));let h=10;(!this.enemy.weapon.w_debuff||this.enemy.weapon.durability<=0||e)&&(o=!1);let p=!1;o&&this.util.RNG(1,100)<=h&&(p=!0,r&&this.enemy.debuff.type===w.Confuse?(this.enemy.debuff=this.enemy.weapon.w_debuff,this.log.addLine(this.enemy.name+" suffers from "+this.player.debuff.name+"."),this.badgeService.giveBadge(24),this.player.combat_enemyDebuffDuration=this.enemy.debuff.duration,this.player.combat_enemyDebuffInterval=window.setInterval(()=>this.enemyDebuffTicker(),1e3),this.enemy.debuff.type===w.Sleep&&(this.log.addLine(this.enemy.name+" falls asleep..."),window.clearTimeout(this.player.combat_enemyTimer),this.player.combat_enemyTimer=void 0)):(this.player.debuff=this.enemy.weapon.w_debuff,this.log.addLine("You suffer from "+this.player.debuff.name+"."),this.player.combat_playerDebuffDuration=this.player.debuff.duration,this.player.combat_playerDebuffInterval=window.setInterval(()=>this.playerDebuffTicker(),1e3),this.player.debuff.type===w.Sleep&&(this.log.addLine("You fall asleep..."),window.clearTimeout(this.player.combat_playerTimer),this.player.combat_playerTimer=void 0))),r&&this.enemy.debuff.type===w.Confuse&&(this.player.combat_enemyDebuffDuration=0)}}}if(this.player.opt_autoBattle.auto_active&&this.player.hp/this.player.maxHP<=this.player.opt_autoBattle.auto_fleeHealth){let i=!!this.player.debuff;(!i||i&&this.player.debuff.type!==w.Sleep&&this.player.debuff.type!==w.Confuse)&&this.fleeCombat()}if(this.player.hp>0&&this.enemy.health>0){let i=1;r&&this.enemy.debuff.type===w.Slow&&(i+=this.enemy.debuff.potency/100),this.player.combat_enemyTimer=window.setTimeout(()=>this.enemyAttack(),1e3*this.enemy.weapon.w_speed*i)}else this.endCombat()}else window.clearTimeout(this.player.combat_enemyTimer),this.player.combat_enemyTimer=void 0}fleeCombat(){this.playerService.getPlayer().subscribe(r=>this.player=r),this.playerService.getEnemy().subscribe(r=>this.enemy=r),!this.player.debuff||this.player.debuff.type!==w.Sleep&&this.player.debuff.type!==w.Confuse?(this.enemy=void 0,this.log.addLine("Fled from the battle."),window.clearTimeout(this.player.combat_playerTimer),window.clearTimeout(this.player.combat_enemyTimer),window.clearInterval(this.player.combat_playerDebuffInterval),window.clearInterval(this.player.combat_enemyDebuffInterval),window.clearTimeout(this.player.combat_specReset),this.player.combat_playerTimer=void 0,this.player.combat_enemyTimer=void 0,this.player.combat_playerDebuffInterval=void 0,this.player.combat_enemyDebuffInterval=void 0,this.player.combat_specReset=void 0,this.player.debuff=void 0,this.player.enemy=this.enemy,this.player.cb_adrenaline=0,this.player.cb_flurryActive=!1,this.player.cb_shieldCrush=!1,this.player.cb_storedDamage=0,this.player.cb_wildSwing=!1,this.player.cb_specUsed=!1,this.player.cb_secondWind=!0,this.player.cb_potionUsed=!1,this.player.cb_untouched=!1,this.player.gameState=De.Idle):this.toastService.toast("You cannot flee from combat while asleep or confused.")}burstAttack(){this.playerService.getPlayer().subscribe(i=>this.player=i),this.playerService.getEnemy().subscribe(i=>this.enemy=i);let r=!!this.enemy.debuff;if(this.player.gameState===De.Combat){if(this.player.cb_specUsed)return;if(this.enemy.health>0)if(this.player.debuff&&this.player.debuff.type===w.Sleep)this.toastService.toast("You cannot use Burst Attack while sleeping.");else{if(this.player.cb_specUsed=!0,this.badgeService.updateBadgeProgress(14,1),this.skillService.getPlayerSkillLevel(28)>0){this.log.addLine("<strong>Wild Swings</strong> activated."),this.player.cb_wildSwing=!0;for(let i=this.skillService.getPlayerSkillPotency(28);i>=0;i-=1)this.playerAttack(!0);this.player.cb_wildSwing&&(this.log.addLine("<strong>Wild Swings</strong> ended."),this.player.cb_wildSwing=!1)}else this.log.addLine("<strong>Burst Attack</strong> activated."),this.playerAttack(!0);this.player.combat_specReset=r?window.setTimeout(()=>this.player.cb_specUsed=!1,1e4-1e3*this.skillService.getPlayerSkillPotency(26)):window.setTimeout(()=>this.player.cb_specUsed=!1,1e4)}}}endCombat(e=!1){this.playerService.getPlayer().subscribe(s=>this.player=s),this.playerService.getEnemy().subscribe(s=>this.enemy=s);let r=!!this.player.debuff,i=!!this.enemy.debuff,o=!1;if(window.clearTimeout(this.player.combat_playerTimer),window.clearTimeout(this.player.combat_enemyTimer),window.clearInterval(this.player.combat_playerDebuffInterval),window.clearInterval(this.player.combat_enemyDebuffInterval),window.clearTimeout(this.player.combat_specReset),this.player.combat_playerTimer=void 0,this.player.combat_enemyTimer=void 0,this.player.combat_playerDebuffInterval=void 0,this.player.combat_enemyDebuffInterval=void 0,this.player.combat_specReset=void 0,r&&i&&this.player.debuff?.type==w.Bleed&&this.enemy.debuff.type==w.Sleep&&(o=!0),this.player.debuff=void 0,this.enemy.debuff=void 0,this.player.hp>0){if(this.log.addLine("You won!"),this.player.hp/this.player.maxHP<.05&&this.badgeService.giveBadge(15),this.player.cb_startingHP<this.player.maxHP/4&&this.badgeService.giveBadge(16),this.player.cb_untouched&&(this.badgeService.giveBadge(17),this.enemy?.bossFlag&&this.badgeService.giveBadge(18)),this.player.hp>this.player.cb_startingHP&&this.badgeService.giveBadge(26),e&&this.badgeService.giveBadge(13),this.player.cb_canLoot){this.player.inventory.length<this.player.maxInventory?(this.log.addLine("You got "+this.inventoryService.getStyledName(this.enemy.weapon)),this.player.inventory.push(this.enemy.weapon),this.inventoryService.inventoryChanged=!0):this.log.addLine("Couldn't carry "+this.inventoryService.getStyledName(this.enemy.weapon)),this.player.inventory.length<this.player.maxInventory?(this.log.addLine("You got "+this.inventoryService.getStyledName(this.enemy.armour)),this.player.inventory.push(this.enemy.armour),this.inventoryService.inventoryChanged=!0):this.log.addLine("Couldn't carry "+this.inventoryService.getStyledName(this.enemy.armour));let h=!1,p=!1;if(this.enemy.weapon.quality>=O.Good){let m=25*(this.enemy.weapon.quality-O.Normal)+5*this.skillService.getPlayerSkillLevel(58);this.util.RNG(1,100)<=m&&(h=!0)}if(this.enemy.armour.quality>=O.Good){let m=5*(this.enemy.armour.quality-O.Normal)+5*this.skillService.getPlayerSkillLevel(58);this.util.RNG(1,100)<=m&&(p=!0)}if(h){let m=this.inventoryService.createPotion(this.enemy.weapon.w_debuff.type),y=!1;this.player.potion&&this.player.potion.p_debuff&&this.player.potion.p_debuff.type==m.p_debuff.type&&(this.player.potion.p_count+=10,y=!0);let _=this.player.inventory.find(D=>D.itemType===H.Potion&&D.p_debuff===m.p_debuff);_&&(_.p_count+=10,y=!0),y?this.log.addLine("Your "+this.inventoryService.getStyledName(m)+" has been topped up."):this.player.inventory.length<this.player.maxInventory?(this.player.inventory.push(m),this.inventoryService.inventoryChanged=!0,this.log.addLine("You got "+this.inventoryService.getStyledName(m))):this.log.addLine("Couldn't get "+this.inventoryService.getStyledName(m))}if(p){let m=this.inventoryService.createPotion(),y=!1;this.player.potion&&!this.player.potion.p_debuff&&(this.player.potion.p_count+=10,y=!0);let _=this.player.inventory.find(D=>D.itemType===H.Potion&&D.p_debuff===m.p_debuff);_&&(_.p_count+=10,y=!0),y?this.log.addLine("Your "+this.inventoryService.getStyledName(m)+" has been topped up."):this.player.inventory.length<this.player.maxInventory?(this.player.inventory.push(m),this.inventoryService.inventoryChanged=!0,this.log.addLine("You got "+this.inventoryService.getStyledName(m))):this.log.addLine("Couldn't get "+this.inventoryService.getStyledName(m))}}let s=Math.floor(this.util.XP_BASE+this.util.RNG(this.util.XP_RANGEMIN*this.enemy.level,this.util.XP_RANGEMAX*this.enemy.level)),a=s;this.player.cb_canLoot||(s*=2),s=Math.floor(s*(1+this.skillService.getPlayerSkillPotency(11)));let l=Math.floor(s*(.02*this.player.badges.filter(h=>h.earned).length));if(this.log.addLine("Gained <strong>"+s+" (+"+l+")</strong> experience."),this.skillService.getPlayerSkillLevel(57)>0){let h=Math.floor(Math.min(this.player.storedXP,s/2));s+=h,this.player.storedXP-=h,this.log.addLine("Gained an additional <strong>"+h+"</strong> from Reclaimed Knowledge")}this.player.cb_canLoot||(a*=2),a=Math.floor(a*(1+this.skillService.getPlayerSkillPotency(1)));let c=Math.floor(a*(.02*this.player.badges.filter(h=>h.earned).length));if(this.util.RNG(1,50)<=this.skillService.getPlayerSkillLevel(2)&&(a*=3,this.log.addLine("Cavity Search tripled seed gain!")),this.util.RNG(1,50)<=this.skillService.getPlayerSkillLevel(4)&&(this.player.scrap+=1,this.log.addLine("Thorough Looting yielded an additional piece of scrap!")),this.log.addLine("Gained <strong>"+a+" (+"+c+")</strong> seeds."),this.enemy?.bossFlag){let h=this.player.maxZoneID,p=this.zoneService.getSpecificZone(this.player.currentZoneID);this.player.maxZoneID=Math.max(h,p.id+1),this.badgeService.giveBadge(100+h),this.log.addLine("<strong>"+p.name+" cleared!</strong>")}if(this.player.xp+=s,this.player.xp+=l,this.player.seeds+=a,this.player.seeds+=c,0==this.player.weapon?.durability&&this.badgeService.giveBadge(29),0==this.player.armour?.durability&&this.badgeService.giveBadge(30),0==this.player.weapon?.durability&&0==this.player.armour?.durability&&this.badgeService.giveBadge(31),this.player.xp>=this.player.maxXP&&this.gameService.levelUp(),this.util.RNG(1,50)<=this.skillService.getPlayerSkillLevel(15)&&(this.player.weapon.durability=50+5*(this.player.weapon.level-1),this.player.armour.durability=50+5*(this.player.armour.level-1),this.log.addLine("<strong>High Maintenance</strong> has repaired your equipment!")),this.skillService.getPlayerSkillLevel(41)>0){let h=Math.floor(this.skillService.getPlayerSkillPotency(41)*this.player.maxHP);this.player.hp=Math.min(this.player.maxHP,this.player.hp+h),this.log.addLine("<strong>Victory Rush</strong> restored "+h+" health!")}this.badgeService.updateBadgeProgress(10,1),this.badgeService.updateBadgeProgress(20,1)}else{this.log.addLine("You lost...");let s=Math.floor(this.player.xp/4);this.log.addLine("You lose <strong>"+s+"</strong> experience..."),this.player.xp-=s,this.badgeService.clearBadgeProgress(20),o&&this.badgeService.giveBadge(27)}this.enemy=void 0,this.player.enemy=this.enemy,this.player.cb_adrenaline=0,this.player.cb_flurryActive=!1,this.player.cb_shieldCrush=!1,this.player.cb_storedDamage=0,this.player.cb_wildSwing=!1,this.player.cb_specUsed=!1,this.player.cb_secondWind=!0,this.player.cb_potionUsed=!1,this.player.debuff=void 0,this.player.gameState=De.Idle,this.player.autoSave=!0}playerDebuffTicker(){if(this.playerService.getPlayer().subscribe(e=>this.player=e),this.playerService.getEnemy().subscribe(e=>this.enemy=e),this.player.gameState===De.Combat&&this.player.debuff&&this.player.combat_playerDebuffInterval){if(this.player.combat_playerDebuffDuration<=0){if(this.log.addLine("The effect of <strong>"+this.player.debuff.name+"</strong> fades..."),window.clearInterval(this.player.combat_playerDebuffInterval),this.player.combat_playerDebuffInterval=void 0,this.player.debuff.type===w.Sleep){this.log.addLine("You wake up!");let e=1e3*this.player.weapon.w_speed*(1-this.skillService.getPlayerSkillPotency(18));this.player.combat_playerTimer=window.setTimeout(()=>this.playerAttack(),e)}this.player.debuff=void 0}else switch(this.player.combat_playerDebuffDuration-=1,this.player.debuff.type){case w.Bleed:let e=Math.floor(this.util.RNG(this.enemy.weapon.w_minDamage,this.enemy.weapon.w_maxDamage)*this.player.debuff.potency/100);this.player.hp=Math.max(this.player.hp-e,0),this.log.addLine("You suffered "+e+" additional damage from "+this.player.debuff.name+".");break;case w.Drain:let r=Math.floor(this.util.RNG(this.enemy.weapon.w_minDamage,this.enemy.weapon.w_maxDamage)*this.player.debuff.potency/100);this.enemy.health=Math.min(this.enemy.health+r,this.enemy.maxHealth),this.log.addLine("The "+this.enemy.name+" restored "+r+" health from "+this.player.debuff.name+".");break;case w.Doom:if(0===this.player.combat_playerDebuffDuration)if(this.util.RNG(1,50)<this.player.debuff.potency)this.log.addLine(this.player.debuff.name+" triggers, instantly killing you."),this.player.cb_untouched=!1,this.player.hp=0;else{let i=Math.floor(this.util.RNG(this.enemy.weapon.w_minDamage,this.enemy.weapon.w_maxDamage)*this.player.debuff.potency/2);this.log.addLine(this.player.debuff.name+" triggers, dealing "+i+" damage to you."),this.player.cb_untouched=!1,this.player.hp=Math.max(this.player.hp-i,0)}}this.player.hp<=0&&this.endCombat()}}enemyDebuffTicker(){if(this.playerService.getPlayer().subscribe(e=>this.player=e),this.playerService.getEnemy().subscribe(e=>this.enemy=e),this.player.gameState===De.Combat&&this.enemy.debuff&&null!=this.player.combat_enemyDebuffDuration){if(this.player.combat_enemyDebuffDuration<=0)this.log.addLine("The effect of <strong>"+this.enemy.debuff.name+"</strong> fades..."),window.clearInterval(this.player.combat_enemyDebuffInterval),this.player.combat_enemyDebuffInterval=void 0,this.enemy.debuff.type===w.Sleep&&(this.log.addLine("The "+this.enemy.name+" wakes up!"),this.player.combat_enemyTimer=window.setTimeout(()=>this.enemyAttack(),1e3*this.enemy.weapon.w_speed)),this.enemy.debuff=void 0;else switch(this.player.combat_enemyDebuffDuration-=1,this.enemy.debuff.type){case w.Bleed:let e=Math.floor(this.util.RNG(this.player.weapon.w_minDamage,this.player.weapon.w_maxDamage)*this.enemy.debuff.potency/100);this.enemy.health=Math.max(this.enemy.health-e,0),this.log.addLine("The "+this.enemy.name+" suffered "+e+" additional damage from "+this.enemy.debuff.name+".");break;case w.Drain:let r=Math.floor(this.util.RNG(this.player.weapon.w_minDamage,this.player.weapon.w_maxDamage)*this.enemy.debuff.potency/100);this.player.hp=Math.min(this.player.hp+r,this.player.maxHP),this.log.addLine("You restored "+r+" health from "+this.enemy.debuff.name+".");break;case w.Doom:if(0===this.player.combat_enemyDebuffDuration)if(this.util.RNG(1,50)<this.enemy.debuff.potency)this.log.addLine(this.enemy.debuff.name+" triggers, instantly killing the "+this.enemy.name+"."),this.enemy.health=0;else{let i=Math.floor(this.util.RNG(this.player.weapon.w_minDamage,this.player.weapon.w_maxDamage)*this.enemy.debuff.potency/2);this.log.addLine(this.enemy.debuff.name+" triggers, dealing "+i+" damage to the "+this.enemy.name+"."),this.enemy.health=Math.max(this.enemy.health-i,0)}}this.enemy.health<=0&&this.endCombat()}}usePotion(){if(this.playerService.getPlayer().subscribe(e=>this.player=e),this.playerService.getEnemy().subscribe(e=>this.enemy=e),this.player.gameState===De.Combat){if(0==this.player.potion.p_count)return;let e=100-100*this.skillService.getPlayerSkillPotency(54);switch(this.player.potion.p_type){case fn.Healing:let r=.3+.1*this.skillService.getPlayerSkillLevel(55);console.log("Heal percent: "+r);let i=Math.floor(this.player.maxHP*r);console.log("Heal amount: "+i),this.player.hp=Math.min(this.player.hp+i,this.player.maxHP),this.log.addLine("Your <strong>"+this.player.potion.name+"</strong> healed you for "+i+"."),this.util.RNG(1,100)<=e?this.player.potion.p_count-=1:this.log.addLine("<strong>Brewmaster</strong> conserved a potion use!"),this.player.cb_potionUsed=!0;break;case fn.Debuff:let o=this.player.potion.p_debuff;this.skillService.getPlayerSkillLevel(56)>0&&(o=yl[this.player.potion.p_debuff.type-1]),this.enemy.debuff=o,this.badgeService.updateBadgeProgress(21,1),this.log.addLine("Your <strong>"+this.player.potion.name+"</strong> afflicted "+this.enemy.name+" with "+o.name+"."),this.player.combat_enemyDebuffDuration=this.enemy.debuff.duration,this.player.combat_enemyDebuffInterval=window.setInterval(()=>this.enemyDebuffTicker(),1e3),this.enemy.debuff.type===w.Sleep&&(this.log.addLine(this.enemy.name+" falls asleep..."),window.clearTimeout(this.player.combat_enemyTimer),this.player.combat_enemyTimer=void 0),this.util.RNG(1,100)<=e?this.player.potion.p_count-=1:this.log.addLine("<strong>Brewmaster</strong> conserved a potion use!"),this.player.cb_potionUsed=!0}}else this.toastService.toast("Potions cannot be used outside of combat.")}createEnemy(e=!1,r=!1){this.playerService.getPlayer().subscribe(a=>this.player=a),this.playerService.getEnemy().subscribe(a=>this.enemy=a);let i=new EO,o=this.zoneService.getSpecificZone(this.player.currentZoneID);if(r){let a=o.boss;return i.bossFlag=!0,i.armour=a.armour,i.weapon=a.weapon,i.health=a.health,i.maxHealth=a.maxHealth,i.level=a.level,i.mainStat=a.mainStat,i.name=a.name,i}let s=Math.min(this.player.level,o.maxLevel);if(i.maxHealth=this.util.RNG(80,100)+this.util.RNG(25*(s-1),30*(s-1)),i.mainStat=this.util.RNG(5,7)+this.util.RNG(s-1,1.5*(s-1)),i.level=s,e){i.name=o.eliteList[this.util.RNG(0,o.eliteList.length-1)];let a=.04*(s-1);i.maxHealth=Math.floor(i.maxHealth*a),i.mainStat=Math.floor(i.mainStat*a),i.health=i.maxHealth;do{i.weapon=this.inventoryService.createWeapon(s)}while(i.weapon.quality<O.Great);do{i.armour=this.inventoryService.createArmour(s)}while(i.armour.quality<O.Great)}else{i.name=o.enemyList[this.util.RNG(0,o.enemyList.length-1)];let a=.85+.03*(s-1);i.maxHealth=Math.floor(i.maxHealth*a),i.mainStat=Math.floor(i.mainStat*a),i.health=i.maxHealth;do{i.weapon=this.inventoryService.createWeapon(s)}while(i.weapon.quality>=O.Great);do{i.armour=this.inventoryService.createArmour(s)}while(i.armour.quality>=O.Great)}return i}ngOnInit(){this.playerService.getPlayer().subscribe(e=>this.player=e),this.playerService.getEnemy().subscribe(e=>this.enemy=e)}}return t.\u0275fac=function(e){return new(e||t)(R(Ie),R(Fi),R(Li),R(Jn),R(Vr),R(Ef),R(Tf),R(Oi),R(Qt))},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),vl=(()=>{class t{constructor(e,r,i,o,s,a){this.playerService=e,this.util=r,this.toastService=i,this.inventoryService=o,this.skillService=s,this.badgeService=a}ngOnInit(){this.playerService.getPlayer().subscribe(e=>this.player=e)}getSeedUpgradeCost(e){let r=Math.floor(150*Math.pow(1.06,e.level));if(r=Math.floor(r*(10+e.quality-2)/10),this.skillService.getPlayerSkillLevel(3)>0){let i=1-this.skillService.getPlayerSkillPotency(3);r=Math.floor(r*i)}return r}getPotionCost(){this.playerService.getPlayer().subscribe(r=>this.player=r);let e=Math.floor(300*Math.pow(1.06,this.player.level));if(this.skillService.getPlayerSkillLevel(3)>0){let r=1-this.skillService.getPlayerSkillPotency(3);e=Math.floor(e*r)}return e}getScrapUpgradeCost(e){return Math.pow(4,e.quality-1)}upgradeItemLevel(e){this.playerService.getPlayer().subscribe(i=>this.player=i);let r=this.getSeedUpgradeCost(e);if(this.player.seeds<r)this.toastService.toast("Not enough seeds.",2e3);else{switch(e.itemType){case H.Weapon:let i=(8+e.quality)/10;e.w_speed<=2?(e.w_minDamage=Math.floor(e.w_minDamage+1.7*i),e.w_maxDamage=Math.floor(e.w_maxDamage+2.3*i)):e.w_speed<=2.5?(e.w_minDamage=Math.floor(e.w_minDamage+2.1*i),e.w_maxDamage=Math.floor(e.w_maxDamage+2.9*i)):(e.w_minDamage=Math.floor(e.w_minDamage+2.5*i),e.w_maxDamage=Math.floor(e.w_maxDamage+3.5*i)),e.w_dps=(e.w_minDamage+e.w_maxDamage)/2/e.w_speed;break;case H.Armour:0!==e.a_flatMeleeBlock&&(e.a_flatMeleeBlock+=1),0!==e.a_flatRangeBlock&&(e.a_flatRangeBlock+=1),0!==e.a_flatMagicBlock&&(e.a_flatMagicBlock+=1),0!==e.a_flatMeleeWeak&&(e.a_flatMeleeWeak+=1),0!==e.a_flatRangeWeak&&(e.a_flatRangeWeak+=1),0!==e.a_flatMagicWeak&&(e.a_flatMagicWeak+=1);break;default:return void this.toastService.toast("This item cannot be upgraded.")}e.level+=1,this.player.seeds-=r,this.badgeService.giveBadge(43),this.badgeService.updateBadgeProgress(44,r),this.badgeService.updateBadgeProgress(45,r),this.badgeService.updateBadgeProgress(46,r),this.player.badge47_eligible=!1,this.toastService.toast(e.name+" has been upgraded to level "+e.level),this.playerService.updateInventoryPanel()}}upgradeItemQuality(e){this.playerService.getPlayer().subscribe(i=>this.player=i);let r=this.getScrapUpgradeCost(e);if(this.player.scrap<r)this.toastService.toast("Not enough scrap.",2e3);else switch(e.itemType){case H.Weapon:let i=Math.floor(e.w_minDamage/(10+e.quality-2)*10),o=Math.ceil(e.w_maxDamage/(10+e.quality-2)*10);e.quality===O.Normal&&(e.w_debuff=yr[this.util.RNG(0,yr.length-1)]),e.quality===O.Good&&(this.renameItem(e)&&(this.player.badge59_eligible=!1),this.setItemDescription(e)&&(this.player.badge59_eligible=!1)),e.quality+=1,e.w_minDamage=Math.ceil(i*(10+e.quality-2)/10),e.w_maxDamage=Math.ceil(o*(10+e.quality-2)/10),e.w_dps=(e.w_minDamage+e.w_maxDamage)/2/e.w_speed,this.toastService.toast("Item has been increased in quality."),this.player.scrap-=r,this.badgeService.giveBadge(43),this.badgeService.updateBadgeProgress(40,r),this.player.badge47_eligible=!1;break;case H.Armour:switch(e.quality){case O.Poor:let s=!1;for(;!s;){switch(this.util.RNG(1,3)){case 1:e.a_flatMeleeWeak=0;break;case 2:e.a_flatRangeWeak=0;break;case 3:e.a_flatMagicWeak=0}let c=e.a_flatMeleeWeak+e.a_flatRangeWeak+e.a_flatMagicWeak;(e.a_flatMeleeWeak==c||e.a_flatRangeWeak==c||e.a_flatMagicWeak==c)&&(s=!0)}break;case O.Normal:let a=U.Magic;switch(0==e.a_flatMeleeBlock&&0==e.a_flatMeleeWeak?a=U.Melee:0==e.a_flatRangeBlock&&0==e.a_flatRangeWeak&&(a=U.Ranged),a){case U.Melee:e.a_flatMeleeBlock=1+Math.floor(this.util.RNG(Math.floor(e.level/2),e.level)+1);break;case U.Ranged:e.a_flatRangeBlock=1+Math.floor(this.util.RNG(Math.floor(e.level/2),e.level)+1);break;case U.Magic:e.a_flatMagicBlock=1+Math.floor(this.util.RNG(Math.floor(e.level/2),e.level)+1)}break;case O.Good:e.a_flatMeleeWeak=0,e.a_flatRangeWeak=0,e.a_flatMagicWeak=0,this.renameItem(e)&&(this.player.badge59_eligible=!1),this.setItemDescription(e)&&(this.player.badge59_eligible=!1);break;case O.Great:0===e.a_flatMeleeBlock&&(e.a_flatMeleeBlock=1+Math.floor(this.util.RNG(Math.floor(e.level/2),e.level)+2)),0===e.a_flatRangeBlock&&(e.a_flatRangeBlock=1+Math.floor(this.util.RNG(Math.floor(e.level/2),e.level)+2)),0===e.a_flatMagicBlock&&(e.a_flatMagicBlock=1+Math.floor(this.util.RNG(Math.floor(e.level/2),e.level)+2))}e.quality>O.Poor&&(e.a_flatMeleeBlock>0&&(e.a_flatMeleeBlock+=1),e.a_flatRangeBlock>0&&(e.a_flatRangeBlock+=1),e.a_flatMagicBlock>0&&(e.a_flatMagicBlock+=1)),e.quality+=1,this.player.scrap-=r,this.badgeService.giveBadge(43),this.badgeService.updateBadgeProgress(40,r),this.player.badge47_eligible=!1,this.toastService.toast("Item has been increased in quality.");break;default:this.toastService.toast("This item cannot be upgraded.")}}setDebuff(e,r,i){this.playerService.getPlayer().subscribe(a=>this.player=a);let s,o=1;if(r&&(o=2),0===i){if(r)s=yl[this.util.RNG(0,yl.length)];else do{s=yr[this.util.RNG(0,yr.length)]}while(s.type!==w.Confuse);this.badgeService.updateBadgeProgress(39,1)}else s=r?yl[i-1]:yr[i-1],o*=4;this.player.scrap<=o?this.toastService.toast("Not enough scrap.",2e3):(r&&this.renameDebuff(s)&&(this.player.badge59_eligible=!1),e.w_debuff=s,this.player.scrap-=o,this.badgeService.updateBadgeProgress(40,o),this.badgeService.giveBadge(43),this.player.badge47_eligible=!1,this.toastService.toast("Weapon has been reforged."))}buyItem(e){if(this.playerService.getPlayer().subscribe(i=>this.player=i),this.player.inventory.length>=this.player.maxInventory)return void this.toastService.toast("No room to store this item!");let r=0;r=e.itemType===H.Potion?this.getPotionCost():this.getSeedUpgradeCost(e),this.player.seeds<r?this.toastService.toast("Not enough seeds.",2e3):(this.player.seeds-=r,this.badgeService.giveBadge(43),this.badgeService.updateBadgeProgress(44,r),this.badgeService.updateBadgeProgress(45,r),this.badgeService.updateBadgeProgress(46,r),this.player.badge47_eligible=!1,this.player.inventory.push(e),this.inventoryService.inventoryChanged=!0,this.player.storeContents.splice(this.player.storeContents.indexOf(e),1),this.toastService.toast("Purchased "+e.name+" for "+r+" seeds."))}renameItem(e){let r=!1;for(;!r;){let i=prompt("Please enter your desired name.\n\n(Max 30 characters)");if(null===i||""===i.trim())return this.badgeService.giveBadge(41),!1;i.length>30?alert("The text provided was too long, please try something shorter."):/[<>|]/g.test(i)?alert("The text provided contained invalid characters, please try something else."):(i=i.replace(/[<>|]/g,""),r=!0,e.name=i)}return!0}setItemDescription(e){let r=!1;for(;!r;){let i=prompt("Please enter your desired description.\n\n(Max 50 characters)");if(null===i||""===i.trim())return this.badgeService.giveBadge(42),!1;i.length>100?alert("The text provided was too long, please try something shorter."):/[<>|]/g.test(i)?alert("The text provided contained invalid characters, please try something else."):(i=i.replace(/[<>|]/g,""),r=!0),e.description=i}return!0}renameDebuff(e){let r=!1;for(;!r;){let i=prompt("Please enter your desired name.\n\n(Max 30 characters)\n\nSelected debuff: "+e.typeString);if(null===i||""===i.trim())return!1;i.length>30?alert("The text provided was too long, please try something shorter."):/[<>|]/g.test(i)?alert("The text provided contained invalid characters, please try something else."):(i=i.replace(/[<>|]/g,""),r=!0,e.name=i)}return!0}shopRestock(){this.playerService.getPlayer().subscribe(i=>this.player=i),this.player.storeContents=[];let e=!1,r=!1;for(;!e;){let i=this.inventoryService.createWeapon(this.player.level);i.quality>=O.Great&&(e=!0,this.player.storeContents.push(i))}for(;!r;){let i=this.inventoryService.createArmour(this.player.level);i.quality>=O.Great&&(r=!0,this.player.storeContents.push(i))}for(let i=1;i<=2;i+=1)this.player.storeContents.push(this.inventoryService.createPotion(this.util.RNG(w.ArmourShred,w.Sleep)));for(let i=1;i<6;i+=1)this.player.storeContents.push(this.inventoryService.createWeapon(this.player.level)),this.player.storeContents.push(this.inventoryService.createArmour(this.player.level));this.toastService.toast("Item shop has been restocked.")}}return t.\u0275fac=function(e){return new(e||t)(R(Ie),R(Fi),R(Jn),R(Li),R(Vr),R(Qt))},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Tf=(()=>{class t{idleLoop(){if(this.playerService.getPlayer().subscribe(r=>this.player=r),this.player.gameState!==De.Combat&&this.player.hp<this.player.maxHP){let r=Math.floor(this.player.constitution*(1+this.skillService.getPlayerSkillPotency(38)));this.player.hp=Math.min(this.player.hp+r,this.player.maxHP)}if(this.player.gameState===De.Repair){let r=this.player.weapon.level,i=this.player.armour.level,o=1+this.skillService.getPlayerSkillPotency(13);r=Math.floor(o*r),i=Math.floor(o*i);let s=50+5*(this.player.weapon.level-1),a=50+5*(this.player.armour.level-1);this.player.weapon.durability=Math.min(this.player.weapon.durability+r,s),this.player.armour.durability=Math.min(this.player.armour.durability+i,a),this.player.weapon.durability===s&&this.player.armour.durability===a&&(this.toastService.toast("Repairs complete."),this.player.gameState=De.Idle)}if(this.player.gameState===De.Idle&&this.player.hp===this.player.maxHP&&this.player.autoSave&&(this.player.autoSave=!1,this.saveService.save(),this.badgeService.updateBadgeProgress(3,1)),this.inventoryService.badgeChecks(),this.player.opt_autoBattle.auto_active){let o=Math.min(this.player.weapon.durability/(50+5*(this.player.weapon.level-1)),this.player.armour.durability/(50+5*(this.player.armour.level-1)));if(this.player.gameState===De.Idle){if(this.player.inventory.length===this.player.maxInventory&&(this.inventoryService.cleanInventory(),this.player.inventory.length===this.player.maxInventory))return this.player.opt_autoBattle.auto_active=!1,void this.toastService.toast("Autobattle deactivated due to full inventory.");o<=this.player.opt_autoBattle.auto_repairThreshold&&this.inventoryService.startRepair(),this.player.hp===this.player.maxHP&&this.injector.get(Jo).enterCombat(!1)}}this.player.maxInventory=30+this.skillService.getPlayerSkillPotency(9)}toggleVis(e){let r=document.querySelector("."+e);r.style.display="none"==r.style.display?"block":"none"}levelUp(){this.playerService.getPlayer().subscribe(c=>this.player=c),this.combatLog.addLine("Level up! You are now level "+(this.player.level+1));let e=this.util.RNG(25,30);this.player.maxHP+=e,this.combatLog.addLine("Maximum health increased by <strong>"+e+"</strong>.");let r=1;this.player.weapon.w_damageType===U.Melee&&r++,this.player.strength+=r,this.combatLog.addLine("Strength increased by <strong>"+r+"</strong>.");let i=1;this.player.weapon.w_damageType===U.Ranged&&i++,this.player.dexterity+=i,this.combatLog.addLine("Dexterity increased by <strong>"+i+"</strong>.");let o=1;this.player.weapon.w_damageType===U.Magic&&o++,this.player.intelligence+=o,this.combatLog.addLine("Intelligence increased by <strong>"+o+"</strong>.");let s=this.util.RNG(1,2);this.player.constitution+=s,this.player.maxHP+=15*s,this.combatLog.addLine("Constitution increased by <strong>"+s+"</strong>.");let a=this.skillService.getPlayerSkillLevel(7);if(a>0&&this.util.RNG(1,100)<=2*a){let h="";switch(this.util.RNG(1,4)){case 1:this.player.strength+=1,h="Strength";break;case 2:this.player.dexterity+=1,h="Dexterity";break;case 3:this.player.intelligence+=1,h="Intelligence";break;case 4:this.player.constitution+=1,h="Constitution"}this.combatLog.addLine("Your patience was rewarded with an additional point in <strong>"+h+"</strong>!")}this.player.level+=1,this.player.storedXP+=this.player.xp-this.player.maxXP,this.player.xp=0,this.player.maxXP=Math.floor(this.util.XP_INIT*Math.pow(this.util.XP_MULT,this.player.level-1)),50==this.player.level&&(this.player.badge47_eligible&&this.badgeService.giveBadge(47),this.player.badge59_eligible&&this.badgeService.giveBadge(59)),this.player.statPoints+=1,this.combatLog.addLine("You gained a Stat Point!");let l=this.skillService.getPlayerSkillLevel(10);if(l>0&&l<=this.util.RNG(1,50)&&(this.player.statPoints++,this.combatLog.addLine("Luck of the Draw granted an additional Stat Point!")),this.player.level>=5&&this.player.level%2==1){this.player.skillPoints++,this.combatLog.addLine("You gained a Skill Point!");let c=this.skillService.getPlayerSkillLevel(14);c>0&&c<=this.util.RNG(1,100)&&(this.player.statPoints++,this.combatLog.addLine("Lucky Star granted an additional Skill Point!"))}5==this.player.level&&(this.player.eliteChance=1),this.storeService.shopRestock()}constructor(e,r,i,o,s,a,l,c,h,p){this.playerService=e,this.util=r,this.toastService=i,this.saveService=o,this.combatLog=s,this.storeService=a,this.skillService=l,this.inventoryService=c,this.badgeService=h,this.injector=p}}return t.\u0275fac=function(e){return new(e||t)(R(Ie),R(Fi),R(Jn),R(_l),R(Ef),R(vl),R(Vr),R(Li),R(Qt),R(Ft))},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function TO(t,n){if(1&t&&(d(0,"td",8)(1,"span",9),f(2),u(),f(3),u()),2&t){const e=b().$implicit;g(2),an(e.name),g(1),ln(" (",e.minLevel," - ",e.maxLevel,") ")}}function kO(t,n){1&t&&(d(0,"span",13),f(1,"You are here!"),u())}function MO(t,n){if(1&t){const e=pe();d(0,"span",14),C("click",function(){M(e);const i=b(2).$implicit;return I(b(2).moveToZone(i.id))}),f(1,"Travel to this Zone"),u()}}function IO(t,n){if(1&t&&(d(0,"td",10),P(1,kO,2,0,"span",11),P(2,MO,2,0,"span",12),u()),2&t){const e=b().$implicit,r=b(2);g(1),v("ngIf",e.id==r.getCurrentZone().id),g(1),v("ngIf",e.id!==r.getCurrentZone().id)}}function AO(t,n){if(1&t&&(d(0,"tr"),P(1,TO,4,3,"td",6),P(2,IO,3,2,"td",7),u()),2&t){const e=n.$implicit,r=b(2);g(1),v("ngIf",e.id<=r.player.maxZoneID),g(1),v("ngIf",e.id<=r.player.maxZoneID)}}function PO(t,n){if(1&t&&(d(0,"div")(1,"table",1)(2,"tr")(3,"td",2)(4,"span",3),f(5),u()()(),d(6,"tr")(7,"td",4),f(8),u()(),d(9,"tr")(10,"td",2)(11,"span",3),f(12,"Available Zones:"),u()()(),P(13,AO,3,2,"tr",5),u()()),2&t){const e=b();g(5),lr("Current Zone: ",e.getCurrentZone().name," (",e.getCurrentZone().minLevel," - ",e.getCurrentZone().maxLevel,")"),g(3),ce(" ",e.getCurrentZone().description," "),g(5),v("ngForOf",e.zones)}}let NO=(()=>{class t{constructor(e,r){this.zoneService=e,this.playerService=r}moveToZone(e){this.playerService.moveToZone(e)}getCurrentZone(){return this.zoneService.getSpecificZone(this.player.currentZoneID)}ngOnInit(){this.playerService.getPlayer().subscribe(e=>this.player=e),this.zoneService.getZoneList().subscribe(e=>this.zones=e),this.currentZone=this.zoneService.getSpecificZone(this.player.currentZoneID)}}return t.\u0275fac=function(e){return new(e||t)(E(Oi),E(Ie))},t.\u0275cmp=Ye({type:t,selectors:[["app-zones"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"subTable"],["colspan","10",2,"text-align","center"],[1,"subHeader"],["colspan","10"],[4,"ngFor","ngForOf"],["colspan","6",4,"ngIf"],["colspan","4",4,"ngIf"],["colspan","6"],[2,"font-size","16px","font-weight","bold"],["colspan","4"],["class","tableButtonNoClick","style","visibility:hidden",4,"ngIf"],["class","tableButton",3,"click",4,"ngIf"],[1,"tableButtonNoClick",2,"visibility","hidden"],[1,"tableButton",3,"click"]],template:function(e,r){1&e&&P(0,PO,14,5,"div",0),2&e&&v("ngIf",3===r.player.selectedTab)},dependencies:[Pi,tt],styles:[".subTable[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;width:800px;table-layout:fixed}"]}),t})();function xO(t,n){if(1&t&&(d(0,"li",3)(1,"span",4),f(2),u(),d(3,"span",5),f(4),T(5,"br"),d(6,"span",6),f(7),u()()()),2&t){const e=n.$implicit;j("badgeFade",!b(2).badgeService.getBadgeEarned(e.id)),g(2),an(e.name),g(2),ce(" ",e.hint,""),g(3),an(e.flavour)}}function RO(t,n){if(1&t&&(d(0,"div")(1,"ul",1),P(2,xO,8,5,"li",2),u()()),2&t){const e=b();g(2),v("ngForOf",e.badges)}}let OO=(()=>{class t{constructor(e,r){this.playerService=e,this.badgeService=r}ngOnInit(){this.playerService.getPlayer().subscribe(e=>this.player=e),this.badges=ew}}return t.\u0275fac=function(e){return new(e||t)(E(Ie),E(Qt))},t.\u0275cmp=Ye({type:t,selectors:[["app-badges"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"badgeWrapper"],["class","badge",3,"badgeFade",4,"ngFor","ngForOf"],[1,"badge"],[2,"font-size","20px","font-weight","bold"],[2,"float","right","text-align","right"],[2,"font-style","italic"]],template:function(e,r){1&e&&P(0,RO,3,1,"div",0),2&e&&v("ngIf",9===r.player.selectedTab)},dependencies:[Pi,tt],styles:['.badge[_ngcontent-%COMP%]{text-align:left;background-color:#400;width:100%;border:1px solid #b0b0b0;border-radius:0;-moz-border-radius:0px;-webkit-border-radius:0px;display:inline-table;vertical-align:top;table-layout:fixed;padding:3px}.badgeWrapper[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}.badgeFade[_ngcontent-%COMP%]{opacity:.4;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=40)"}']}),t})();function FO(t,n){if(1&t){const e=pe();d(0,"td",5)(1,"span",10),C("click",function(){return M(e),I(b(2).addStat(1,1))}),f(2,"+1"),u(),d(3,"span",10),C("click",function(){return M(e),I(b(2).addStat(1,10))}),f(4,"+10"),u(),d(5,"span",10),C("click",function(){return M(e),I(b(2).addStat(1,2147483647))}),f(6,"+Max"),u()()}}function LO(t,n){if(1&t){const e=pe();d(0,"td",5)(1,"span",10),C("click",function(){return M(e),I(b(2).addStat(2,1))}),f(2,"+1"),u(),d(3,"span",10),C("click",function(){return M(e),I(b(2).addStat(2,10))}),f(4,"+10"),u(),d(5,"span",10),C("click",function(){return M(e),I(b(2).addStat(2,2147483647))}),f(6,"+Max"),u()()}}function BO(t,n){if(1&t){const e=pe();d(0,"td",5)(1,"span",10),C("click",function(){return M(e),I(b(2).addStat(3,1))}),f(2,"+1"),u(),d(3,"span",10),C("click",function(){return M(e),I(b(2).addStat(3,10))}),f(4,"+10"),u(),d(5,"span",10),C("click",function(){return M(e),I(b(2).addStat(3,2147483647))}),f(6,"+Max"),u()()}}function VO(t,n){if(1&t){const e=pe();d(0,"td",5)(1,"span",10),C("click",function(){return M(e),I(b(2).addStat(4,1))}),f(2,"+1"),u(),d(3,"span",10),C("click",function(){return M(e),I(b(2).addStat(4,10))}),f(4,"+10"),u(),d(5,"span",10),C("click",function(){return M(e),I(b(2).addStat(4,2147483647))}),f(6,"+Max"),u()()}}function HO(t,n){if(1&t){const e=pe();d(0,"div")(1,"table",1)(2,"tr")(3,"td",2)(4,"span",3),f(5,"Stat Point Allocation"),u(),T(6,"br"),d(7,"span",4),f(8),u()(),d(9,"td",5)(10,"span",6),C("click",function(){return M(e),I(b().resetStats())}),f(11,"Reset Your Stats"),u()()(),d(12,"tr")(13,"td",2)(14,"span",7),f(15),d(16,"span",8),f(17),u(),f(18,")"),u(),T(19,"br"),d(20,"span",4),f(21,"Increases damage dealt with melee weapons."),u(),T(22,"br"),d(23,"span",4),f(24),qn(25,"percent"),u()(),P(26,FO,7,0,"td",9),u(),d(27,"tr")(28,"td",2)(29,"span",7),f(30),d(31,"span",8),f(32),u(),f(33,")"),u(),T(34,"br"),d(35,"span",4),f(36,"Increases damage dealt with ranged weapons."),u(),T(37,"br"),d(38,"span",4),f(39),qn(40,"percent"),u()(),P(41,LO,7,0,"td",9),u(),d(42,"tr")(43,"td",2)(44,"span",7),f(45),d(46,"span",8),f(47),u(),f(48,")"),u(),T(49,"br"),d(50,"span",4),f(51,"Increases damage dealt with magic weapons."),u(),T(52,"br"),d(53,"span",4),f(54),qn(55,"percent"),u()(),P(56,BO,7,0,"td",9),u(),d(57,"tr")(58,"td",2)(59,"span",7),f(60),d(61,"span",8),f(62),u(),f(63,")"),u(),T(64,"br"),d(65,"span",4),f(66,"Increases maximum health and health restored when idle."),u(),T(67,"br"),d(68,"span",4),f(69),qn(70,"percent"),u()(),P(71,VO,7,0,"td",9),u()()()}if(2&t){const e=b();g(8),ln("",e.player.statPoints," ",1==e.player.statPoints?"point":"points"," free"),g(7),ce("Strength (",e.player.strength-e.player.strengthPoints,""),g(2),ce("+",e.player.strengthPoints,""),g(7),ce("Increases chance to block attacks by ",zn(25,19,e.util.statValue(e.player.strength)/100,"1.0-2"),"."),g(2),v("ngIf",e.player.statPoints>0),g(4),ce("Dexterity (",e.player.dexterity-e.player.dexterityPoints,""),g(2),ce("+",e.player.dexterityPoints,""),g(7),ce("Increases chance to critically strike by ",zn(40,22,e.util.statValue(e.player.dexterity)/100,"1.0-2"),"."),g(2),v("ngIf",e.player.statPoints>0),g(4),ce("Intelligence (",e.player.intelligence-e.player.intelligencePoints,""),g(2),ce("+",e.player.intelligencePoints,""),g(7),ce("Increases chance to dodge attacks by ",zn(55,25,e.util.statValue(e.player.intelligence)/200,"1.0-2"),"."),g(2),v("ngIf",e.player.statPoints>0),g(4),ce("Constitution (",e.player.constitution-e.player.constitutionPoints,""),g(2),ce("+",e.player.constitutionPoints,""),g(7),ln("Gives a ",zn(70,28,e.util.statValue(e.player.constitution)/100,"1.0-2")," to restore ",e.player.constitution," HP when attacking."),g(2),v("ngIf",e.player.statPoints>0)}}let GO=(()=>{class t{constructor(e,r,i,o){this.playerService=e,this.zoneService=r,this.saveService=i,this.util=o}getPlayer(){this.playerService.getPlayer().subscribe(e=>this.player=e)}getZoneList(){this.zoneService.getZoneList().subscribe(e=>this.zoneList=e)}moveToZone(e){this.playerService.moveToZone(e)}addStat(e,r){this.playerService.addStat(e,r)}resetStats(){this.playerService.resetStats()}ngOnInit(){this.getPlayer(),this.getZoneList()}}return t.\u0275fac=function(e){return new(e||t)(E(Ie),E(Oi),E(_l),E(Fi))},t.\u0275cmp=Ye({type:t,selectors:[["app-player"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"subTable"],["colspan","4"],[1,"subHeader"],[1,"indentOne"],["colspan","2",2,"text-align","center"],[1,"tableButton",3,"click"],[1,"miniHeader"],[1,"q3"],["colspan","2","style","text-align:center",4,"ngIf"],[1,"tableButton","fixWidth",3,"click"]],template:function(e,r){1&e&&P(0,HO,72,31,"div",0),2&e&&v("ngIf",1==r.player.selectedTab)},dependencies:[tt,md],styles:[".subTable[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;width:800px;table-layout:fixed}"]}),t})();function jO(t,n){1&t&&(d(0,"div",6),f(1,"Derp"),u())}function $O(t,n){if(1&t&&(d(0,"div",14),T(1,"img",15),d(2,"div",6),f(3),qn(4,"percent"),u(),P(5,jO,2,0,"div",16),u()),2&t){const e=b();g(1),Un("width",100*e.player.xp/e.player.maxXP,"%"),g(2),lr("EXP: ",e.player.xp," / ",e.player.maxXP," (",zn(4,6,e.player.xp/e.player.maxXP,"1.0-2"),")"),g(2),v("ngIf",!1)}}function UO(t,n){1&t&&(d(0,"div",6),f(1,"Derp"),u())}function WO(t,n){if(1&t&&(d(0,"div",14),T(1,"img",5),d(2,"div",6),f(3),qn(4,"percent"),u(),P(5,UO,2,0,"div",16),u()),2&t){const e=b();g(1),Un("width",100*e.player.enemy.health/e.player.enemy.maxHealth,"%")("background-color",e.getHealthColour(e.player.enemy.health,e.player.enemy.maxHealth)),g(2),lr("HP: ",e.player.enemy.health," / ",e.player.enemy.maxHealth," (",zn(4,8,e.player.enemy.health/e.player.enemy.maxHealth,"1.0-2"),")"),g(2),v("ngIf",!1)}}function qO(t,n){if(1&t&&(d(0,"span",17),T(1,"br"),f(2),u()),2&t){const e=b();g(2),ln(" ",e.player.debuff.name," (",e.player.combat_playerDebuffDuration," sec) ")}}function zO(t,n){if(1&t){const e=pe();d(0,"div",18),C("click",function(){return M(e),I(b().combatService.enterCombat(!1))}),f(1," Click here to enter combat\n"),u()}}function ZO(t,n){if(1&t&&(d(0,"span",17),T(1,"br"),f(2),u()),2&t){const e=b(2);g(2),ln(" ",e.player.enemy.debuff.name," (",e.player.combat_enemyDebuffDuration," sec) ")}}function YO(t,n){if(1&t&&(d(0,"div",19),f(1),P(2,ZO,3,2,"span",9),u()),2&t){const e=b();g(1),ce(" ",e.player.enemy.name," "),g(1),v("ngIf",e.player.enemy.debuff)}}function QO(t,n){1&t&&T(0,"hr",20)}function KO(t,n){1&t&&T(0,"hr",21)}let XO=(()=>{class t{constructor(e,r){this.playerService=e,this.combatService=r}getHealthColour(e,r){let i=e/r;return i<=.25?"#dd0000":i<=.5?"#dd7700":i<=.75?"#aaaa00":"#228822"}ngOnInit(){this.playerService.getPlayer().subscribe(e=>this.player=e)}}return t.\u0275fac=function(e){return new(e||t)(E(Ie),E(Jo))},t.\u0275cmp=Ye({type:t,selectors:[["app-status"]],decls:26,vars:21,consts:[[1,"headerTitle"],[2,"text-align","center","font-size","10px"],[1,"rightAligned"],[2,"margin-bottom","9px"],[1,"fillingBorder"],["src","assets/Clear.gif",1,"fillingBar",2,"transition","width 0.5s"],[1,"fillingText"],["class","reverseFillingBorder",4,"ngIf"],[1,"clickableLeftFloat",3,"click"],["style","font-size: 10px",4,"ngIf"],["class","clickableRightFloat",3,"click",4,"ngIf"],["class","clickableRightFloat",4,"ngIf"],["style","margin-top:5.5em;",4,"ngIf"],["style","margin-top:4.5em;",4,"ngIf"],[1,"reverseFillingBorder"],["src","assets/Clear.gif",1,"fillingBar",2,"background","rgb(0,153,255)","transition","width 0.5s"],["class","fillingText",4,"ngIf"],[2,"font-size","10px"],[1,"clickableRightFloat",3,"click"],[1,"clickableRightFloat"],[2,"margin-top","5.5em"],[2,"margin-top","4.5em"]],template:function(e,r){1&e&&(d(0,"div",0),f(1,"Realm of Decay"),u(),d(2,"div",1),f(3,"by Psychemaster - Version 1.1\n"),u(),d(4,"span",2),f(5," Seeds: "),d(6,"span"),f(7),u(),f(8,"\xa0Scrap: "),d(9,"span"),f(10),u()(),T(11,"hr",3),d(12,"div",4),T(13,"img",5),d(14,"div",6),f(15),qn(16,"percent"),u()(),P(17,$O,6,9,"div",7),P(18,WO,6,11,"div",7),d(19,"div",8),C("click",function(){return r.playerService.renamePlayer()}),f(20),P(21,qO,3,2,"span",9),u(),P(22,zO,2,0,"div",10),P(23,YO,3,2,"div",11),P(24,QO,1,0,"hr",12),P(25,KO,1,0,"hr",13)),2&e&&(g(7),an(r.player.seeds),g(3),an(r.player.scrap),g(3),Un("width",100*r.player.hp/r.player.maxHP,"%")("background-color",r.getHealthColour(r.player.hp,r.player.maxHP)),g(2),lr("HP: ",r.player.hp," / ",r.player.maxHP," (",zn(16,18,r.player.hp/r.player.maxHP,"1.0-2"),")"),g(2),v("ngIf",!r.player.enemy),g(1),v("ngIf",r.player.enemy),g(2),ln(" ",r.player.name," (Lv. ",r.player.level,") "),g(1),v("ngIf",r.player.debuff),g(1),v("ngIf",!r.player.enemy),g(1),v("ngIf",r.player.enemy),g(1),v("ngIf",r.player.debuff||r.player.enemy&&r.player.enemy.debuff),g(1),v("ngIf",!r.player.debuff&&(!r.player.enemy||r.player.enemy&&!r.player.enemy.debuff)))},dependencies:[tt,md],styles:[".headerTitle[_ngcontent-%COMP%]{text-align:center;font-size:18px;font-weight:700}.rightAligned[_ngcontent-%COMP%]{display:block;text-align:right}.playerHPBar[_ngcontent-%COMP%], .enemyHPBar[_ngcontent-%COMP%], .fillingBar[_ngcontent-%COMP%]{position:relative;z-index:8;height:25px}.fillingBorder[_ngcontent-%COMP%]{border:2px outset #666666;border-radius:4px;-moz-border-radius:4px;-webkit-border-radius:4px;z-index:9;width:48%;height:29px;float:left;text-align:left;position:relative}.fillingText[_ngcontent-%COMP%]{position:relative;top:-24px;text-align:center;z-index:10;font-weight:700;color:#ddd!important;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000}.fillingText[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{font-weight:700;color:#ddd!important;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000}.reverseFillingBorder[_ngcontent-%COMP%]{border:2px outset #666666;border-radius:4px;-moz-border-radius:4px;-webkit-border-radius:4px;z-index:9;width:48%;height:29px;float:right;text-align:right;position:relative}.clickableLeftFloat[_ngcontent-%COMP%]{cursor:pointer;float:left;font-weight:700;font-size:16px}.clickableRightFloat[_ngcontent-%COMP%]{cursor:pointer;float:right;text-align:right;font-weight:700;font-size:16px}.clickableLeftFloat[_ngcontent-%COMP%]:hover, .clickableRightFloat[_ngcontent-%COMP%]:hover{color:#fff!important}"]}),t})();function JO(t,n){if(1&t&&(d(0,"span",4),f(1),u()),2&t){const e=b();g(1),an(e.player.statPoints)}}function eF(t,n){1&t&&(d(0,"span",4),f(1,"!"),u())}function tF(t,n){if(1&t){const e=pe();d(0,"span",1),C("click",function(){return M(e),I(b().onSelect(3))}),f(1,"Zones"),u()}if(2&t){const e=b();j("selectedTab",e.player.selectedTab===e.TabEnum.Zones)}}function nF(t,n){if(1&t&&(d(0,"span",4),f(1),u()),2&t){const e=b(2);g(1),an(e.player.skillPoints>9?"!":e.player.skillPoints)}}function rF(t,n){if(1&t){const e=pe();d(0,"span",1),C("click",function(){return M(e),I(b().onSelect(4))}),f(1,"Skills"),P(2,nF,2,1,"span",2),u()}if(2&t){const e=b();j("selectedTab",e.player.selectedTab===e.TabEnum.Skills),g(2),v("ngIf",e.player.skillPoints>0)}}let iF=(()=>{class t{ngOnInit(){this.playerService.getPlayer().subscribe(e=>this.player=e),this.selectedTab=this.player.selectedTab,this.TabEnum=Me}keyEvent(e){switch(e.key){case"1":this.onSelect(1,!0);break;case"2":this.onSelect(2,!0);break;case"3":this.player.maxZoneID>1&&this.onSelect(3,!0);break;case"4":(this.player.skills.length>0||this.player.skillPoints>0)&&this.onSelect(4,!0);break;case"5":this.onSelect(5,!0);break;case"6":this.onSelect(6,!0);break;case"7":this.onSelect(7,!0);break;case"8":this.onSelect(8,!0);break;case"9":this.onSelect(9,!0);break;case"0":this.onSelect(10,!0)}}onSelect(e,r=!1){this.player.selectedTab=e,r&&this.badgeService.updateBadgeProgress(6,1),this.playerService.updateInventoryPanel()}constructor(e,r){this.playerService=e,this.badgeService=r}}return t.\u0275fac=function(e){return new(e||t)(E(Ie),E(Qt))},t.\u0275cmp=Ye({type:t,selectors:[["app-tabs"]],hostBindings:function(e,r){1&e&&C("keyup",function(o){return r.keyEvent(o)},0,yo)},decls:21,vars:20,consts:[[1,"header"],[1,"headerTab",3,"click"],["class","indicator",4,"ngIf"],["class","headerTab",3,"selectedTab","click",4,"ngIf"],[1,"indicator"]],template:function(e,r){1&e&&(d(0,"div",0)(1,"span",1),C("click",function(){return r.onSelect(1)}),f(2,"Player"),P(3,JO,2,1,"span",2),u(),d(4,"span",1),C("click",function(){return r.onSelect(2)}),f(5,"Combat"),P(6,eF,2,0,"span",2),u(),P(7,tF,2,2,"span",3),P(8,rF,3,3,"span",3),d(9,"span",1),C("click",function(){return r.onSelect(5)}),f(10,"Items"),u(),d(11,"span",1),C("click",function(){return r.onSelect(6)}),f(12,"Store"),u(),d(13,"span",1),C("click",function(){return r.onSelect(7)}),f(14,"Help"),u(),d(15,"span",1),C("click",function(){return r.onSelect(8)}),f(16,"Updates"),u(),d(17,"span",1),C("click",function(){return r.onSelect(9)}),f(18,"Badges"),u(),d(19,"span",1),C("click",function(){return r.onSelect(10)}),f(20,"Options"),u()()),2&e&&(g(1),j("selectedTab",r.player.selectedTab===r.TabEnum.Player),g(2),v("ngIf",0!==r.player.statPoints),g(1),j("selectedTab",r.player.selectedTab===r.TabEnum.Combat),g(2),v("ngIf",2===r.player.gameState),g(1),v("ngIf",r.player.maxZoneID>1),g(1),v("ngIf",r.player.skills.length>0||r.player.skillPoints>0),g(1),j("selectedTab",r.player.selectedTab===r.TabEnum.Items),g(2),j("selectedTab",r.player.selectedTab===r.TabEnum.Store),g(2),j("selectedTab",r.player.selectedTab===r.TabEnum.Help),g(2),j("selectedTab",r.player.selectedTab===r.TabEnum.Updates),g(2),j("selectedTab",r.player.selectedTab===r.TabEnum.Badges),g(2),j("selectedTab",r.player.selectedTab===r.TabEnum.Options))},dependencies:[tt],styles:[".header[_ngcontent-%COMP%]{text-align:center;background-color:#260000;width:100%}.headerTab[_ngcontent-%COMP%]{width:70px;display:inline-block;text-align:center;padding:5px 0;margin:0 2px 10px;border-bottom:2px solid #600000;position:relative}.headerTab[_ngcontent-%COMP%]:hover, .headerTab-ex[_ngcontent-%COMP%]:hover{background-color:#600000}.selectedTab[_ngcontent-%COMP%]{border-bottom:2px solid #dfdfdf;padding:5px 0;font-weight:700}.indicator[_ngcontent-%COMP%]{position:absolute;display:inline-block;top:-5px;border:1px solid #b0b0b0;border-radius:50%;-moz-border-radius:50%;-webkit-border-radius:50%;background-color:maroon;font-weight:700;min-width:18px;z-index:15}"]}),t})();function oF(t,n){1&t&&(d(0,"tr")(1,"td",3),f(2," Hitting a brick wall? A boss getting you down? Using this handy button, you can start anew and make your next run both faster AND easier! "),u(),d(3,"td")(4,"span",11),f(5,"Prestige (NYI)"),u()()())}function sF(t,n){if(1&t){const e=pe();d(0,"div")(1,"div",1),f(2,"Autobattle Settings"),u(),d(3,"table",2)(4,"tr")(5,"td",3),f(6," Toggle activation state of auto-battle: "),u(),d(7,"td",4)(8,"span",5),C("click",function(){return M(e),I(b().toggleAutoBattle())}),f(9),u()()(),d(10,"tr")(11,"td",3),f(12," Percentage of health remaining to automatically flee? "),u(),d(13,"td",4)(14,"span",5),C("click",function(){return M(e),I(b().player.opt_autoBattle.auto_fleeHealth=.05)}),f(15,"5%"),u(),d(16,"span",5),C("click",function(){return M(e),I(b().player.opt_autoBattle.auto_fleeHealth=.1)}),f(17,"10%"),u(),d(18,"span",5),C("click",function(){return M(e),I(b().player.opt_autoBattle.auto_fleeHealth=.15)}),f(19,"15%"),u(),d(20,"span",5),C("click",function(){return M(e),I(b().player.opt_autoBattle.auto_fleeHealth=.2)}),f(21,"20%"),u()()(),d(22,"tr")(23,"td",3),f(24," Percentage of item durability remaining to start repairing? "),u(),d(25,"td",4)(26,"span",5),C("click",function(){return M(e),I(b().player.opt_autoBattle.auto_repairThreshold=.05)}),f(27,"5%"),u(),d(28,"span",5),C("click",function(){return M(e),I(b().player.opt_autoBattle.auto_repairThreshold=.1)}),f(29,"10%"),u(),d(30,"span",5),C("click",function(){return M(e),I(b().player.opt_autoBattle.auto_repairThreshold=.15)}),f(31,"15%"),u(),d(32,"span",5),C("click",function(){return M(e),I(b().player.opt_autoBattle.auto_repairThreshold=.2)}),f(33,"20%"),u()()()(),d(34,"div",1),f(35,"Clean Inventory Settings"),u(),d(36,"table",2)(37,"tr")(38,"td")(39,"span",6),f(40,"Poor Weapons"),u()(),d(41,"td",3)(42,"span",5),C("click",function(){return M(e),I(b().player.opt_inventoryHandling.weapon_poor="SELL")}),f(43,"SELL"),u(),d(44,"span",5),C("click",function(){return M(e),I(b().player.opt_inventoryHandling.weapon_poor="SCRAP")}),f(45,"SCRAP"),u(),d(46,"span",5),C("click",function(){return M(e),I(b().player.opt_inventoryHandling.weapon_poor="DISCARD")}),f(47,"DISCARD"),u(),d(48,"span",5),C("click",function(){return M(e),I(b().player.opt_inventoryHandling.weapon_poor="IGNORE")}),f(49,"IGNORE"),u()()(),d(50,"tr")(51,"td")(52,"span",6),f(53,"Poor Armour"),u()(),d(54,"td",3)(55,"span",5),C("click",function(){return M(e),I(b().player.opt_inventoryHandling.armour_poor="SELL")}),f(56,"SELL"),u(),d(57,"span",5),C("click",function(){return M(e),I(b().player.opt_inventoryHandling.armour_poor="SCRAP")}),f(58,"SCRAP"),u(),d(59,"span",5),C("click",function(){return M(e),I(b().player.opt_inventoryHandling.armour_poor="DISCARD")}),f(60,"DISCARD"),u(),d(61,"span",5),C("click",function(){return M(e),I(b().player.opt_inventoryHandling.armour_poor="IGNORE")}),f(62,"IGNORE"),u()()(),d(63,"tr")(64,"td")(65,"span",7),f(66,"Normal Weapons"),u()(),d(67,"td",3)(68,"span",5),C("click",function(){return M(e),I(b().player.opt_inventoryHandling.weapon_normal="SELL")}),f(69,"SELL"),u(),d(70,"span",5),C("click",function(){return M(e),I(b().player.opt_inventoryHandling.weapon_normal="SCRAP")}),f(71,"SCRAP"),u(),d(72,"span",5),C("click",function(){return M(e),I(b().player.opt_inventoryHandling.weapon_normal="DISCARD")}),f(73,"DISCARD"),u(),d(74,"span",5),C("click",function(){return M(e),I(b().player.opt_inventoryHandling.weapon_normal="IGNORE")}),f(75,"IGNORE"),u()()(),d(76,"tr")(77,"td")(78,"span",7),f(79,"Normal Armour"),u()(),d(80,"td",3)(81,"span",5),C("click",function(){return M(e),I(b().player.opt_inventoryHandling.armour_normal="SELL")}),f(82,"SELL"),u(),d(83,"span",5),C("click",function(){return M(e),I(b().player.opt_inventoryHandling.armour_normal="SCRAP")}),f(84,"SCRAP"),u(),d(85,"span",5),C("click",function(){return M(e),I(b().player.opt_inventoryHandling.armour_normal="DISCARD")}),f(86,"DISCARD"),u(),d(87,"span",5),C("click",function(){return M(e),I(b().player.opt_inventoryHandling.armour_normal="IGNORE")}),f(88,"IGNORE"),u()()(),d(89,"tr")(90,"td")(91,"span",8),f(92,"Good Weapons"),u()(),d(93,"td",3)(94,"span",5),C("click",function(){return M(e),I(b().player.opt_inventoryHandling.weapon_good="SELL")}),f(95,"SELL"),u(),d(96,"span",5),C("click",function(){return M(e),I(b().player.opt_inventoryHandling.weapon_good="SCRAP")}),f(97,"SCRAP"),u(),d(98,"span",5),C("click",function(){return M(e),I(b().player.opt_inventoryHandling.weapon_good="DISCARD")}),f(99,"DISCARD"),u(),d(100,"span",5),C("click",function(){return M(e),I(b().player.opt_inventoryHandling.weapon_good="IGNORE")}),f(101,"IGNORE"),u()()(),d(102,"tr")(103,"td")(104,"span",8),f(105,"Good Armour"),u()(),d(106,"td",3)(107,"span",5),C("click",function(){return M(e),I(b().player.opt_inventoryHandling.armour_good="SELL")}),f(108,"SELL"),u(),d(109,"span",5),C("click",function(){return M(e),I(b().player.opt_inventoryHandling.armour_good="SCRAP")}),f(110,"SCRAP"),u(),d(111,"span",5),C("click",function(){return M(e),I(b().player.opt_inventoryHandling.armour_good="DISCARD")}),f(112,"DISCARD"),u(),d(113,"span",5),C("click",function(){return M(e),I(b().player.opt_inventoryHandling.armour_good="IGNORE")}),f(114,"IGNORE"),u()()(),d(115,"tr")(116,"td")(117,"span",9),f(118,"Great Weapons"),u()(),d(119,"td",3)(120,"span",5),C("click",function(){return M(e),I(b().player.opt_inventoryHandling.weapon_great="SELL")}),f(121,"SELL"),u(),d(122,"span",5),C("click",function(){return M(e),I(b().player.opt_inventoryHandling.weapon_great="SCRAP")}),f(123,"SCRAP"),u(),d(124,"span",5),C("click",function(){return M(e),I(b().player.opt_inventoryHandling.weapon_great="DISCARD")}),f(125,"DISCARD"),u(),d(126,"span",5),C("click",function(){return M(e),I(b().player.opt_inventoryHandling.weapon_great="IGNORE")}),f(127,"IGNORE"),u()()(),d(128,"tr")(129,"td")(130,"span",9),f(131,"Great Armour"),u()(),d(132,"td",3)(133,"span",5),C("click",function(){return M(e),I(b().player.opt_inventoryHandling.armour_great="SELL")}),f(134,"SELL"),u(),d(135,"span",5),C("click",function(){return M(e),I(b().player.opt_inventoryHandling.armour_great="SCRAP")}),f(136,"SCRAP"),u(),d(137,"span",5),C("click",function(){return M(e),I(b().player.opt_inventoryHandling.armour_great="DISCARD")}),f(138,"DISCARD"),u(),d(139,"span",5),C("click",function(){return M(e),I(b().player.opt_inventoryHandling.armour_great="IGNORE")}),f(140,"IGNORE"),u()()(),d(141,"tr")(142,"td")(143,"span",10),f(144,"Amazing Weapons"),u()(),d(145,"td",3)(146,"span",5),C("click",function(){return M(e),I(b().player.opt_inventoryHandling.weapon_amazing="SELL")}),f(147,"SELL"),u(),d(148,"span",5),C("click",function(){return M(e),I(b().player.opt_inventoryHandling.weapon_amazing="SCRAP")}),f(149,"SCRAP"),u(),d(150,"span",5),C("click",function(){return M(e),I(b().player.opt_inventoryHandling.weapon_amazing="DISCARD")}),f(151,"DISCARD"),u(),d(152,"span",5),C("click",function(){return M(e),I(b().player.opt_inventoryHandling.weapon_amazing="IGNORE")}),f(153,"IGNORE"),u()()(),d(154,"tr")(155,"td")(156,"span",10),f(157,"Amazing Armour"),u()(),d(158,"td",3)(159,"span",5),C("click",function(){return M(e),I(b().player.opt_inventoryHandling.armour_amazing="SELL")}),f(160,"SELL"),u(),d(161,"span",5),C("click",function(){return M(e),I(b().player.opt_inventoryHandling.armour_amazing="SCRAP")}),f(162,"SCRAP"),u(),d(163,"span",5),C("click",function(){return M(e),I(b().player.opt_inventoryHandling.armour_amazing="DISCARD")}),f(164,"DISCARD"),u(),d(165,"span",5),C("click",function(){return M(e),I(b().player.opt_inventoryHandling.armour_amazing="IGNORE")}),f(166,"IGNORE"),u()()()(),d(167,"div",1),f(168,"Save Options"),u(),d(169,"table",2)(170,"tr")(171,"td",3),f(172," Don't trust the automatic save feature? This button is for you! Works 100% of the time! Honest! "),u(),d(173,"td")(174,"span",5),C("click",function(){return M(e),I(b().saveGame())}),f(175,"Save Game"),u()()(),d(176,"tr")(177,"td",3),f(178," Fancy a fresh start? We can do that. Push the button and we'll forget you were ever even here. (This is a complete and permanent removal of all save data!) "),u(),d(179,"td")(180,"span",5),C("click",function(){return M(e),I(b().clearSave())}),f(181,"Clear Save"),u()()(),P(182,oF,6,0,"tr",0),u()()}if(2&t){const e=b();g(8),j("tableButtonSelected",e.player.opt_autoBattle.auto_active),g(1),an(e.player.opt_autoBattle.auto_active?"Turn Off":"Turn On"),g(5),j("tableButtonSelected",.05===e.player.opt_autoBattle.auto_fleeHealth),g(2),j("tableButtonSelected",.1===e.player.opt_autoBattle.auto_fleeHealth),g(2),j("tableButtonSelected",.15===e.player.opt_autoBattle.auto_fleeHealth),g(2),j("tableButtonSelected",.2===e.player.opt_autoBattle.auto_fleeHealth),g(6),j("tableButtonSelected",.05===e.player.opt_autoBattle.auto_repairThreshold),g(2),j("tableButtonSelected",.1===e.player.opt_autoBattle.auto_repairThreshold),g(2),j("tableButtonSelected",.15===e.player.opt_autoBattle.auto_repairThreshold),g(2),j("tableButtonSelected",.2===e.player.opt_autoBattle.auto_repairThreshold),g(10),j("tableButtonSelected","SELL"===e.player.opt_inventoryHandling.weapon_poor),g(2),j("tableButtonSelected","SCRAP"===e.player.opt_inventoryHandling.weapon_poor),g(2),j("tableButtonSelected","DISCARD"===e.player.opt_inventoryHandling.weapon_poor),g(2),j("tableButtonSelected","IGNORE"===e.player.opt_inventoryHandling.weapon_poor),g(7),j("tableButtonSelected","SELL"===e.player.opt_inventoryHandling.armour_poor),g(2),j("tableButtonSelected","SCRAP"===e.player.opt_inventoryHandling.armour_poor),g(2),j("tableButtonSelected","DISCARD"===e.player.opt_inventoryHandling.armour_poor),g(2),j("tableButtonSelected","IGNORE"===e.player.opt_inventoryHandling.armour_poor),g(7),j("tableButtonSelected","SELL"===e.player.opt_inventoryHandling.weapon_normal),g(2),j("tableButtonSelected","SCRAP"===e.player.opt_inventoryHandling.weapon_normal),g(2),j("tableButtonSelected","DISCARD"===e.player.opt_inventoryHandling.weapon_normal),g(2),j("tableButtonSelected","IGNORE"===e.player.opt_inventoryHandling.weapon_normal),g(7),j("tableButtonSelected","SELL"===e.player.opt_inventoryHandling.armour_normal),g(2),j("tableButtonSelected","SCRAP"===e.player.opt_inventoryHandling.armour_normal),g(2),j("tableButtonSelected","DISCARD"===e.player.opt_inventoryHandling.armour_normal),g(2),j("tableButtonSelected","IGNORE"===e.player.opt_inventoryHandling.armour_normal),g(7),j("tableButtonSelected","SELL"===e.player.opt_inventoryHandling.weapon_good),g(2),j("tableButtonSelected","SCRAP"===e.player.opt_inventoryHandling.weapon_good),g(2),j("tableButtonSelected","DISCARD"===e.player.opt_inventoryHandling.weapon_good),g(2),j("tableButtonSelected","IGNORE"===e.player.opt_inventoryHandling.weapon_good),g(7),j("tableButtonSelected","SELL"===e.player.opt_inventoryHandling.armour_good),g(2),j("tableButtonSelected","SCRAP"===e.player.opt_inventoryHandling.armour_good),g(2),j("tableButtonSelected","DISCARD"===e.player.opt_inventoryHandling.armour_good),g(2),j("tableButtonSelected","IGNORE"===e.player.opt_inventoryHandling.armour_good),g(7),j("tableButtonSelected","SELL"===e.player.opt_inventoryHandling.weapon_great),g(2),j("tableButtonSelected","SCRAP"===e.player.opt_inventoryHandling.weapon_great),g(2),j("tableButtonSelected","DISCARD"===e.player.opt_inventoryHandling.weapon_great),g(2),j("tableButtonSelected","IGNORE"===e.player.opt_inventoryHandling.weapon_great),g(7),j("tableButtonSelected","SELL"===e.player.opt_inventoryHandling.armour_great),g(2),j("tableButtonSelected","SCRAP"===e.player.opt_inventoryHandling.armour_great),g(2),j("tableButtonSelected","DISCARD"===e.player.opt_inventoryHandling.armour_great),g(2),j("tableButtonSelected","IGNORE"===e.player.opt_inventoryHandling.armour_great),g(7),j("tableButtonSelected","SELL"===e.player.opt_inventoryHandling.weapon_amazing),g(2),j("tableButtonSelected","SCRAP"===e.player.opt_inventoryHandling.weapon_amazing),g(2),j("tableButtonSelected","DISCARD"===e.player.opt_inventoryHandling.weapon_amazing),g(2),j("tableButtonSelected","IGNORE"===e.player.opt_inventoryHandling.weapon_amazing),g(7),j("tableButtonSelected","SELL"===e.player.opt_inventoryHandling.armour_amazing),g(2),j("tableButtonSelected","SCRAP"===e.player.opt_inventoryHandling.armour_amazing),g(2),j("tableButtonSelected","DISCARD"===e.player.opt_inventoryHandling.armour_amazing),g(2),j("tableButtonSelected","IGNORE"===e.player.opt_inventoryHandling.armour_amazing),g(17),v("ngIf",!1)}}let aF=(()=>{class t{saveGame(){this.player.gameState!==De.Idle?this.toastService.toast("Cannot save the game while in combat or repairing."):(this.badgeService.giveBadge(4),this.saveService.save())}loadGame(){this.saveService.load(),location.reload()}clearSave(){this.saveService.clear(),location.reload()}toggleAutoBattle(){this.player.opt_autoBattle.auto_active=!this.player.opt_autoBattle.auto_active,this.toastService.toast("Auto battle "+(this.player.opt_autoBattle.auto_active?"activated":"deactivated")+"."),this.player.opt_autoBattle.auto_active&&this.badgeService.giveBadge(5)}keyEvent(e){"s"===e.key&&(this.badgeService.updateBadgeProgress(6,1),this.saveGame())}constructor(e,r,i,o){this.saveService=e,this.playerService=r,this.toastService=i,this.badgeService=o}ngOnInit(){this.playerService.getPlayer().subscribe(e=>this.player=e)}}return t.\u0275fac=function(e){return new(e||t)(E(_l),E(Ie),E(Jn),E(Qt))},t.\u0275cmp=Ye({type:t,selectors:[["app-options"]],hostBindings:function(e,r){1&e&&C("keyup",function(o){return r.keyEvent(o)},0,yo)},decls:1,vars:1,consts:[[4,"ngIf"],[1,"subHeader"],[1,"subTable"],["colspan","3"],["colspan","2"],[1,"tableButton",3,"click"],[1,"q1"],[1,"q2"],[1,"q3"],[1,"q4"],[1,"q5"],[1,"tableButton"]],template:function(e,r){1&e&&P(0,sF,183,100,"div",0),2&e&&v("ngIf",10==r.player.selectedTab)},dependencies:[tt],styles:[".subTable[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;width:800px;table-layout:fixed}"]}),t})();function lF(t,n){1&t&&(d(0,"div",1)(1,"div",2),f(2,"Update News"),u(),d(3,"strong"),f(4,"Version 1.1"),u(),T(5,"br")(6,"br"),f(7," Changes in this version:"),T(8,"br")(9,"br"),d(10,"ul")(11,"li"),f(12," Potions "),d(13,"ul")(14,"li"),f(15,"Potions have been added to the game."),u(),d(16,"li"),f(17,"You start with a basic healing potion with 10 uses that restores 30% of your health when activated."),u(),d(18,"li"),f(19,"When fighting an opponent whose weapon has a debuff, you have a chance (scaling with weapon quality) to receive a potion upon victory corresponding to that debuff."),u(),d(20,"li"),f(21,"Health potions have a chance to drop scaling with the opponent's armour quality (Good or better)."),u(),d(22,"li"),f(23,"If you already have a potion with a matching debuff, then getting one as a drop grants an additional 10 uses, with no upper limit."),u(),d(24,"li"),f(25,"The inventory cleaning function will always ignore potions."),u(),d(26,"li"),f(27,"The Store will now carry two debuff potions, selected at random from the pool of debuffs. The cost of these potions scales with player level."),u(),d(28,"li"),f(29,"Four new skills have been added that relate to potions."),u()()(),d(30,"li"),f(31," UI Changes "),d(32,"ul")(33,"li"),f(34," Player health and experience bars are now visible across all tabs. "),u(),d(35,"li"),f(36," When in combat, the experience bar will be replaced by the enemy's health bar. "),u(),d(37,"li"),f(38," Renaming your character is now accomplished by clicking the existing name below the health bar. "),u(),d(39,"li"),f(40," When in combat, clicking the enemy's name below the health bar will now initiate your Burst Attack. "),u(),d(41,"li"),f(42," Skills will now display their actual effects on the Skills tab, instead of showing the effect per rank. "),u(),d(43,"li"),f(44," Toast notifications are now much smaller and cleaner, and have a clear 'dismiss' option. "),u(),d(45,"li"),f(46," Indicators will appear on the tab bar under certain circumstances: "),d(47,"ul")(48,"li"),f(49,"The number of stat points to be spent will appear on the Player tab, if any."),u(),d(50,"li"),f(51,"The number of skill points to be spent will appear on the Skills tab, if any."),u(),d(52,"li"),f(53,"A (!) will appear on the combat tab when in combat."),u(),d(54,"li"),f(55,"A (!) will appear on the items tab if your inventory is full."),u()()(),d(56,"li"),f(57," The following tabs are now hidden until certain conditions are met: "),d(58,"ul")(59,"li"),f(60,"Zones"),u(),d(61,"li"),f(62,"Skills"),u()()(),d(63,"li"),f(64," Items in the Inventory tab can now be locked, which prevents them from being sold, scrapped or discarded - including via the 'Clean Inventory' function. "),u(),d(65,"li"),f(66," New players will now load into the Updates tab by default when playing for the first time. "),u(),d(67,"li"),f(68," The Zones tab will no longer show the names of zones you have yet to unlock. "),u()()(),d(69,"li"),f(70," Balance Changes "),d(71,"ul")(72,"li"),f(73," Player stats now provide an additional passive bonus, which scales with their value subject to diminishing returns: "),d(74,"ul")(75,"li")(76,"strong"),f(77,"Strength"),u(),f(78," gives a chance to block enemy attacks, reducing the damage taken by 25%;"),u(),d(79,"li")(80,"strong"),f(81,"Dexterity"),u(),f(82," gives a chance to critically strike enemies for 50% increased damage;"),u(),d(83,"li")(84,"strong"),f(85,"Intelligence"),u(),f(86," gives a chance to dodge an incoming attack, preventing all effects of it;"),u(),d(87,"li")(88,"strong"),f(89,"Constitution"),u(),f(90," gives a chance to restore health equal to your Constitution value when attacking."),u()()(),d(91,"li"),f(92," The base from which enemy stat scaling is calculated has been increased slightly, for both normal and elite foes. This will be most noticeable at lower levels. "),u(),d(93,"li"),f(94," Enemies no longer have a chance to generate with equipment of a higher level than they are. "),u()()(),d(95,"li"),f(96," Skill Changes "),d(97,"ul")(98,"li"),f(99," The skill tree has been completely redefined and split into three broad sections: "),d(100,"ul")(101,"li"),f(102,"The "),d(103,"strong"),f(104,"Offense"),u(),f(105," tree focuses on skills that increase damage done and effects that occur when attacking;"),u(),d(106,"li"),f(107,"The "),d(108,"strong"),f(109,"Defense"),u(),f(110," tree focuses on skills that decrease damage taken and effects that occur when attacked;"),u(),d(111,"li"),f(112,"The "),d(113,"strong"),f(114,"Support"),u(),f(115," tree focuses on quality of life upgrades that don't fit into either of the above trees."),u()()(),d(116,"li"),f(117," Restrictions on purchasing certain skill combinations have been removed. "),u(),d(118,"li"),f(119," The availability of Skill Points has been changed: a minimum level of 5 is required, and they are only naturally gained on odd levels beyond that point. "),u(),d(120,"li"),f(121," The following skills have been updated: "),d(122,"ul")(123,"li")(124,"strong"),f(125,"Pick Clean "),u(),f(126,"(formerly Thorough Looting) "),d(127,"ul")(128,"li"),f(129,"Each rank provides a 1% chance to get scrap from a kill (down from 2%)."),u()()(),d(130,"li")(131,"strong"),f(132,"Undermine "),u(),f(133,"(formerly Intuition) "),d(134,"ul")(135,"li"),f(136,"Name change only - effect remains the same."),u()()(),d(137,"li")(138,"strong"),f(139,"Victory Rush "),u(),f(140,"(formerly Will To Live) "),d(141,"ul")(142,"li"),f(143,"Updated to restore 5% health per rank upon defeating an enemy."),u()()(),d(144,"li")(145,"strong"),f(146,"Master Tinkerer"),u(),d(147,"ul")(148,"li"),f(149,"Fixed an issue where this skill was far less effective than intended."),u()()(),d(150,"li")(151,"strong"),f(152,"Survival Instincts"),u(),d(153,"ul")(154,"li"),f(155,"Has been changed to increase the power of out of combat regeneration only."),u(),d(156,"li"),f(157,"Now has 5 ranks available (down from 10)."),u(),d(158,"li"),f(159,"Increased the bonus amount healed to 4% per rank (up from 2%)."),u()()(),d(160,"li")(161,"strong"),f(162,"Proper Care"),u(),d(163,"ul")(164,"li"),f(165,"Now has 5 ranks available (down from 10)."),u(),d(166,"li"),f(167,"Each rank provides a 3% chance to prevent durability loss (up from 2%)."),u(),d(168,"li"),f(169,"Fixed an issue where it was less likely to activate than intended."),u()()(),d(170,"li")(171,"strong"),f(172,"Pickpocket"),u(),d(173,"ul")(174,"li"),f(175,"Now has 5 ranks available (down from 10)."),u()()(),d(176,"li")(177,"strong"),f(178,"Divine Shield"),u(),d(179,"ul")(180,"li"),f(181,"Now has 5 ranks available (down from 10)."),u()()(),d(182,"li")(183,"strong"),f(184,"Absorption Shield"),u(),d(185,"ul")(186,"li"),f(187,"Now has 5 ranks available (up from 1)."),u(),d(188,"li"),f(189,"Damage absorbed is now 20% per rank (down from 100%)."),u(),d(190,"li"),f(191,"Can now be purchased alongside Reflective Shield."),u()()(),d(192,"li")(193,"strong"),f(194,"Reflective Shield"),u(),d(195,"ul")(196,"li"),f(197,"Now has 5 ranks available (up from 1)."),u(),d(198,"li"),f(199,"Damage reflected is now 20% per rank (down from 100%)."),u(),d(200,"li"),f(201,"Can now be purchased alongside Absorption Shield."),u()()(),d(202,"li")(203,"strong"),f(204,"Luck of the Draw"),u(),d(205,"ul")(206,"li"),f(207,"Now has 5 ranks available (down from 10)."),u(),d(208,"li"),f(209,"Chance to gain an additional Stat Point is now 2% per rank (up from 1%)."),u()()(),d(210,"li")(211,"strong"),f(212,"Lucky Star"),u(),d(213,"ul")(214,"li"),f(215,"Wording has been updated to clarify that this skill only activates on levels you would normally gain skill points."),u()()(),d(216,"li")(217,"strong"),f(218,"Fast Learner"),u(),d(219,"ul")(220,"li"),f(221,"Now has 5 ranks available (down from 10)."),u()()(),d(222,"li")(223,"strong"),f(224,"Flurry"),u(),d(225,"ul")(226,"li"),f(227,"Now has 5 ranks available (down from 10)."),u(),d(228,"li"),f(229,"Chance to deliver a second attack is now 2% per rank (up from 1%)."),u(),d(230,"li"),f(231,"Fixed an issue where Flurry could potentially activate from an attack that was prevented by paralysis."),u()()(),d(232,"li")(233,"strong"),f(234,"Deadly Force"),u(),d(235,"ul")(236,"li"),f(237,"Now has 5 ranks available (down from 10)."),u(),d(238,"li"),f(239,"Damage increase is now 3% per rank (up from 2%)."),u()()(),d(240,"li")(241,"strong"),f(242,"Press the Advantage"),u(),d(243,"ul")(244,"li"),f(245,"Fixed an issue where Press the Advantage would not activate when the player had no skill points in Wild Swings."),u()()(),d(246,"li")(247,"strong"),f(248,"Ancestral Fortitude"),u(),d(249,"ul")(250,"li"),f(251,"Now has 5 ranks available (down from 10)."),u(),d(252,"li"),f(253,"Damage reduction is now 3% per rank (up from 2%)."),u()()(),d(254,"li")(255,"strong"),f(256,"Nimble Fingers"),u(),d(257,"ul")(258,"li"),f(259,"Now has 5 ranks available (down from 10)."),u(),d(260,"li"),f(261,"Attack speed increase is now 3% per rank (up from 2%)."),u()()(),d(262,"li")(263,"strong"),f(264,"Expose Weakness"),u(),d(265,"ul")(266,"li"),f(267,"Now has 5 ranks available (down from 10)."),u(),d(268,"li"),f(269,"Debuff application rate increase is now 2% per rank (up from 1%)."),u()()(),d(270,"li")(271,"strong"),f(272,"Bartering"),u(),d(273,"ul")(274,"li"),f(275,"Now has 5 ranks available (down from 10)."),u(),d(276,"li"),f(277,"Price reduction is now 3% per rank (up from 2%)."),u()()(),d(278,"li")(279,"strong"),f(280,"Patience Rewarded"),u(),f(281," (formerly Patience and Discipline) "),d(282,"ul")(283,"li"),f(284,"Chance of an additional stat boost is now 2% per rank (down from 3%)."),u()()(),d(285,"li")(286,"strong"),f(287,"Empowered Flurry"),u(),d(288,"ul")(289,"li"),f(290,"Damage increase is now 5% per rank (up from 4%)."),u()()(),d(291,"li")(292,"strong"),f(293,"Overcharge"),u(),d(294,"ul")(295,"li"),f(296,"Damage increase is now 35% (up from 25%)."),u()()(),d(297,"li")(298,"strong"),f(299,"Reclaimed Knowledge"),u(),d(300,"ul")(301,"li"),f(302,"Fixed an issue where the accumulated experience was not removed when prestiging."),u()()()()()()(),d(303,"li"),f(304," New Skills "),d(305,"ul")(306,"li")(307,"strong"),f(308,"Armour Mastery"),u(),f(309," is the new base skill in the Defence tree, increasing the potency of armour bonuses by 5% per rank (rounded up to the nearest point)."),u(),d(310,"li")(311,"strong"),f(312,"Bloodlust"),u(),f(313," is a new single rank skill in the Offense tree, which refreshes your Burst Attack cooldown upon a critical hit. Branches from "),d(314,"strong"),f(315,"Execute"),u(),f(316,"."),u(),d(317,"li")(318,"strong"),f(319,"Power Surge"),u(),f(320," is a new 5 rank skill in the Offense tree, which applies Adrenaline Rush at the start of combat for one attack per rank. Branches from "),d(321,"strong"),f(322,"Adrenaline Rush"),u(),f(323,"."),u(),d(324,"li")(325,"strong"),f(326,"Deadly Momentum"),u(),f(327," is a new 5 rank skill in the Offense tree, which stores overkill damage from all other sources (up to 20% per rank of target's max HP) and applies it at the start of combat. Branches from "),d(328,"strong"),f(329,"Expose Weakness"),u(),f(330,"."),u(),d(331,"li")(332,"strong"),f(333,"Pandemic"),u(),f(334," is a new single rank skill in the Offense tree, allowing the player to refresh debuff timers if they are reapplied during their duration. Branches from "),d(335,"strong"),f(336,"Deadly Momentum"),u(),f(337,"."),u(),d(338,"li")(339,"strong"),f(340,"Shield Wall"),u(),f(341," is a new 5 rank skill in the Defence tree, increasing block chance by 1% per rank. Branches from "),d(342,"strong"),f(343,"Ancestral Fortitude"),u(),f(344,"."),u(),d(345,"li")(346,"strong"),f(347,"Shield Crush"),u(),f(348," is a new 5 rank skill in the Defence tree, granting a 2% chance per rank to ignore enemy armour bonuses. Branches from "),d(349,"strong"),f(350,"Shield Wall"),u(),f(351,"."),u(),d(352,"li")(353,"strong"),f(354,"Hold The Line"),u(),f(355," is a new single rank skill in the Defence tree, guaranteeing a block whenever Shield Crush activates. Branches from "),d(356,"strong"),f(357,"Shield Crush"),u(),f(358,"."),u(),d(359,"li")(360,"strong"),f(361,"Stand Your Ground"),u(),f(362," is a new single rank skill in the Defence tree, which removes the active debuff on you when Shield Crush activates. Branches from "),d(363,"strong"),f(364,"Shield Crush"),u(),f(365,"."),u(),d(366,"li")(367,"strong"),f(368,"Riposte"),u(),f(369," is a new 5 rank skill in the Defence tree, granting a 2% chance per rank to Disarm the attacker upon a successful block. Branches from "),d(370,"strong"),f(371,"Hold the Line"),u(),f(372,"."),u(),d(373,"li")(374,"strong"),f(375,"Bladed Armour"),u(),f(376," is a new 5 rank skill in the Defence tree, that deals a flat 2% per rank of damage taken to an attacker. Branches from "),d(377,"strong"),f(378,"Shield Wall"),u(),f(379,"."),u(),d(380,"li")(381,"strong"),f(382,"Artful Dodger"),u(),f(383," is a new single rank skill in the Defence tree, causing successful dodges to refresh the cooldown on your Burst Attack. Branches from "),d(384,"strong"),f(385,"Victory Rush"),u(),f(386,"."),u(),d(387,"li")(388,"strong"),f(389,"Eye for an Eye"),u(),f(390," is a new single rank skill in the Defence tree, which deals 100% of blocked damage to the attacker upon a successful block. Branches from "),d(391,"strong"),f(392,"Victory Rush"),u(),f(393,"."),u(),d(394,"li")(395,"strong"),f(396,"Second Wind"),u(),f(397," is a new 5 rank skill in the Defence tree, which will negate a killing blow made against you and restore 6% of your maximum health per rank, once per battle. Branches from "),d(398,"strong"),f(399,"Last Bastion"),u(),f(400,"."),u(),d(401,"li")(402,"strong"),f(403,"Bountiful Bags"),u(),f(404," is a new 5 rank skill in the Support tree, which increases your inventory size by 4 slots per rank. Branches from "),d(405,"strong"),f(406,"Five Finger Discount"),u(),f(407,"."),u(),d(408,"li")(409,"strong"),f(410,"Brewmaster"),u(),f(411," is a new 5 rank skill in the Support tree, which gives a 1% chance per rank to not consume a potion charge when used. Branches from "),d(412,"strong"),f(413,"Master Tinkerer"),u(),f(414,"."),u(),d(415,"li")(416,"strong"),f(417,"Medic's Intuition"),u(),f(418," is a new single rank skill in the Support tree, which additively increases healing from potions by 10%. Branches from "),d(419,"strong"),f(420,"Brewmaster"),u(),f(421,"."),u(),d(422,"li")(423,"strong"),f(424,"Saboteur's Intuition"),u(),f(425," is a new single rank skill in the Support tree, which causes debuff potions to apply the superior versions of their debuffs. Branches from "),d(426,"strong"),f(427,"Brewmaster"),u(),f(428,"."),u(),d(429,"li")(430,"strong"),f(431,"Alchemist's Intuition"),u(),f(432," is a new single rank skill in the Support tree, which additively increases the chance of receiving a potion drop by 5%. Branches from "),d(433,"strong"),f(434,"Brewmaster"),u(),f(435,"."),u()()(),d(436,"li"),f(437," Miscellaneous Changes "),d(438,"ul")(439,"li"),f(440," The game is now built in Angular, as opposed to raw JavaScript. As a result of this, there should no longer be issues with UI elements occasionally not responding to interactions. "),u(),d(441,"li"),f(442," All badges relating to reaching maximum levels with specific skills have been removed, due to the introduction of the new skill tree. "),u(),d(443,"li"),f(444," A few of the special items have had their debuffs modified. "),u(),d(445,"li"),f(446," The inventory is now capped at a baseline of 30 slots, and is now a single unified collection instead of individual sections per item type. "),u(),d(447,"li"),f(448," A new zone has been added. "),u(),d(449,"li"),f(450," A new badge, "),d(451,"strong"),f(452,"Terminally Unimaginative"),u(),f(453,", is awarded for reaching level 50 without providing custom names or descriptions for anything. "),u(),d(454,"li"),f(455," A new badge, "),d(456,"strong"),f(457,"Good Enough for Me"),u(),f(458,", is awarded for interrupting the equipment repair process by manually entering combat. "),u(),d(459,"li"),f(460," The automatic inventory management system now supports discarding items, as well as the existing sell/scrap/ignore options. "),u(),d(461,"li"),f(462," Fixed an issue where the default debuff name was not being applied if the dialogue was left blank. "),u(),d(463,"li"),f(464," Fixed an issue where the random debuff reforge could not select the 'Sleep' debuff. "),u(),d(465,"li"),f(466," Fixed an issue where the chance of randomly generating a 'Great' item was lower than it should have been. "),u(),d(467,"li"),f(468," Fixed an issue where the badges 'Flawless Victory' and 'MC Hammer Special' would not be granted if all incoming attacks were negated via Divine Shield. "),u()()()()())}let cF=(()=>{class t{constructor(e){this.playerService=e}ngOnInit(){this.playerService.getPlayer().subscribe(e=>this.player=e)}}return t.\u0275fac=function(e){return new(e||t)(E(Ie))},t.\u0275cmp=Ye({type:t,selectors:[["app-updates"]],decls:1,vars:1,consts:[["style","padding: 0 2rem",4,"ngIf"],[2,"padding","0 2rem"],[1,"powerHeader"]],template:function(e,r){1&e&&P(0,lF,469,0,"div",0),2&e&&v("ngIf",8===r.player.selectedTab)},dependencies:[tt]}),t})();function uF(t,n){if(1&t){const e=pe();d(0,"span")(1,"button",7),C("click",function(){M(e);const i=b(2);return I(i.skillService.lowerLevel(i.skill.id))}),f(2,"-1 point"),u()()}}function dF(t,n){if(1&t){const e=pe();d(0,"button",9),C("click",function(){M(e);const i=b(3);return I(i.skillService.raiseLevel(i.skill.id))}),f(1,"+1 point"),u()}}function fF(t,n){if(1&t&&(d(0,"span"),P(1,dF,2,0,"button",8),u()),2&t){const e=b(2);g(1),v("ngIf",e.player.skillPoints>0)}}function hF(t,n){if(1&t&&(d(0,"div",1)(1,"table",2)(2,"tr")(3,"td",3)(4,"strong"),f(5),u(),d(6,"span",4),f(7),u(),T(8,"br"),f(9),u()(),d(10,"tr")(11,"td",5),P(12,uF,3,0,"span",6),u(),d(13,"td",5),P(14,fF,2,1,"span",6),u()()()()),2&t){const e=b();j("fadeOut",!e.skillService.isVisible(e.skill)),g(5),an(e.skill.name),g(2),ln("(",e.skillService.getPlayerSkillLevel(e.skill.id),"/",e.skillService.getSkill(e.skill.id).maxLevel,")"),g(2),ce(" ",e.skillService.getSkillDescription(e.skillService.getPlayerSkill(e.skill))," "),g(3),v("ngIf",e.skillService.isVisible(e.skill)&&e.skillService.getPlayerSkill(e.skill).level>=1),g(2),v("ngIf",e.skillService.isVisible(e.skill)&&e.skillService.getPlayerSkill(e.skill).level<e.skill.maxLevel)}}let pF=(()=>{class t{constructor(e,r){this.playerService=e,this.skillService=r}ngOnInit(){this.playerService.getPlayer().subscribe(e=>this.player=e)}}return t.\u0275fac=function(e){return new(e||t)(E(Ie),E(Vr))},t.\u0275cmp=Ye({type:t,selectors:[["app-skill-card"]],inputs:{skill:"skill"},decls:1,vars:1,consts:[["class","cardRoot",3,"fadeOut",4,"ngIf"],[1,"cardRoot"],[1,"cardWrapper"],["colspan","4"],[2,"float","right"],["colspan","2"],[4,"ngIf"],["type","button",1,"buttonDown",3,"click"],["type","button","class","buttonUp",3,"click",4,"ngIf"],["type","button",1,"buttonUp",3,"click"]],template:function(e,r){1&e&&P(0,hF,15,8,"div",0),2&e&&v("ngIf",r.skill)},dependencies:[tt],styles:[".cardRoot[_ngcontent-%COMP%]{display:inline}.cardWrapper[_ngcontent-%COMP%]{text-align:left;background-color:#400;width:100%!important;border:1px solid #b0b0b0;border-radius:0;-moz-border-radius:0px;-webkit-border-radius:0px;margin:2px;display:inline-table;vertical-align:top;table-layout:fixed}.fadeOut[_ngcontent-%COMP%]{opacity:.2!important}.buttonUp[_ngcontent-%COMP%]{color:#aaa;background-color:#060;border:1px solid #aaa;width:100%}.buttonDown[_ngcontent-%COMP%]{color:#aaa;background-color:#600;border:1px solid #aaa;width:100%}"]}),t})();function gF(t,n){if(1&t&&(d(0,"table",5)(1,"tr")(2,"td",6),f(3,"\xa0"),u(),d(4,"td",6),f(5,"\xa0"),u(),d(6,"td",6),f(7,"\xa0"),u(),d(8,"td",6),f(9,"\xa0"),u(),d(10,"td",6),f(11,"\xa0"),u()(),d(12,"tr")(13,"td",7),T(14,"app-skill-card",8),u(),T(15,"td"),d(16,"td"),T(17,"app-skill-card",8),u(),T(18,"td")(19,"td"),u(),d(20,"tr")(21,"td"),T(22,"app-skill-card",8),u(),d(23,"td"),T(24,"app-skill-card",8),u(),T(25,"td"),d(26,"td"),T(27,"app-skill-card",8),u()(),d(28,"tr"),T(29,"td"),d(30,"td"),T(31,"app-skill-card",8),u(),d(32,"td"),T(33,"app-skill-card",8),u(),d(34,"td"),T(35,"app-skill-card",8),u(),d(36,"td"),T(37,"app-skill-card",8),u()(),d(38,"tr")(39,"td"),T(40,"app-skill-card",8),u(),d(41,"td"),T(42,"app-skill-card",8),u(),d(43,"td"),T(44,"app-skill-card",8),u(),d(45,"td"),T(46,"app-skill-card",8),u(),d(47,"td"),T(48,"app-skill-card",8),u()(),d(49,"tr")(50,"td"),T(51,"app-skill-card",8),u(),d(52,"td"),T(53,"app-skill-card",8),u(),d(54,"td"),T(55,"app-skill-card",8),u(),d(56,"td"),T(57,"app-skill-card",8),u(),T(58,"td"),u(),d(59,"tr"),T(60,"td"),d(61,"td"),T(62,"app-skill-card",8),u(),d(63,"td"),T(64,"app-skill-card",8),u(),d(65,"td"),T(66,"app-skill-card",8),u()()()),2&t){const e=b(2);g(14),v("skill",e.skills[56]),g(3),v("skill",e.skills[0]),g(5),v("skill",e.skills[1]),g(2),v("skill",e.skills[2]),g(3),v("skill",e.skills[57]),g(4),v("skill",e.skills[3]),g(2),v("skill",e.skills[4]),g(2),v("skill",e.skills[12]),g(2),v("skill",e.skills[53]),g(3),v("skill",e.skills[8]),g(2),v("skill",e.skills[5]),g(2),v("skill",e.skills[6]),g(2),v("skill",e.skills[55]),g(2),v("skill",e.skills[54]),g(3),v("skill",e.skills[13]),g(2),v("skill",e.skills[9]),g(2),v("skill",e.skills[11]),g(2),v("skill",e.skills[10]),g(5),v("skill",e.skills[14]),g(2),v("skill",e.skills[15]),g(2),v("skill",e.skills[7])}}function mF(t,n){if(1&t&&(d(0,"table",5)(1,"tr")(2,"td",6),f(3,"\xa0"),u(),d(4,"td",6),f(5,"\xa0"),u(),d(6,"td",6),f(7,"\xa0"),u(),d(8,"td",6),f(9,"\xa0"),u(),d(10,"td",6),f(11,"\xa0"),u()(),d(12,"tr"),T(13,"td")(14,"td"),d(15,"td"),T(16,"app-skill-card",8),u(),T(17,"td")(18,"td"),u(),d(19,"tr"),T(20,"td"),d(21,"td"),T(22,"app-skill-card",8),u(),d(23,"td"),T(24,"app-skill-card",8),u(),d(25,"td"),T(26,"app-skill-card",8),u(),T(27,"td"),u(),d(28,"tr")(29,"td"),T(30,"app-skill-card",8),u(),d(31,"td"),T(32,"app-skill-card",8),u(),d(33,"td"),T(34,"app-skill-card",8),u(),d(35,"td"),T(36,"app-skill-card",8),u(),d(37,"td"),T(38,"app-skill-card",8),u()(),d(39,"tr")(40,"td"),T(41,"app-skill-card",8),u(),d(42,"td"),T(43,"app-skill-card",8),u(),d(44,"td"),T(45,"app-skill-card",8),u(),d(46,"td"),T(47,"app-skill-card",8),u(),d(48,"td"),T(49,"app-skill-card",8),u()(),d(50,"tr")(51,"td"),T(52,"app-skill-card",8),u(),d(53,"td"),T(54,"app-skill-card",8),u(),d(55,"td"),T(56,"app-skill-card",8),u(),d(57,"td"),T(58,"app-skill-card",8),u(),T(59,"td"),u(),d(60,"tr"),T(61,"td")(62,"td"),d(63,"td"),T(64,"app-skill-card",8),u(),T(65,"td")(66,"td"),u()()),2&t){const e=b(2);g(16),v("skill",e.skills[16]),g(6),v("skill",e.skills[17]),g(2),v("skill",e.skills[18]),g(2),v("skill",e.skills[20]),g(4),v("skill",e.skills[23]),g(2),v("skill",e.skills[19]),g(2),v("skill",e.skills[28]),g(2),v("skill",e.skills[21]),g(2),v("skill",e.skills[30]),g(3),v("skill",e.skills[22]),g(2),v("skill",e.skills[33]),g(2),v("skill",e.skills[29]),g(2),v("skill",e.skills[31]),g(2),v("skill",e.skills[26]),g(3),v("skill",e.skills[27]),g(2),v("skill",e.skills[34]),g(2),v("skill",e.skills[32]),g(2),v("skill",e.skills[24]),g(6),v("skill",e.skills[25])}}function yF(t,n){if(1&t&&(d(0,"table",5)(1,"tr")(2,"td",6),f(3,"\xa0"),u(),d(4,"td",6),f(5,"\xa0"),u(),d(6,"td",6),f(7,"\xa0"),u(),d(8,"td",6),f(9,"\xa0"),u(),d(10,"td",6),f(11,"\xa0"),u()(),d(12,"tr"),T(13,"td")(14,"td"),d(15,"td"),T(16,"app-skill-card",8),u(),T(17,"td")(18,"td"),u(),d(19,"tr"),T(20,"td")(21,"td"),d(22,"td"),T(23,"app-skill-card",8),u(),d(24,"td"),T(25,"app-skill-card",8),u(),d(26,"td"),T(27,"app-skill-card",8),u(),T(28,"td"),u(),d(29,"tr"),T(30,"td"),d(31,"td"),T(32,"app-skill-card",8),u(),d(33,"td"),T(34,"app-skill-card",8),u(),d(35,"td"),T(36,"app-skill-card",8),u(),T(37,"td"),u(),d(38,"tr")(39,"td"),T(40,"app-skill-card",8),u(),d(41,"td"),T(42,"app-skill-card",8),u(),d(43,"td"),T(44,"app-skill-card",8),u(),d(45,"td"),T(46,"app-skill-card",8),u(),d(47,"td"),T(48,"app-skill-card",8),u()(),d(49,"tr"),T(50,"td"),d(51,"td"),T(52,"app-skill-card",8),u(),d(53,"td"),T(54,"app-skill-card",8),u(),d(55,"td"),T(56,"app-skill-card",8),u(),T(57,"td"),u(),d(58,"tr")(59,"td"),T(60,"app-skill-card",8),u(),d(61,"td"),T(62,"app-skill-card",8),u(),d(63,"td"),T(64,"app-skill-card",8),u(),T(65,"td")(66,"td"),u()()),2&t){const e=b(2);g(16),v("skill",e.skills[35]),g(7),v("skill",e.skills[36]),g(2),v("skill",e.skills[37]),g(2),v("skill",e.skills[49]),g(5),v("skill",e.skills[38]),g(2),v("skill",e.skills[39]),g(2),v("skill",e.skills[45]),g(4),v("skill",e.skills[41]),g(2),v("skill",e.skills[42]),g(2),v("skill",e.skills[44]),g(2),v("skill",e.skills[43]),g(2),v("skill",e.skills[46]),g(4),v("skill",e.skills[48]),g(2),v("skill",e.skills[50]),g(2),v("skill",e.skills[47]),g(4),v("skill",e.skills[51]),g(2),v("skill",e.skills[52]),g(2),v("skill",e.skills[40])}}function _F(t,n){if(1&t){const e=pe();d(0,"div")(1,"div",1),f(2),u(),d(3,"div",2)(4,"span",3),C("click",function(){return M(e),I(b().player.selectedSkillTree=1)}),f(5," Support Skills"),u(),d(6,"span",3),C("click",function(){return M(e),I(b().player.selectedSkillTree=2)}),f(7," Offensive Skills"),u(),d(8,"span",3),C("click",function(){return M(e),I(b().player.selectedSkillTree=3)}),f(9," Defensive Skills"),u()(),P(10,gF,67,21,"table",4),P(11,mF,67,19,"table",4),P(12,yF,67,18,"table",4),u()}if(2&t){const e=b();g(2),ce(" Available Skill Points: ",e.player.skillPoints," "),g(2),j("tableButtonSelected",1===e.player.selectedSkillTree),g(2),j("tableButtonSelected",2===e.player.selectedSkillTree),g(2),j("tableButtonSelected",3===e.player.selectedSkillTree),g(2),v("ngIf",1===e.player.selectedSkillTree),g(1),v("ngIf",2===e.player.selectedSkillTree),g(1),v("ngIf",3===e.player.selectedSkillTree)}}let vF=(()=>{class t{constructor(e,r){this.playerService=e,this.skillService=r}ngOnInit(){this.playerService.getPlayer().subscribe(e=>this.player=e),this.skillService.getSkillTree().subscribe(e=>this.skills=e)}}return t.\u0275fac=function(e){return new(e||t)(E(Ie),E(Vr))},t.\u0275cmp=Ye({type:t,selectors:[["app-skills"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"subHeader",2,"text-align","center"],[2,"text-align","center"],[1,"tableButton",3,"click"],["style","table-layout:fixed","class","tableStuff",4,"ngIf"],[1,"tableStuff",2,"table-layout","fixed"],[2,"width","20%","height","1px"],["rowspan","2"],[3,"skill"]],template:function(e,r){1&e&&P(0,_F,13,10,"div",0),2&e&&v("ngIf",4===r.player.selectedTab)},dependencies:[tt,pF],styles:[".skill[_ngcontent-%COMP%]{display:inline-block;width:auto;max-width:45%;border:2px outset #777;margin:2px;padding:3px}.skillButtonBlock[_ngcontent-%COMP%]{float:right;display:inline-block}.buttonUp[_ngcontent-%COMP%]{color:#aaa;background-color:#060;border:1px solid #aaa}.buttonDown[_ngcontent-%COMP%]{color:#aaa;background-color:#600;border:1px solid #aaa}.tableStuff[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:top}"]}),t})();function bF(t,n){if(1&t){const e=pe();d(0,"span")(1,"span",6),C("click",function(){M(e);const i=b(2);return I(i.inventoryService.toggleLock(i.item))}),T(2,"i",7),f(3,"\xa0"),u()()}if(2&t){const e=b(2);g(2),j("fa-lock",e.item.locked)("fa-unlock",!e.item.locked)}}function wF(t,n){if(1&t&&(d(0,"td",8),f(1),u()),2&t){const e=b(2);g(1),ce(" Level ",e.item.level," ")}}function DF(t,n){1&t&&(d(0,"span"),f(1,"Melee"),u())}function SF(t,n){1&t&&(d(0,"span"),f(1,"Ranged"),u())}function CF(t,n){1&t&&(d(0,"span"),f(1,"Magic"),u())}function EF(t,n){if(1&t&&(d(0,"tr")(1,"td",9),f(2),P(3,DF,2,0,"span",4),P(4,SF,2,0,"span",4),P(5,CF,2,0,"span",4),f(6),qn(7,"number"),u(),d(8,"td",8),f(9),u()()),2&t){const e=b(2);g(2),ln(" ",e.item.w_minDamage," - ",e.item.w_maxDamage," "),g(1),v("ngIf",1===e.item.w_damageType),g(1),v("ngIf",2===e.item.w_damageType),g(1),v("ngIf",3===e.item.w_damageType),g(1),ce(" damage (",zn(7,7,e.item.w_dps,"0.0-2")," DPS) "),g(3),ce(" Speed ",e.item.w_speed," ")}}function TF(t,n){if(1&t&&(d(0,"td",9),f(1),u()),2&t){const e=b(3);g(1),lr(" ",e.item.w_debuff.name," (",e.item.w_debuff.typeString,") - ",e.item.w_debuff.duration," sec. ")}}function kF(t,n){1&t&&(d(0,"td",9),f(1," \xa0 "),u())}function MF(t,n){if(1&t&&(d(0,"tr"),P(1,TF,2,3,"td",10),P(2,kF,2,0,"td",10),d(3,"td",8),f(4),u()()),2&t){const e=b(2);g(1),v("ngIf",e.item.w_debuff),g(1),v("ngIf",!e.item.w_debuff),g(2),ce(" ",e.item.durability," uses ")}}function IF(t,n){if(1&t&&(d(0,"span",13),f(1),u()),2&t){const e=b(4);g(1),ce("+",e.item.a_flatMeleeBlock," Melee")}}function AF(t,n){if(1&t&&(d(0,"span",14),f(1),u()),2&t){const e=b(4);g(1),ce("-",e.item.a_flatMeleeWeak," Melee")}}function PF(t,n){if(1&t&&(d(0,"td"),P(1,IF,2,1,"span",11),P(2,AF,2,1,"span",12),u()),2&t){const e=b(3);g(1),v("ngIf",e.item.a_flatMeleeBlock>0),g(1),v("ngIf",e.item.a_flatMeleeWeak>0)}}function NF(t,n){if(1&t&&(d(0,"span",13),f(1),u()),2&t){const e=b(4);g(1),ce("+",e.item.a_flatRangeBlock," Ranged")}}function xF(t,n){if(1&t&&(d(0,"span",14),f(1),u()),2&t){const e=b(4);g(1),ce("-",e.item.a_flatRangeWeak," Ranged")}}function RF(t,n){if(1&t&&(d(0,"td"),P(1,NF,2,1,"span",11),P(2,xF,2,1,"span",12),u()),2&t){const e=b(3);g(1),v("ngIf",e.item.a_flatRangeBlock>0),g(1),v("ngIf",e.item.a_flatRangeWeak>0)}}function OF(t,n){if(1&t&&(d(0,"span",13),f(1),u()),2&t){const e=b(4);g(1),ce("+",e.item.a_flatMagicBlock," Magic")}}function FF(t,n){if(1&t&&(d(0,"span",14),f(1),u()),2&t){const e=b(4);g(1),ce("-",e.item.a_flatMagicWeak," Magic")}}function LF(t,n){if(1&t&&(d(0,"td"),P(1,OF,2,1,"span",11),P(2,FF,2,1,"span",12),u()),2&t){const e=b(3);g(1),v("ngIf",e.item.a_flatMagicBlock>0),g(1),v("ngIf",e.item.a_flatMagicWeak>0)}}function BF(t,n){if(1&t&&(d(0,"tr"),P(1,PF,3,2,"td",4),P(2,RF,3,2,"td",4),P(3,LF,3,2,"td",4),d(4,"td",8),f(5),u()()),2&t){const e=b(2);g(1),v("ngIf",e.item.a_flatMeleeBlock!==e.item.a_flatMeleeWeak),g(1),v("ngIf",e.item.a_flatRangeBlock!==e.item.a_flatRangeWeak),g(1),v("ngIf",e.item.a_flatMagicBlock!==e.item.a_flatMagicWeak),g(1),Mt("colspan",1+(e.item.a_flatMeleeBlock===e.item.a_flatMeleeWeak||e.item.a_flatRangeBlock===e.item.a_flatRangeWeak||e.item.a_flatMagicBlock===e.item.a_flatMagicWeak?1:0)),g(1),ce(" ",e.item.durability," uses ")}}function VF(t,n){1&t&&(d(0,"tr")(1,"td"),f(2," \xa0 "),u()())}function HF(t,n){if(1&t&&(d(0,"td",9),f(1),u()),2&t){const e=b(3);g(1),lr(" ",e.item.p_debuff.name," (",e.item.p_debuff.typeString,") - ",e.item.p_debuff.duration," sec. ")}}function GF(t,n){1&t&&(d(0,"td",9),f(1," \xa0 "),u())}function jF(t,n){if(1&t&&(d(0,"tr"),P(1,HF,2,3,"td",10),P(2,GF,2,0,"td",10),d(3,"td",8),f(4),u()()),2&t){const e=b(2);g(1),v("ngIf",e.item.p_debuff),g(1),v("ngIf",!e.item.p_debuff),g(2),ce(" ",e.item.p_count," doses ")}}function $F(t,n){if(1&t&&(d(0,"td",16),f(1),u()),2&t){const e=b(3);g(1),ce(" ",e.item.description," ")}}function UF(t,n){1&t&&(d(0,"td",9),f(1," \xa0 "),u())}function WF(t,n){if(1&t){const e=pe();d(0,"td")(1,"div",17),C("click",function(){return M(e),I(b(3).inventoryService.startRepair())}),f(2,"Repair"),u()()}}function qF(t,n){if(1&t){const e=pe();d(0,"td")(1,"div",17),C("click",function(){return M(e),I(b(3).combatService.usePotion())}),f(2,"Use"),u()()}}function zF(t,n){if(1&t&&(d(0,"tr"),P(1,$F,2,1,"td",15),P(2,UF,2,0,"td",10),P(3,WF,3,0,"td",4),P(4,qF,3,0,"td",4),u()),2&t){const e=b(2);g(1),v("ngIf",e.item.description),g(1),v("ngIf",!e.item.description),g(1),v("ngIf",(e.item===e.player.weapon||e.item===e.player.armour)&&6!==e.player.selectedTab&&2!==e.player.gameState),g(1),v("ngIf",e.item===e.player.potion&&e.item.p_count>0&&2===e.player.selectedTab&&2===e.player.gameState&&!e.player.cb_potionUsed)}}function ZF(t,n){if(1&t){const e=pe();d(0,"tr")(1,"td")(2,"div",17),C("click",function(){M(e);const i=b(2);return I(i.inventoryService.equipItem(i.item))}),f(3,"Equip"),u()(),d(4,"td")(5,"div",17),C("click",function(){M(e);const i=b(2);return I(i.inventoryService.sellItem(i.item))}),f(6,"Sell"),u()(),d(7,"td")(8,"div",17),C("click",function(){M(e);const i=b(2);return I(i.inventoryService.scrapItem(i.item))}),f(9,"Scrap"),u()(),d(10,"td")(11,"div",17),C("click",function(){M(e);const i=b(2);return I(i.inventoryService.discardItem(i.item))}),f(12,"Discard"),u()()()}}function YF(t,n){if(1&t){const e=pe();d(0,"div",17),C("click",function(){M(e);const i=b(3);return I(i.storeService.buyItem(i.item))}),f(1),u()}if(2&t){const e=b(3);g(1),ce("Purchase: ",e.storeService.getSeedUpgradeCost(e.item)," seeds")}}function QF(t,n){if(1&t){const e=pe();d(0,"div",17),C("click",function(){M(e);const i=b(3);return I(i.storeService.buyItem(i.item))}),f(1),u()}if(2&t){const e=b(3);g(1),ce("Purchase: ",e.storeService.getPotionCost()," seeds")}}function KF(t,n){if(1&t&&(d(0,"tr")(1,"td",18),P(2,YF,2,1,"div",19),P(3,QF,2,1,"div",19),u()()),2&t){const e=b(2);g(2),v("ngIf",3!==e.item.itemType),g(1),v("ngIf",3==e.item.itemType)}}function XF(t,n){if(1&t){const e=pe();d(0,"div",17),C("click",function(){M(e);const i=b(3);return I(i.storeService.upgradeItemQuality(i.item))}),f(1),u()}if(2&t){const e=b(3);g(1),ce("Quality Up: ",e.storeService.getScrapUpgradeCost(e.item)," scrap")}}function JF(t,n){if(1&t){const e=pe();d(0,"tr")(1,"td",20)(2,"div",17),C("click",function(){M(e);const i=b(2);return I(i.storeService.upgradeItemLevel(i.item))}),f(3),u()(),d(4,"td",20),P(5,XF,2,1,"div",19),u()()}if(2&t){const e=b(2);g(3),ce("+1 Level: ",e.storeService.getSeedUpgradeCost(e.item)," seeds"),g(2),v("ngIf",e.item.quality<5)}}function eL(t,n){if(1&t&&(d(0,"div",1)(1,"table",2)(2,"tr")(3,"td",3),P(4,bF,4,4,"span",4),f(5),u(),P(6,wF,2,1,"td",5),u(),P(7,EF,10,10,"tr",4),P(8,MF,5,3,"tr",4),P(9,BF,6,5,"tr",4),P(10,VF,3,0,"tr",4),P(11,jF,5,3,"tr",4),P(12,zF,5,4,"tr",4),P(13,ZF,13,0,"tr",4),P(14,KF,4,2,"tr",4),P(15,JF,6,2,"tr",4),u()()),2&t){const e=b();g(3),j("q1",1==e.item.quality)("q2",2==e.item.quality)("q3",3==e.item.quality)("q4",4==e.item.quality)("q5",5==e.item.quality)("q6",6==e.item.quality),g(1),v("ngIf",5===e.player.selectedTab),g(1),ce(" ",e.item.name," "),g(1),v("ngIf",3!==e.item.itemType),g(1),v("ngIf",1===e.item.itemType),g(1),v("ngIf",1===e.item.itemType),g(1),v("ngIf",2===e.item.itemType),g(1),v("ngIf",2===e.item.itemType),g(1),v("ngIf",3===e.item.itemType),g(1),v("ngIf",e.item.itemType<=3),g(1),v("ngIf",5===e.player.selectedTab&&e.item!==e.player.weapon&&e.item!==e.player.armour&&e.item!==e.player.potion),g(1),v("ngIf",6===e.player.selectedTab&&e.item!==e.player.weapon&&e.item!==e.player.armour),g(1),v("ngIf",6===e.player.selectedTab&&(e.item==e.player.weapon||e.item==e.player.armour))}}let kf=(()=>{class t{constructor(e,r,i,o,s){this.playerService=e,this.inventoryService=r,this.storeService=i,this.combatService=o,this.badgeService=s}keyEvent(e){"r"===e.key&&(this.badgeService.updateBadgeProgress(6,1),this.inventoryService.startRepair())}ngOnInit(){this.playerService.getPlayer().subscribe(e=>this.player=e)}}return t.\u0275fac=function(e){return new(e||t)(E(Ie),E(Li),E(vl),E(Jo),E(Qt))},t.\u0275cmp=Ye({type:t,selectors:[["app-item-card"]],hostBindings:function(e,r){1&e&&C("keyup",function(o){return r.keyEvent(o)},0,yo)},inputs:{item:"item"},decls:1,vars:1,consts:[["class","cardRoot",4,"ngIf"],[1,"cardRoot"],[1,"cardWrapper"],["colspan","3",2,"font-size","16px"],[4,"ngIf"],["style","text-align:right;",4,"ngIf"],[3,"click"],[1,"fa"],[2,"text-align","right"],["colspan","3"],["colspan","3",4,"ngIf"],["style","color:#33cc33;",4,"ngIf"],["style","color:red;",4,"ngIf"],[2,"color","#33cc33"],[2,"color","red"],["colspan","3","style","font-style:italic;",4,"ngIf"],["colspan","3",2,"font-style","italic"],[1,"cardButton",3,"click"],["colspan","4"],["class","cardButton",3,"click",4,"ngIf"],["colspan","2"]],template:function(e,r){1&e&&P(0,eL,16,24,"div",0),2&e&&v("ngIf",r.item)},dependencies:[tt,Ov],styles:[".cardRoot[_ngcontent-%COMP%]{display:inline}.cardWrapper[_ngcontent-%COMP%]{text-align:left;background-color:#400;width:350px!important;border:1px solid #b0b0b0;border-radius:0;-moz-border-radius:0px;-webkit-border-radius:0px;margin:10px 10px 10px 0;display:inline-table;vertical-align:top;table-layout:fixed}.cardButton[_ngcontent-%COMP%]{width:100%;height:100%;display:block;cursor:pointer;border:1px solid #888888;text-align:center}.cardButton[_ngcontent-%COMP%]:hover{background-color:#700!important}.q1[_ngcontent-%COMP%]{color:gray;font-weight:700}.q2[_ngcontent-%COMP%]{color:#fff;font-weight:700}.q3[_ngcontent-%COMP%]{color:#3c3;font-weight:700}.q4[_ngcontent-%COMP%]{color:#4d94ff;font-weight:700}.q5[_ngcontent-%COMP%]{color:#e600e6;font-weight:700}.q6[_ngcontent-%COMP%]{color:#ffbf00;font-weight:700}"]}),t})();function tL(t,n){if(1&t&&(d(0,"div"),T(1,"app-item-card",5),u()),2&t){const e=n.$implicit;g(1),v("item",e)}}function nL(t,n){if(1&t){const e=pe();d(0,"div")(1,"table",1)(2,"tr")(3,"td")(4,"span",2),f(5,"Equipped Items"),u()()(),d(6,"tr")(7,"td",3)(8,"div",4),T(9,"app-item-card",5),u(),d(10,"div",4),T(11,"app-item-card",5),u(),d(12,"div",4),T(13,"app-item-card",5),u()()(),d(14,"tr")(15,"td")(16,"span",2),f(17),u(),d(18,"span",6),C("click",function(){return M(e),I(b().inventoryService.cleanInventory())}),f(19,"Clean Inventory"),u()()(),d(20,"tr")(21,"td",3),P(22,tL,2,1,"div",7),u()()()()}if(2&t){const e=b();g(9),v("item",e.player.weapon),g(2),v("item",e.player.armour),g(2),v("item",e.player.potion),g(4),ln("Carried Items (",e.player.inventory.length," / ",e.player.maxInventory,")"),g(5),v("ngForOf",e.player.sortedInventory)}}let rL=(()=>{class t{constructor(e,r){this.playerService=e,this.inventoryService=r}ngOnInit(){this.playerService.getPlayer().subscribe(e=>this.player=e)}}return t.\u0275fac=function(e){return new(e||t)(E(Ie),E(Li))},t.\u0275cmp=Ye({type:t,selectors:[["app-inventory"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"subTable"],[1,"subHeader"],[1,"cardHolder"],[2,"display","inline"],[3,"item"],[1,"tableButton",2,"float","right",3,"click"],[4,"ngFor","ngForOf"]],template:function(e,r){1&e&&P(0,nL,23,6,"div",0),2&e&&v("ngIf",5===r.player.selectedTab)},dependencies:[Pi,tt,kf],styles:[".subTable[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;width:800px;table-layout:fixed}"]}),t})();function iL(t,n){if(1&t&&(d(0,"div",4),T(1,"app-item-card",5),u()),2&t){const e=n.$implicit;g(1),v("item",e)}}function oL(t,n){if(1&t){const e=pe();d(0,"tr")(1,"td")(2,"span",6),C("click",function(){return M(e),I(b(2).gameService.toggleVis("debuffRow"))}),f(3,"Modify Debuffs"),u()()()}}function sL(t,n){if(1&t){const e=pe();d(0,"tr",10)(1,"td")(2,"table",1)(3,"tr")(4,"td",11)(5,"div",12),f(6,"Armour Shred"),u(),d(7,"div",13),f(8,"Causes your attacks to ignore the target's armour resistances for 10 "),d(9,"span",14),f(10,"(15)"),u(),f(11," seconds."),u()(),d(12,"td",15)(13,"span",16),C("click",function(){M(e);const i=b(2);return I(i.storeService.setDebuff(i.player.weapon,!1,1))}),f(14,"Normal (4 scrap)"),u(),d(15,"span",17),C("click",function(){M(e);const i=b(2);return I(i.storeService.setDebuff(i.player.weapon,!0,1))}),f(16,"Superior (8 scrap)"),u()()(),d(17,"tr")(18,"td",11)(19,"div",12),f(20,"Multistrike"),u(),d(21,"div",13),f(22,"Causes your attacks to deal a second hit for 50% "),d(23,"span",14),f(24,"(70%)"),u(),f(25," of the main hit's damage for 10 "),d(26,"span",14),f(27,"(15)"),u(),f(28," seconds."),u()(),d(29,"td",15)(30,"span",16),C("click",function(){M(e);const i=b(2);return I(i.storeService.setDebuff(i.player.weapon,!1,2))}),f(31,"Normal (4 scrap)"),u(),d(32,"span",17),C("click",function(){M(e);const i=b(2);return I(i.storeService.setDebuff(i.player.weapon,!0,2))}),f(33,"Superior (8 scrap)"),u()()(),d(34,"tr")(35,"td",11)(36,"div",12),f(37,"Drain"),u(),d(38,"div",13),f(39,"Causes you to heal for 20% "),d(40,"span",14),f(41,"(30%)"),u(),f(42," of your weapon DPS every second for 10 "),d(43,"span",14),f(44,"(15)"),u(),f(45," seconds."),u()(),d(46,"td",15)(47,"span",16),C("click",function(){M(e);const i=b(2);return I(i.storeService.setDebuff(i.player.weapon,!1,3))}),f(48,"Normal (4 scrap)"),u(),d(49,"span",17),C("click",function(){M(e);const i=b(2);return I(i.storeService.setDebuff(i.player.weapon,!0,3))}),f(50,"Superior (8 scrap)"),u()()(),d(51,"tr")(52,"td",11)(53,"div",12),f(54,"Slow"),u(),d(55,"div",13),f(56,"Increases the delay between the victim's attacks by 15% "),d(57,"span",14),f(58,"(25%)"),u(),f(59," for 10 "),d(60,"span",14),f(61,"(15)"),u(),f(62," seconds."),u()(),d(63,"td",15)(64,"span",16),C("click",function(){M(e);const i=b(2);return I(i.storeService.setDebuff(i.player.weapon,!1,4))}),f(65,"Normal (4 scrap)"),u(),d(66,"span",17),C("click",function(){M(e);const i=b(2);return I(i.storeService.setDebuff(i.player.weapon,!0,4))}),f(67,"Superior (8 scrap)"),u()()(),d(68,"tr")(69,"td",11)(70,"div",12),f(71,"Confuse"),u(),d(72,"div",13),f(73,"Causes the victim's next attack to be directed at themselves. This debuff doesn't have a normal version."),u()(),d(74,"td",15)(75,"span",18),f(76,"Normal (4 scrap)"),u(),d(77,"span",17),C("click",function(){M(e);const i=b(2);return I(i.storeService.setDebuff(i.player.weapon,!0,5))}),f(78,"Superior (8 scrap)"),u()()(),d(79,"tr")(80,"td",11)(81,"div",12),f(82,"Bleed"),u(),d(83,"div",13),f(84,"Deals 20% "),d(85,"span",14),f(86,"(30%)"),u(),f(87," of weapon DPS to the victim every second for 10 "),d(88,"span",14),f(89,"(15)"),u(),f(90," seconds, ignoring resistances."),u()(),d(91,"td",15)(92,"span",16),C("click",function(){M(e);const i=b(2);return I(i.storeService.setDebuff(i.player.weapon,!1,6))}),f(93,"Normal (4 scrap)"),u(),d(94,"span",17),C("click",function(){M(e);const i=b(2);return I(i.storeService.setDebuff(i.player.weapon,!0,6))}),f(95,"Superior (8 scrap)"),u()()(),d(96,"tr")(97,"td",11)(98,"div",12),f(99,"Paralysis"),u(),d(100,"div",13),f(101,"Causes the victim's attacks to be interrupted 15% "),d(102,"span",14),f(103,"(25%)"),u(),f(104," of the time for 10 "),d(105,"span",14),f(106,"(15)"),u(),f(107," seconds."),u()(),d(108,"td",15)(109,"span",16),C("click",function(){M(e);const i=b(2);return I(i.storeService.setDebuff(i.player.weapon,!1,7))}),f(110,"Normal (4 scrap)"),u(),d(111,"span",17),C("click",function(){M(e);const i=b(2);return I(i.storeService.setDebuff(i.player.weapon,!0,7))}),f(112,"Superior (8 scrap)"),u()()(),d(113,"tr")(114,"td",11)(115,"div",12),f(116,"Doom"),u(),d(117,"div",13),f(118,"The victim has a 5% "),d(119,"span",14),f(120,"(7%)"),u(),f(121," chance to instantly die when this debuff expires. If they are not instantly killed, they take 250% "),d(122,"span",14),f(123,"(350%)"),u(),f(124," of weapon DPS instead."),u()(),d(125,"td",15)(126,"span",16),C("click",function(){M(e);const i=b(2);return I(i.storeService.setDebuff(i.player.weapon,!1,8))}),f(127,"Normal (4 scrap)"),u(),d(128,"span",17),C("click",function(){M(e);const i=b(2);return I(i.storeService.setDebuff(i.player.weapon,!0,8))}),f(129,"Superior (8 scrap)"),u()()(),d(130,"tr")(131,"td",11)(132,"div",12),f(133,"Disarm"),u(),d(134,"div",13),f(135,"Halves the victim's damage output and prevents them from applying debuffs for 10 "),d(136,"span",14),f(137,"(15)"),u(),f(138," seconds."),u()(),d(139,"td",15)(140,"span",16),C("click",function(){M(e);const i=b(2);return I(i.storeService.setDebuff(i.player.weapon,!1,9))}),f(141,"Normal (4 scrap)"),u(),d(142,"span",17),C("click",function(){M(e);const i=b(2);return I(i.storeService.setDebuff(i.player.weapon,!0,9))}),f(143,"Superior (8 scrap)"),u()()(),d(144,"tr")(145,"td",11)(146,"div",12),f(147,"Sleep"),u(),d(148,"div",13),f(149,"Prevents the victim from attacking for 10 "),d(150,"span",14),f(151,"(15)"),u(),f(152," seconds. Has a 60% "),d(153,"span",14),f(154,"(40%)"),u(),f(155," chance to break when the victim is attacked."),u()(),d(156,"td",15)(157,"span",16),C("click",function(){M(e);const i=b(2);return I(i.storeService.setDebuff(i.player.weapon,!1,10))}),f(158,"Normal (4 scrap)"),u(),d(159,"span",17),C("click",function(){M(e);const i=b(2);return I(i.storeService.setDebuff(i.player.weapon,!0,10))}),f(160,"Superior (8 scrap)"),u()()(),d(161,"tr")(162,"td",11)(163,"div",12),f(164,"Random"),u(),d(165,"div",13),f(166,"Selects a debuff to apply at random from the above list."),u()(),d(167,"td",15)(168,"span",16),C("click",function(){M(e);const i=b(2);return I(i.storeService.setDebuff(i.player.weapon,!1,0))}),f(169,"Normal (1 scrap)"),u(),d(170,"span",17),C("click",function(){M(e);const i=b(2);return I(i.storeService.setDebuff(i.player.weapon,!0,0))}),f(171,"Superior (2 scrap)"),u()()()()()()}}function aL(t,n){if(1&t){const e=pe();d(0,"div")(1,"table",1)(2,"tr")(3,"td")(4,"span",2),f(5,"Equipped Items"),u()()(),d(6,"tr")(7,"td",3)(8,"div",4),T(9,"app-item-card",5),u(),d(10,"div",4),T(11,"app-item-card",5),u(),d(12,"div",4),T(13,"app-item-card",5),u()()(),d(14,"tr")(15,"td")(16,"span",6),C("click",function(){return M(e),I(b().gameService.toggleVis("storeRow"))}),f(17,"Purchase Items"),u()()(),d(18,"tr",7)(19,"td",3),P(20,iL,2,1,"div",8),u()(),P(21,oL,4,0,"tr",0),P(22,sL,172,0,"tr",9),u()()}if(2&t){const e=b();g(9),v("item",e.player.weapon),g(2),v("item",e.player.armour),g(2),v("item",e.player.potion),g(7),v("ngForOf",e.player.storeContents),g(1),v("ngIf",e.player.weapon.quality>=3),g(1),v("ngIf",e.player.weapon.quality>=3)}}let lL=(()=>{class t{constructor(e,r,i){this.storeService=i,this.gameService=e,this.playerService=r}ngOnInit(){this.playerService.getPlayer().subscribe(e=>this.player=e)}}return t.\u0275fac=function(e){return new(e||t)(E(Tf),E(Ie),E(vl))},t.\u0275cmp=Ye({type:t,selectors:[["app-store"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"subTable"],[1,"subHeader"],[1,"cardHolder"],[2,"display","inline"],[3,"item"],["title","Show/Hide",1,"subHeader",2,"text-decoration","underline",3,"click"],[1,"storeRow"],["style","display:inline;",4,"ngFor","ngForOf"],["class","debuffRow",4,"ngIf"],[1,"debuffRow"],["colspan","3"],[2,"font-weight","bold","font-size","18px"],[2,"margin-left","0.5em"],[1,"q3"],["colspan","2",2,"text-align","center"],[1,"tableButton",3,"click"],[1,"q3","tableButton",3,"click"],[1,"tableButton",2,"visibility","hidden"]],template:function(e,r){1&e&&P(0,aL,23,6,"div",0),2&e&&v("ngIf",6===r.player.selectedTab)},dependencies:[Pi,tt,kf],styles:[".subTable[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;width:800px;table-layout:fixed}"]}),t})();function cL(t,n){if(1&t&&(d(0,"div",1)(1,"div",2),f(2),u()()),2&t){const e=b();g(2),ce(" ",e.text," ")}}let uL=(()=>{class t{constructor(e){this.playerService=e}ngOnInit(){this.playerService.getPlayer().subscribe(e=>this.player=e)}}return t.\u0275fac=function(e){return new(e||t)(E(Ie))},t.\u0275cmp=Ye({type:t,selectors:[["app-blank-card"]],inputs:{text:"text"},decls:1,vars:1,consts:[["class","cardRoot",4,"ngIf"],[1,"cardRoot"],[1,"cardWrapper"]],template:function(e,r){1&e&&P(0,cL,3,1,"div",0),2&e&&v("ngIf",r.text)},dependencies:[tt],styles:[".cardWrapper[_ngcontent-%COMP%]{background-color:#400;width:350px!important;border:1px solid #b0b0b0;border-radius:0;-moz-border-radius:0px;-webkit-border-radius:0px;margin:10px 10px 10px 0;display:inline-block;padding:3px;line-height:4em;font-size:18px;font-weight:700;vertical-align:middle;text-align:center;table-layout:fixed}.cardButton[_ngcontent-%COMP%]{width:100%;height:100%;display:block;cursor:pointer;border:1px solid #888888;text-align:center}.cardButton[_ngcontent-%COMP%]:hover{background-color:#700!important}.q1[_ngcontent-%COMP%]{color:gray;font-weight:700}.q2[_ngcontent-%COMP%]{color:#fff;font-weight:700}.q3[_ngcontent-%COMP%]{color:#3c3;font-weight:700}.q4[_ngcontent-%COMP%]{color:#4d94ff;font-weight:700}.q5[_ngcontent-%COMP%]{color:#e600e6;font-weight:700}.q6[_ngcontent-%COMP%]{color:#ffbf00;font-weight:700}"]}),t})();function dL(t,n){if(1&t&&(d(0,"td"),T(1,"app-item-card",2),u()),2&t){const e=b(2);g(1),v("item",e.player.enemy.weapon)}}function fL(t,n){if(1&t){const e=pe();d(0,"td")(1,"app-blank-card",6),C("click",function(){return M(e),I(b(2).combatService.enterCombat(!1,!0))}),u()()}2&t&&(g(1),v("text","Go Hunting"))}function hL(t,n){if(1&t&&(d(0,"td"),T(1,"app-item-card",2),u()),2&t){const e=b(2);g(1),v("item",e.player.enemy.armour)}}function pL(t,n){if(1&t){const e=pe();d(0,"app-blank-card",6),C("click",function(){return M(e),I(b(3).combatService.enterCombat(!0))}),u()}2&t&&v("text","Enter the Boss Lair")}function gL(t,n){if(1&t&&(d(0,"td"),P(1,pL,1,1,"app-blank-card",7),u()),2&t){const e=b(2);g(1),v("ngIf",e.player.level>=e.getCurrentZone().maxLevel)}}function mL(t,n){if(1&t&&(d(0,"td"),T(1,"app-item-card",2),u()),2&t){const e=b(2);g(1),v("item",e.player.potion)}}function yL(t,n){1&t&&(d(0,"td"),T(1,"app-blank-card",8),u()),2&t&&(g(1),v("text","No Potion Available"))}function _L(t,n){if(1&t){const e=pe();d(0,"app-blank-card",6),C("click",function(){return M(e),I(b(3).combatService.burstAttack())}),u()}2&t&&v("text","Wild Swings")}function vL(t,n){if(1&t){const e=pe();d(0,"app-blank-card",6),C("click",function(){return M(e),I(b(3).combatService.burstAttack())}),u()}2&t&&v("text","Burst Attack")}function bL(t,n){if(1&t&&(d(0,"td"),P(1,_L,1,1,"app-blank-card",7),P(2,vL,1,1,"app-blank-card",7),u()),2&t){const e=b(2);g(1),v("ngIf",e.skillService.getPlayerSkillLevel(28)>0),g(1),v("ngIf",0==e.skillService.getPlayerSkillLevel(28))}}function wL(t,n){1&t&&(d(0,"td"),T(1,"app-blank-card",8),u()),2&t&&(g(1),v("text","Burst Attack Recharging"))}function DL(t,n){if(1&t){const e=pe();d(0,"tr")(1,"td",9)(2,"app-blank-card",6),C("click",function(){return M(e),I(b(2).combatService.fleeCombat())}),u()()()}2&t&&(g(2),v("text","Flee From Combat"))}function SL(t,n){if(1&t&&T(0,"div",10),2&t){const e=n.$implicit;v("innerHTML",b(2).combatLogService.showLine(e),Ys)}}function CL(t,n){if(1&t&&(d(0,"div")(1,"table",1)(2,"tr")(3,"td"),T(4,"app-item-card",2),u(),P(5,dL,2,1,"td",0),P(6,fL,2,1,"td",0),u(),d(7,"tr")(8,"td"),T(9,"app-item-card",2),u(),P(10,hL,2,1,"td",0),P(11,gL,2,1,"td",0),u(),d(12,"tr"),P(13,mL,2,1,"td",0),P(14,yL,2,1,"td",0),P(15,bL,3,2,"td",0),P(16,wL,2,1,"td",0),u(),P(17,DL,3,1,"tr",0),d(18,"tr")(19,"td",3)(20,"div",4),f(21,"Combat Log"),u()()(),d(22,"tr")(23,"td",3),P(24,SL,1,1,"div",5),u()()()()),2&t){const e=b();g(4),v("item",e.player.weapon),g(1),v("ngIf",e.player.enemy),g(1),v("ngIf",!e.player.enemy),g(3),v("item",e.player.armour),g(1),v("ngIf",e.player.enemy),g(1),v("ngIf",!e.player.enemy),g(2),v("ngIf",e.player.potion),g(1),v("ngIf",!e.player.potion),g(1),v("ngIf",2===e.player.gameState&&!e.player.cb_specUsed),g(1),v("ngIf",2===e.player.gameState&&e.player.cb_specUsed),g(1),v("ngIf",2===e.player.gameState),g(7),v("ngForOf",e.combatLog)}}let EL=(()=>{class t{constructor(e,r,i,o,s,a){this.playerService=e,this.combatService=r,this.combatLogService=i,this.skillService=o,this.zoneService=s,this.badgeService=a}ngOnInit(){this.playerService.getPlayer().subscribe(e=>this.player=e),this.combatLogService.getCombatLog().subscribe(e=>this.combatLog=e),this.currentZone=this.zoneService.getSpecificZone(this.player.currentZoneID)}keyEvent(e){switch(e.key){case"c":this.badgeService.updateBadgeProgress(6,1),this.combatService.enterCombat(!1,!0);break;case"b":this.badgeService.updateBadgeProgress(6,1),this.combatService.burstAttack();break;case"f":this.badgeService.updateBadgeProgress(6,1),this.combatService.fleeCombat()}}getCurrentZone(){return this.zoneService.getSpecificZone(this.player.currentZoneID)}}return t.\u0275fac=function(e){return new(e||t)(E(Ie),E(Jo),E(Ef),E(Vr),E(Oi),E(Qt))},t.\u0275cmp=Ye({type:t,selectors:[["app-combat"]],hostBindings:function(e,r){1&e&&C("keyup",function(o){return r.keyEvent(o)},0,yo)},decls:1,vars:1,consts:[[4,"ngIf"],[1,"subTable"],[3,"item"],["colspan","2"],[2,"text-align","center","font-size","22px","font-weight","bold"],[3,"innerHTML",4,"ngFor","ngForOf"],[3,"text","click"],[3,"text","click",4,"ngIf"],[3,"text"],["colspan","2",2,"text-align","center"],[3,"innerHTML"]],template:function(e,r){1&e&&P(0,CL,25,12,"div",0),2&e&&v("ngIf",2===r.player.selectedTab)},dependencies:[Pi,tt,kf,uL],styles:[".subTable[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;width:800px;table-layout:fixed}.subTable[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(n+2){text-align:right}"]}),t})();function TL(t,n){1&t&&(d(0,"div",1)(1,"div",2),f(2,"Player"),u(),d(3,"p"),f(4," The Player tab holds your stats and the panel which allows you to assign stat points. "),u(),d(5,"p"),f(6," Each stat, in addition to having a direct effect, has a secondary effect that scales with its' value, subject to diminishing returns. "),u(),d(7,"p"),f(8," Resetting stats costs some scrap, with the cost scaling with the number of stat points spent. "),u(),d(9,"p"),f(10," When leveling up, you gain one point in each stat, plus another point in the stat that relates to your equipped weapon, as well as an additional stat point to spend freely. "),u(),d(11,"p"),f(12," The Constitution stat has a chance to gain two points on level up instead of one. "),u(),d(13,"div",2),f(14,"Combat"),u(),d(15,"p"),f(16," The combat tab plays host to the combat log, and functions related to combat. "),u(),d(17,"p"),f(18," While not in combat, there are buttons here to repair equipment, look for a fight, or engage the area boss once you've reached the level cap for the zone. "),u(),d(19,"p"),f(20," During combat, these buttons are replaced with in-combat functions - the ability to flee, activate a burst attack, or use your equipped potion. "),u(),d(21,"p"),f(22," Upon entering combat, both combatants will trade blows until one of them emerges victorious. "),u(),d(23,"p"),f(24," If you win, you are given the enemy's equipped items, some experience and some seeds. If you lose, you'll be penalised a percentage of the experience you have on hand. "),u(),d(25,"p"),f(26," The burst attack is an instant strike delivered with your equipped weapon, with a base cooldown of 10 seconds. "),u(),d(27,"div",3)(28,"h2"),f(29,"Debuffs"),u()(),d(30,"p"),f(31," Higher quality weapons can possess one of ten unique debuffs, which activate to assist in combat. These are as follows: "),u(),d(32,"ul")(33,"li")(34,"strong"),f(35,"Armour Shred"),u(),f(36," - Causes attacks to ignore any resistances on the victim's armour while active."),u(),d(37,"li")(38,"strong"),f(39,"Multistrike"),u(),f(40," - Causes attacks against the victim to trigger a second instant hit for half the damage of the first."),u(),d(41,"li")(42,"strong"),f(43,"Drain"),u(),f(44," - Causes attacks against the victim to heal the attacker for a percentage of their health."),u(),d(45,"li")(46,"strong"),f(47,"Slow"),u(),f(48," - Causes the delay between the victim's attacks to increase."),u(),d(49,"li")(50,"strong"),f(51,"Confuse"),u(),f(52," - Causes the victim's next attack to be aimed at themselves."),u(),d(53,"li")(54,"strong"),f(55,"Bleed"),u(),f(56," - Causes the victim to lose a percentage of their health every second while active."),u(),d(57,"li")(58,"strong"),f(59,"Paralysis"),u(),f(60," - Causes the victim's attacks to occasionally fail."),u(),d(61,"li")(62,"strong"),f(63,"Doom"),u(),f(64," - The victim has a chance to die instantly after a short duration, taking significant damage if they are not instantly killed."),u(),d(65,"li")(66,"strong"),f(67,"Disarm"),u(),f(68," - Causes the victim to use their fists or other appendages to attack instead of their weapon."),u(),d(69,"li")(70,"strong"),f(71,"Sleep"),u(),f(72," - Causes the victim to fall asleep, preventing them from attacking. Can be broken prematurely by incoming attacks."),u()(),d(73,"div",2),f(74,"Zones"),u(),d(75,"p"),f(76," The game features a total of fourteen different zones, accessible via the Zones tab once you defeat your first area boss. "),u(),d(77,"p"),f(78," Each zone has a level range, which dictates the power of monsters that can be found there, as well as the items you can purchase from the store. "),u(),d(79,"p"),f(80," Since the level of items generated in the store is capped based on your current level and the zone level, moving to the highest zone you can reach ensures that store items are the best they can be. "),u(),d(81,"div",2),f(82,"Skills"),u(),d(83,"p"),f(84," The game's three skill trees become available once you have earned your first skill point at level 5, and points are earned every other level afterwards. "),u(),d(85,"ul")(86,"li"),f(87,"The "),d(88,"strong"),f(89,"Offence"),u(),f(90," tree focuses on effects that increase damage dealt to enemies, and effects that occur when attacking."),u(),d(91,"li"),f(92,"The "),d(93,"strong"),f(94,"Defence"),u(),f(95," tree focuses on effects that reduce damage taken from enemies, and effects that occur when attacked."),u(),d(96,"li"),f(97,"The "),d(98,"strong"),f(99,"Support"),u(),f(100," tree focuses on effects that don't fit into either of the other trees, such as boosted resource gains or experience."),u()(),d(101,"p"),f(102," The Skills tab lets you interact with the skill trees once it becomes available. Skill points can be moved at will between skills at any time, even in combat. "),u(),d(103,"p"),f(104," Skills that are not yet available to upgrade will be faded out - these will open up as you raise existing skills to their maximum level. "),u(),d(105,"div",2),f(106,"Items"),u(),d(107,"p"),f(108," The Items tab lists all of your currently held items, and provides various options for what you can do with them: "),u(),d(109,"ul")(110,"li"),f(111,"Items can be equipped at any time (even during battles), which is useful to know if you need a change of tack for a given encounter."),u(),d(112,"li"),f(113,"Items can be sold for seeds, which are then used to buy new items in the store or upgrade existing ones."),u(),d(114,"li"),f(115,"Items can be scrapped, which provides the scrap you need for other upgrades and modifications."),u(),d(116,"li"),f(117,"Items can be discarded, for when you just don't care about them."),u(),d(118,"li"),f(119,"Items can be locked, which prevents all actions against them other than equipping them - this includes the inventory cleaning function."),u(),d(120,"li"),f(121,"Equipped items can be repaired. While the repair function is running, you may change your equipment at will - the function stops once all currently equipped items are repaired."),u()(),d(122,"p"),f(123," The 'Clean Inventory' button will process all unlocked items you are currently carrying, performing a specific action on each one based on choices made on the Options tab. "),u(),d(124,"p"),f(125," This function will not touch Potions, regardless of locked status. "),u(),d(126,"div",3)(127,"h2"),f(128,"Durability and Decay"),u()(),d(129,"p"),f(130," Equipped items will become damaged as they are used - the amount of durability they can have scales with their level. "),u(),d(131,"p"),f(132," When an item reaches zero durability, it breaks, losing some of its' functionality: "),u(),d(133,"ul")(134,"li"),f(135,"Weapons have their damage values halved, and no longer apply their debuffs."),u(),d(136,"li"),f(137,"Armour pieces lose their positive protection stats - negative stats will still have an effect."),u()(),d(138,"p"),f(139," Repairing items is free, only taking time. The speed of repairing items scales with your level. You may end the repairing state early by entering combat. "),u(),d(140,"div",3)(141,"h2"),f(142,"Item Quality"),u()(),d(143,"p"),f(144," Items in the game can be generated with one of 5 quality levels (in order of least to most powerful): "),u(),d(145,"p",3)(146,"span",4),f(147,"Poor"),u(),f(148," -> "),d(149,"span",5),f(150,"Normal"),u(),f(151," -> "),d(152,"span",6),f(153,"Good"),u(),f(154," -> "),d(155,"span",7),f(156,"Great"),u(),f(157," -> "),d(158,"span",8),f(159,"Amazing"),u()(),d(160,"p"),f(161," While a sixth quality level does exist, it is not attainable by players, and is used entirely for equipment held by area bosses. "),u(),d(162,"div",2),f(163,"Store"),u(),d(164,"p"),f(165," The Store tab is your one-stop shop for acquiring new equipment, as well as upgrading existing pieces that you wish to keep. It has the following functions: "),u(),d(166,"ul")(167,"li"),f(168,"Spend seeds to upgrade your equipment's level, improving its' stats."),u(),d(169,"li"),f(170,"Spend scrap to upgrade your equipment's quality, which makes its' stats scale better with levels and sometimes adds new effects."),u(),d(171,"li"),f(172,"Spend seeds to acquire new equipment and potions."),u(),d(173,"li"),f(174,"Spend scrap to apply a new debuff to an existing weapon of Good quality or better."),u()(),d(175,"p"),f(176," The shop will periodically restock, and a manual restock can be forced by moving between zones if you have more than one available. "),u(),d(177,"div",2),f(178,"Updates"),u(),d(179,"p"),f(180," Information about the last major game update appears in the Updates tab. "),u(),d(181,"div",2),f(182,"Badges"),u(),d(183,"p"),f(184," Badges are one-time awards for performing certain actions or meeting certain criteria as you play the game, and the Badges tab shows which ones are available and which ones are earned. "),u(),d(185,"p"),f(186," Each badge earned increases experience and seeds gained from combat by 2%, after all other effects and modifiers. "),u(),d(187,"div",2),f(188,"Options"),u(),d(189,"p"),f(190," The options tab provides controls for some of the game's systems: "),u(),d(191,"ul")(192,"li")(193,"p"),f(194,"The Auto-battle system is what makes the game semi-idle."),u(),d(195,"p"),f(196,"It takes care of most of the game's core loop - the fighting, repairing and selling of items, leaving the player to make other decisions."),u(),d(197,"p"),f(198,"It won't change your equipment, make purchases on your behalf, spend stat or skill points, or attempt to fight area bosses."),u()(),d(199,"li")(200,"p"),f(201,"The inventory cleaning function makes item management easier, by running a bulk operation when you click the button on the Items tab."),u(),d(202,"p"),f(203,"The controls here determine what happens to each item type and quality when that button is pressed."),u(),d(204,"p"),f(205,"The auto-battle system uses this function as part of its' operation, and will in fact halt if the inventory remains full once this function has been triggered."),u()(),d(206,"li")(207,"p"),f(208,"The 'Save Game' and 'Reset Game' buttons are, hopefully, self-explanatory - but they have a note attached to them just in case!"),u()()(),d(209,"div",2),f(210,"Keybindings"),u(),d(211,"p"),f(212," A number of the game's functions are quickly and easily accessible via keyboard buttons. These are as follows: "),u(),d(213,"ul")(214,"li")(215,"kbd"),f(216,"1"),u(),f(217," - Focuses the UI on the Player tab."),u(),d(218,"li")(219,"kbd"),f(220,"2"),u(),f(221," - Focuses the UI on the Combat tab."),u(),d(222,"li")(223,"kbd"),f(224,"3"),u(),f(225," - Focuses the UI on the Zones tab."),u(),d(226,"li")(227,"kbd"),f(228,"4"),u(),f(229," - Focuses the UI on the Skills tab."),u(),d(230,"li")(231,"kbd"),f(232,"5"),u(),f(233," - Focuses the UI on the Items tab."),u(),d(234,"li")(235,"kbd"),f(236,"6"),u(),f(237," - Focuses the UI on the Store tab."),u(),d(238,"li")(239,"kbd"),f(240,"7"),u(),f(241," - Focuses the UI on the Help tab."),u(),d(242,"li")(243,"kbd"),f(244,"8"),u(),f(245," - Focuses the UI on the Updates tab."),u(),d(246,"li")(247,"kbd"),f(248,"9"),u(),f(249," - Focuses the UI on the Badges tab."),u(),d(250,"li")(251,"kbd"),f(252,"0"),u(),f(253," - Focuses the UI on the Options tab."),u(),d(254,"li")(255,"kbd"),f(256,"B"),u(),f(257," - Triggers a Burst Attack when in combat."),u(),d(258,"li")(259,"kbd"),f(260,"C"),u(),f(261," - Enters combat, if it isn't already in progress."),u(),d(262,"li")(263,"kbd"),f(264,"R"),u(),f(265," - Begins repairing your equipment."),u(),d(266,"li")(267,"kbd"),f(268,"F"),u(),f(269," - Flees from combat, if it is in progress."),u(),d(270,"li")(271,"kbd"),f(272,"S"),u(),f(273," - Save the game, if out of combat."),u()()())}let kL=(()=>{class t{constructor(e){this.playerService=e}ngOnInit(){this.playerService.getPlayer().subscribe(e=>this.player=e)}}return t.\u0275fac=function(e){return new(e||t)(E(Ie))},t.\u0275cmp=Ye({type:t,selectors:[["app-help"]],decls:1,vars:1,consts:[["style","padding: 0 2rem",4,"ngIf"],[2,"padding","0 2rem"],[1,"powerHeader"],[2,"text-align","center"],[1,"q1"],[1,"q2"],[1,"q3"],[1,"q4"],[1,"q5"]],template:function(e,r){1&e&&P(0,TL,274,0,"div",0),2&e&&v("ngIf",7===r.player.selectedTab)},dependencies:[tt]}),t})(),ML=(()=>{class t{ngOnInit(){null!==localStorage.getItem("realmData")?(this.saveService.load(),this.playerService.getPlayer().subscribe(e=>this.player=e)):(this.playerService.getPlayer().subscribe(e=>this.player=e),this.player.strength=this.util.RNG(5,7),this.player.dexterity=this.util.RNG(5,7),this.player.intelligence=this.util.RNG(5,7),this.player.constitution=this.util.RNG(5,7),this.player.maxHP=15*this.player.constitution+this.util.RNG(25,30),this.player.hp=this.player.maxHP,this.player.xp=0,this.player.maxXP=this.util.xpForLevel(this.player.level),this.player.weapon=this.inventoryService.createWeapon(1),this.player.armour=this.inventoryService.createArmour(1),this.player.potion=this.inventoryService.createPotion(),this.storeService.shopRestock(),this.saveService.save()),window.setInterval(()=>{this.gameService.idleLoop()},1e3),window.setInterval(()=>{this.storeService.shopRestock()},3e5)}constructor(e,r,i,o,s,a,l,c){this.playerService=e,this.saveService=r,this.util=i,this.zoneService=o,this.gameService=s,this.inventoryService=a,this.storeService=l,this.title="Realm of Decay",this.combatService=c}}return t.\u0275fac=function(e){return new(e||t)(E(Ie),E(_l),E(Fi),E(Oi),E(Tf),E(Li),E(vl),E(Jo))},t.\u0275cmp=Ye({type:t,selectors:[["app-root"]],decls:13,vars:0,consts:[["id","main",1,"gameWrapper"]],template:function(e,r){1&e&&(d(0,"div",0),T(1,"app-status")(2,"app-tabs")(3,"app-player")(4,"app-combat")(5,"app-zones")(6,"app-skills")(7,"app-inventory")(8,"app-store")(9,"app-help")(10,"app-options")(11,"app-updates")(12,"app-badges"),u())},dependencies:[NO,OO,GO,XO,iF,aF,cF,vF,rL,lL,EL,kL],styles:[".gameWrapper[_ngcontent-%COMP%]{background-color:#260000;max-width:1000px;margin:0 auto;border:2px solid #666666;padding:10px;border-radius:10px}"]}),t})(),IL=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=_n({type:t,bootstrap:[ML]}),t.\u0275inj=Jt({imports:[nb,sx,rO,CO.forRoot()]}),t})();J2().bootstrapModule(IL).catch(t=>console.error(t))}},jr=>{jr(jr.s=114)}]);